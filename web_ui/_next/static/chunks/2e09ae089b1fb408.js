(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79611,(t,e,i)=>{var s={675:function(t,e){"use strict";e.byteLength=function(t){var e=o(t),i=e[0],s=e[1];return(i+s)*3/4-s},e.toByteArray=function(t){var e,i,n=o(t),l=n[0],h=n[1],a=new r((l+h)*3/4-h),u=0,c=h>0?l-4:l;for(i=0;i<c;i+=4)e=s[t.charCodeAt(i)]<<18|s[t.charCodeAt(i+1)]<<12|s[t.charCodeAt(i+2)]<<6|s[t.charCodeAt(i+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;return 2===h&&(e=s[t.charCodeAt(i)]<<2|s[t.charCodeAt(i+1)]>>4,a[u++]=255&e),1===h&&(e=s[t.charCodeAt(i)]<<10|s[t.charCodeAt(i+1)]<<4|s[t.charCodeAt(i+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e),a},e.fromByteArray=function(t){for(var e,s=t.length,r=s%3,n=[],l=0,h=s-r;l<h;l+=16383)n.push(function(t,e,s){for(var r,n=[],l=e;l<s;l+=3)r=(t[l]<<16&0xff0000)+(t[l+1]<<8&65280)+(255&t[l+2]),n.push(i[r>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return n.join("")}(t,l,l+16383>h?h:l+16383));return 1===r?n.push(i[(e=t[s-1])>>2]+i[e<<4&63]+"=="):2===r&&n.push(i[(e=(t[s-2]<<8)+t[s-1])>>10]+i[e>>4&63]+i[e<<2&63]+"="),n.join("")};for(var i=[],s=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,h=n.length;l<h;++l)i[l]=n[l],s[n.charCodeAt(l)]=l;function o(t){var e=t.length;if(e%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var s=i===e?0:4-i%4;return[i,s]}s[45]=62,s[95]=63},72:function(t,e,i){"use strict";var s=i(675),r=i(783),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function l(t){if(t>0x7fffffff)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,i){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return u(t)}return o(t,e,i)}function o(t,e,i){if("string"==typeof t){var s=t,r=e;if(("string"!=typeof r||""===r)&&(r="utf8"),!h.isEncoding(r))throw TypeError("Unknown encoding: "+r);var n=0|f(s,r),o=l(n),a=o.write(s,r);return a!==n&&(o=o.slice(0,a)),o}if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(P(t,ArrayBuffer)||t&&P(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(t,SharedArrayBuffer)||t&&P(t.buffer,SharedArrayBuffer)))return function(t,e,i){var s;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(s=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),h.prototype),s}(t,e,i);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var u=t.valueOf&&t.valueOf();if(null!=u&&u!==t)return h.from(u,e,i);var p=function(t){if(h.isBuffer(t)){var e=0|d(t.length),i=l(e);return 0===i.length||t.copy(i,0,0,e),i}return void 0!==t.length?"number"!=typeof t.length||function(t){return t!=t}(t.length)?l(0):c(t):"Buffer"===t.type&&Array.isArray(t.data)?c(t.data):void 0}(t);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function a(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return a(t),l(t<0?0:0|d(t))}function c(t){for(var e=t.length<0?0:0|d(t.length),i=l(e),s=0;s<e;s+=1)i[s]=255&t[s];return i}e.Buffer=h,e.SlowBuffer=function(t){return+t!=t&&(t=0),h.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,i){return o(t,e,i)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,i){return(a(t),t<=0)?l(t):void 0!==e?"string"==typeof i?l(t).fill(e,i):l(t).fill(e):l(t)},h.allocUnsafe=function(t){return u(t)},h.allocUnsafeSlow=function(t){return u(t)};function d(t){if(t>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function f(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||P(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,s=arguments.length>2&&!0===arguments[2];if(!s&&0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return N(t).length;default:if(r)return s?-1:M(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,i){var r,n,l,h=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,i){var s=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>s)&&(i=s);for(var r="",n=e;n<i;++n)r+=j[t[n]];return r}(this,e,i);case"utf8":case"utf-8":return v(this,e,i);case"ascii":return function(t,e,i){var s="";i=Math.min(t.length,i);for(var r=e;r<i;++r)s+=String.fromCharCode(127&t[r]);return s}(this,e,i);case"latin1":case"binary":return function(t,e,i){var s="";i=Math.min(t.length,i);for(var r=e;r<i;++r)s+=String.fromCharCode(t[r]);return s}(this,e,i);case"base64":return r=this,n=e,l=i,0===n&&l===r.length?s.fromByteArray(r):s.fromByteArray(r.slice(n,l));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){for(var s=t.slice(e,i),r="",n=0;n<s.length;n+=2)r+=String.fromCharCode(s[n]+256*s[n+1]);return r}(this,e,i);default:if(h)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),h=!0}}function m(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function g(t,e,i,s,r){var n;if(0===t.length)return -1;if("string"==typeof i?(s=i,i=0):i>0x7fffffff?i=0x7fffffff:i<-0x80000000&&(i=-0x80000000),(n=i*=1)!=n&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length)if(r)return -1;else i=t.length-1;else if(i<0)if(!r)return -1;else i=0;if("string"==typeof e&&(e=h.from(e,s)),h.isBuffer(e))return 0===e.length?-1:b(t,e,i,s,r);if("number"==typeof e){if(e&=255,"function"==typeof Uint8Array.prototype.indexOf)if(r)return Uint8Array.prototype.indexOf.call(t,e,i);else return Uint8Array.prototype.lastIndexOf.call(t,e,i);return b(t,[e],i,s,r)}throw TypeError("val must be string, number or Buffer")}function b(t,e,i,s,r){var n,l=1,h=t.length,o=e.length;if(void 0!==s&&("ucs2"===(s=String(s).toLowerCase())||"ucs-2"===s||"utf16le"===s||"utf-16le"===s)){if(t.length<2||e.length<2)return -1;l=2,h/=2,o/=2,i/=2}function a(t,e){return 1===l?t[e]:t.readUInt16BE(e*l)}if(r){var u=-1;for(n=i;n<h;n++)if(a(t,n)===a(e,-1===u?0:n-u)){if(-1===u&&(u=n),n-u+1===o)return u*l}else -1!==u&&(n-=n-u),u=-1}else for(i+o>h&&(i=h-o),n=i;n>=0;n--){for(var c=!0,d=0;d<o;d++)if(a(t,n+d)!==a(e,d)){c=!1;break}if(c)return n}return -1}h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(P(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),P(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,s=e.length,r=0,n=Math.min(i,s);r<n;++r)if(t[r]!==e[r]){i=t[r],s=e[r];break}return i<s?-1:+(s<i)},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(i=0,e=0;i<t.length;++i)e+=t[i].length;var i,s=h.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var n=t[i];if(P(n,Uint8Array)&&(n=h.from(n)),!h.isBuffer(n))throw TypeError('"list" argument must be an Array of Buffers');n.copy(s,r),r+=n.length}return s},h.byteLength=f,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},h.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?v(this,0,t):p.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(t,e,i,s,r){if(P(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===s&&(s=0),void 0===r&&(r=this.length),e<0||i>t.length||s<0||r>this.length)throw RangeError("out of range index");if(s>=r&&e>=i)return 0;if(s>=r)return -1;if(e>=i)return 1;if(e>>>=0,i>>>=0,s>>>=0,r>>>=0,this===t)return 0;for(var n=r-s,l=i-e,o=Math.min(n,l),a=this.slice(s,r),u=t.slice(e,i),c=0;c<o;++c)if(a[c]!==u[c]){n=a[c],l=u[c];break}return n<l?-1:+(l<n)},h.prototype.includes=function(t,e,i){return -1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return g(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return g(this,t,e,i,!1)};function v(t,e,i){i=Math.min(t.length,i);for(var s=[],r=e;r<i;){var n,l,h,o,a=t[r],u=null,c=a>239?4:a>223?3:a>191?2:1;if(r+c<=i)switch(c){case 1:a<128&&(u=a);break;case 2:(192&(n=t[r+1]))==128&&(o=(31&a)<<6|63&n)>127&&(u=o);break;case 3:n=t[r+1],l=t[r+2],(192&n)==128&&(192&l)==128&&(o=(15&a)<<12|(63&n)<<6|63&l)>2047&&(o<55296||o>57343)&&(u=o);break;case 4:n=t[r+1],l=t[r+2],h=t[r+3],(192&n)==128&&(192&l)==128&&(192&h)==128&&(o=(15&a)<<18|(63&n)<<12|(63&l)<<6|63&h)>65535&&o<1114112&&(u=o)}null===u?(u=65533,c=1):u>65535&&(u-=65536,s.push(u>>>10&1023|55296),u=56320|1023&u),s.push(u),r+=c}var d=s,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=4096));return p}function x(t,e,i){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>i)throw RangeError("Trying to access beyond buffer length")}function w(t,e,i,s,r,n){if(!h.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<n)throw RangeError('"value" argument is out of bounds');if(i+s>t.length)throw RangeError("Index out of range")}function y(t,e,i,s,r,n){if(i+s>t.length||i<0)throw RangeError("Index out of range")}function k(t,e,i,s,n){return e*=1,i>>>=0,n||y(t,e,i,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,i,s,23,4),i+4}function S(t,e,i,s,n){return e*=1,i>>>=0,n||y(t,e,i,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,i,s,52,8),i+8}h.prototype.write=function(t,e,i,s){if(void 0===e)s="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)s=e,i=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(i)?(i>>>=0,void 0===s&&(s="utf8")):(s=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var r,n,l,h,o,a,u,c,d=this.length-e;if((void 0===i||i>d)&&(i=d),t.length>0&&(i<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var f=!1;;)switch(s){case"hex":return function(t,e,i,s){i=Number(i)||0;var r=t.length-i;s?(s=Number(s))>r&&(s=r):s=r;var n=e.length;s>n/2&&(s=n/2);for(var l=0;l<s;++l){var h,o=parseInt(e.substr(2*l,2),16);if((h=o)!=h)break;t[i+l]=o}return l}(this,t,e,i);case"utf8":case"utf-8":return r=e,n=i,C(M(t,this.length-r),this,r,n);case"ascii":return l=e,h=i,C(E(t),this,l,h);case"latin1":case"binary":return function(t,e,i,s){return C(E(e),t,i,s)}(this,t,e,i);case"base64":return o=e,a=i,C(N(t),this,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,c=i,C(function(t,e){for(var i,s,r=[],n=0;n<t.length&&!((e-=2)<0);++n)s=(i=t.charCodeAt(n))>>8,r.push(i%256),r.push(s);return r}(t,this.length-u),this,u,c);default:if(f)throw TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),f=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var s=this.subarray(t,e);return Object.setPrototypeOf(s,h.prototype),s},h.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||x(t,e,this.length);for(var s=this[t],r=1,n=0;++n<e&&(r*=256);)s+=this[t+n]*r;return s},h.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||x(t,e,this.length);for(var s=this[t+--e],r=1;e>0&&(r*=256);)s+=this[t+--e]*r;return s},h.prototype.readUInt8=function(t,e){return t>>>=0,e||x(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||x(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||x(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+0x1000000*this[t+3]},h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||x(t,4,this.length),0x1000000*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||x(t,e,this.length);for(var s=this[t],r=1,n=0;++n<e&&(r*=256);)s+=this[t+n]*r;return s>=(r*=128)&&(s-=Math.pow(2,8*e)),s},h.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||x(t,e,this.length);for(var s=e,r=1,n=this[t+--s];s>0&&(r*=256);)n+=this[t+--s]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readInt8=function(t,e){return(t>>>=0,e||x(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||x(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?0xffff0000|i:i},h.prototype.readInt16BE=function(t,e){t>>>=0,e||x(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?0xffff0000|i:i},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return t>>>=0,e||x(t,4,this.length),r.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||x(t,4,this.length),r.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||x(t,8,this.length),r.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||x(t,8,this.length),r.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,s){if(t*=1,e>>>=0,i>>>=0,!s){var r=Math.pow(2,8*i)-1;w(this,t,e,i,r,0)}var n=1,l=0;for(this[e]=255&t;++l<i&&(n*=256);)this[e+l]=t/n&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,s){if(t*=1,e>>>=0,i>>>=0,!s){var r=Math.pow(2,8*i)-1;w(this,t,e,i,r,0)}var n=i-1,l=1;for(this[e+n]=255&t;--n>=0&&(l*=256);)this[e+n]=t/l&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUInt16BE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUInt32LE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,4,0xffffffff,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUInt32BE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,4,0xffffffff,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeIntLE=function(t,e,i,s){if(t*=1,e>>>=0,!s){var r=Math.pow(2,8*i-1);w(this,t,e,i,r-1,-r)}var n=0,l=1,h=0;for(this[e]=255&t;++n<i&&(l*=256);)t<0&&0===h&&0!==this[e+n-1]&&(h=1),this[e+n]=(t/l|0)-h&255;return e+i},h.prototype.writeIntBE=function(t,e,i,s){if(t*=1,e>>>=0,!s){var r=Math.pow(2,8*i-1);w(this,t,e,i,r-1,-r)}var n=i-1,l=1,h=0;for(this[e+n]=255&t;--n>=0&&(l*=256);)t<0&&0===h&&0!==this[e+n+1]&&(h=1),this[e+n]=(t/l|0)-h&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,4,0x7fffffff,-0x80000000),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,i){return t*=1,e>>>=0,i||w(this,t,e,4,0x7fffffff,-0x80000000),t<0&&(t=0xffffffff+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeFloatLE=function(t,e,i){return k(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return k(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return S(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return S(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,s){if(!h.isBuffer(t))throw TypeError("argument should be a Buffer");if(i||(i=0),s||0===s||(s=this.length),e>=t.length&&(e=t.length),e||(e=0),s>0&&s<i&&(s=i),s===i||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(s<0)throw RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-e<s-i&&(s=t.length-e+i);var r=s-i;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,i,s);else if(this===t&&i<e&&e<s)for(var n=r-1;n>=0;--n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,s),e);return r},h.prototype.fill=function(t,e,i,s){if("string"==typeof t){if("string"==typeof e?(s=e,e=0,i=this.length):"string"==typeof i&&(s=i,i=this.length),void 0!==s&&"string"!=typeof s)throw TypeError("encoding must be a string");if("string"==typeof s&&!h.isEncoding(s))throw TypeError("Unknown encoding: "+s);if(1===t.length){var r,n=t.charCodeAt(0);("utf8"===s&&n<128||"latin1"===s)&&(t=n)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw RangeError("Out of range index");if(i<=e)return this;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(r=e;r<i;++r)this[r]=t;else{var l=h.isBuffer(t)?t:h.from(t,s),o=l.length;if(0===o)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(r=0;r<i-e;++r)this[r+e]=l[r%o]}return this};var _=/[^+/0-9A-Za-z-_]/g;function M(t,e){e=e||1/0;for(var i,s=t.length,r=null,n=[],l=0;l<s;++l){if((i=t.charCodeAt(l))>55295&&i<57344){if(!r){if(i>56319||l+1===s){(e-=3)>-1&&n.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&n.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(e-=3)>-1&&n.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return n}function E(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function N(t){return s.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function C(t,e,i,s){for(var r=0;r<s&&!(r+i>=e.length)&&!(r>=t.length);++r)e[r+i]=t[r];return r}function P(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var j=function(){for(var t="0123456789abcdef",e=Array(256),i=0;i<16;++i)for(var s=16*i,r=0;r<16;++r)e[s+r]=t[i]+t[r];return e}()},783:function(t,e){e.read=function(t,e,i,s,r){var n,l,h=8*r-s-1,o=(1<<h)-1,a=o>>1,u=-7,c=i?r-1:0,d=i?-1:1,f=t[e+c];for(c+=d,n=f&(1<<-u)-1,f>>=-u,u+=h;u>0;n=256*n+t[e+c],c+=d,u-=8);for(l=n&(1<<-u)-1,n>>=-u,u+=s;u>0;l=256*l+t[e+c],c+=d,u-=8);if(0===n)n=1-a;else{if(n===o)return l?NaN:1/0*(f?-1:1);l+=Math.pow(2,s),n-=a}return(f?-1:1)*l*Math.pow(2,n-s)},e.write=function(t,e,i,s,r,n){var l,h,o,a=8*n-r-1,u=(1<<a)-1,c=u>>1,d=5960464477539062e-23*(23===r),f=s?0:n-1,p=s?1:-1,m=+(e<0||0===e&&1/e<0);for(isNaN(e=Math.abs(e))||e===1/0?(h=+!!isNaN(e),l=u):(l=Math.floor(Math.log(e)/Math.LN2),e*(o=Math.pow(2,-l))<1&&(l--,o*=2),l+c>=1?e+=d/o:e+=d*Math.pow(2,1-c),e*o>=2&&(l++,o/=2),l+c>=u?(h=0,l=u):l+c>=1?(h=(e*o-1)*Math.pow(2,r),l+=c):(h=e*Math.pow(2,c-1)*Math.pow(2,r),l=0));r>=8;t[i+f]=255&h,f+=p,h/=256,r-=8);for(l=l<<r|h,a+=r;a>0;t[i+f]=255&l,f+=p,l/=256,a-=8);t[i+f-p]|=128*m}}},r={};function n(t){var e=r[t];if(void 0!==e)return e.exports;var i=r[t]={exports:{}},l=!0;try{s[t](i,i.exports,n),l=!1}finally{l&&delete r[t]}return i.exports}n.ab="/ROOT/Desktop/trading_terminal/alpha-quant/node_modules/next/dist/compiled/buffer/",e.exports=n(72)},73233,t=>{"use strict";let e,i,s,r;var n,l,h,o,a,u,c,d,f,p,m,g,b,v,x,w,y,k,S,_,M,E,N,C,P=t.i(33492),j=t.i(66007);let R=t=>{let e=t.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());return e.charAt(0).toUpperCase()+e.slice(1)},z=(...t)=>t.filter((t,e,i)=>!!t&&""!==t.trim()&&i.indexOf(t)===e).join(" ").trim();var T={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let O=(0,j.forwardRef)(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:r="",children:n,iconNode:l,...h},o)=>(0,j.createElement)("svg",{ref:o,...T,width:e,height:e,stroke:t,strokeWidth:s?24*Number(i)/Number(e):i,className:z("lucide",r),...!n&&!(t=>{for(let e in t)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0})(h)&&{"aria-hidden":"true"},...h},[...l.map(([t,e])=>(0,j.createElement)(t,e)),...Array.isArray(n)?n:[n]])),F=(t,e)=>{let i=(0,j.forwardRef)(({className:i,...s},r)=>(0,j.createElement)(O,{ref:r,iconNode:e,className:z(`lucide-${R(t).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,i),...s}));return i.displayName=R(t),i},L=F("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),A=F("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),B=F("chart-no-axes-column",[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]]),D=F("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),V=F("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),I=({activeTab:t,onSwitch:e})=>{let i=[{id:"dashboard",icon:L,label:"Hub"},{id:"chart",icon:A,label:"Market"},{id:"analytics",icon:B,label:"Stats"},{id:"history",icon:D,label:"History"},{id:"settings",icon:V,label:"Config"}];return(0,P.jsx)("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50",children:(0,P.jsx)("div",{className:"px-3 py-2.5 rounded-[28px] flex items-center gap-1",style:{background:"rgba(28, 28, 30, 0.75)",backdropFilter:"blur(50px) saturate(200%)",WebkitBackdropFilter:"blur(50px) saturate(200%)",boxShadow:`
                        0 20px 60px rgba(0, 0, 0, 0.5),
                        0 0 0 1px rgba(255, 255, 255, 0.06),
                        inset 0 1px 0 rgba(255, 255, 255, 0.05)
                    `},children:i.map(i=>{let s=t===i.id;return(0,P.jsxs)("button",{onClick:()=>e(i.id),className:"group relative flex flex-col items-center justify-center w-14 h-14 rounded-2xl transition-all duration-300 active:scale-90",style:{background:s?"rgba(255, 255, 255, 0.12)":"transparent",boxShadow:s?"inset 0 0 0 1px rgba(255, 255, 255, 0.08)":"none"},children:[(0,P.jsx)(i.icon,{size:22,strokeWidth:s?2.2:1.8,className:`transition-all duration-300 ${s?"text-white":"text-gray-500 group-hover:text-gray-300"}`}),(0,P.jsx)("span",{className:`text-[9px] font-semibold mt-1 tracking-wide transition-all duration-300 ${s?"text-white":"text-gray-500 group-hover:text-gray-400"}`,children:i.label}),s&&(0,P.jsx)("div",{className:"absolute -bottom-0.5 w-1 h-1 rounded-full bg-white",style:{boxShadow:"0 0 8px 2px rgba(255, 255, 255, 0.6)"}})]},i.id)})})})};var Y=t.i(44324);function U(t,e){return function(){return t.apply(e,arguments)}}let{toString:W}=Object.prototype,{getPrototypeOf:$}=Object,{iterator:q,toStringTag:J}=Symbol,H=(e=Object.create(null),t=>{let i=W.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())}),Q=t=>(t=t.toLowerCase(),e=>H(e)===t),G=t=>e=>typeof e===t,{isArray:X}=Array,K=G("undefined");function Z(t){return null!==t&&!K(t)&&null!==t.constructor&&!K(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}let tt=Q("ArrayBuffer"),te=G("string"),ti=G("function"),ts=G("number"),tr=t=>null!==t&&"object"==typeof t,tn=t=>{if("object"!==H(t))return!1;let e=$(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(J in t)&&!(q in t)},tl=Q("Date"),th=Q("File"),to=Q("Blob"),ta=Q("FileList"),tu=Q("URLSearchParams"),[tc,td,tf,tp]=["ReadableStream","Request","Response","Headers"].map(Q);function tm(t,e,{allOwnKeys:i=!1}={}){let s,r;if(null!=t)if("object"!=typeof t&&(t=[t]),X(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{let r;if(Z(t))return;let n=i?Object.getOwnPropertyNames(t):Object.keys(t),l=n.length;for(s=0;s<l;s++)r=n[s],e.call(null,t[r],r,t)}}function tg(t,e){let i;if(Z(t))return null;e=e.toLowerCase();let s=Object.keys(t),r=s.length;for(;r-- >0;)if(e===(i=s[r]).toLowerCase())return i;return null}let tb="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:t.g,tv=t=>!K(t)&&t!==tb,tx=(i="undefined"!=typeof Uint8Array&&$(Uint8Array),t=>i&&t instanceof i),tw=Q("HTMLFormElement"),ty=(({hasOwnProperty:t})=>(e,i)=>t.call(e,i))(Object.prototype),tk=Q("RegExp"),tS=(t,e)=>{let i=Object.getOwnPropertyDescriptors(t),s={};tm(i,(i,r)=>{let n;!1!==(n=e(i,r,t))&&(s[r]=n||i)}),Object.defineProperties(t,s)},t_=Q("AsyncFunction"),tM=(n="function"==typeof setImmediate,l=ti(tb.postMessage),n?setImmediate:l?(h=`axios@${Math.random()}`,o=[],tb.addEventListener("message",({source:t,data:e})=>{t===tb&&e===h&&o.length&&o.shift()()},!1),t=>{o.push(t),tb.postMessage(h,"*")}):t=>setTimeout(t)),tE="undefined"!=typeof queueMicrotask?queueMicrotask.bind(tb):void 0!==Y.default&&Y.default.nextTick||tM,tN={isArray:X,isArrayBuffer:tt,isBuffer:Z,isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||ti(t.append)&&("formdata"===(e=H(t))||"object"===e&&ti(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&tt(t.buffer)},isString:te,isNumber:ts,isBoolean:t=>!0===t||!1===t,isObject:tr,isPlainObject:tn,isEmptyObject:t=>{if(!tr(t)||Z(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(t){return!1}},isReadableStream:tc,isRequest:td,isResponse:tf,isHeaders:tp,isUndefined:K,isDate:tl,isFile:th,isBlob:to,isRegExp:tk,isFunction:ti,isStream:t=>tr(t)&&ti(t.pipe),isURLSearchParams:tu,isTypedArray:tx,isFileList:ta,forEach:tm,merge:function t(){let{caseless:e,skipUndefined:i}=tv(this)&&this||{},s={},r=(r,n)=>{let l=e&&tg(s,n)||n;tn(s[l])&&tn(r)?s[l]=t(s[l],r):tn(r)?s[l]=t({},r):X(r)?s[l]=r.slice():i&&K(r)||(s[l]=r)};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&tm(arguments[t],r);return s},extend:(t,e,i,{allOwnKeys:s}={})=>(tm(e,(e,s)=>{i&&ti(e)?t[s]=U(e,i):t[s]=e},{allOwnKeys:s}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,i,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),i&&Object.assign(t.prototype,i)},toFlatObject:(t,e,i,s)=>{let r,n,l,h={};if(e=e||{},null==t)return e;do{for(n=(r=Object.getOwnPropertyNames(t)).length;n-- >0;)l=r[n],(!s||s(l,t,e))&&!h[l]&&(e[l]=t[l],h[l]=!0);t=!1!==i&&$(t)}while(t&&(!i||i(t,e))&&t!==Object.prototype)return e},kindOf:H,kindOfTest:Q,endsWith:(t,e,i)=>{t=String(t),(void 0===i||i>t.length)&&(i=t.length),i-=e.length;let s=t.indexOf(e,i);return -1!==s&&s===i},toArray:t=>{if(!t)return null;if(X(t))return t;let e=t.length;if(!ts(e))return null;let i=Array(e);for(;e-- >0;)i[e]=t[e];return i},forEachEntry:(t,e)=>{let i,s=(t&&t[q]).call(t);for(;(i=s.next())&&!i.done;){let s=i.value;e.call(t,s[0],s[1])}},matchAll:(t,e)=>{let i,s=[];for(;null!==(i=t.exec(e));)s.push(i);return s},isHTMLForm:tw,hasOwnProperty:ty,hasOwnProp:ty,reduceDescriptors:tS,freezeMethods:t=>{tS(t,(e,i)=>{if(ti(t)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;if(ti(t[i])){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},toObjectSet:(t,e)=>{let i={};return(X(t)?t:String(t).split(e)).forEach(t=>{i[t]=!0}),i},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,e,i){return e.toUpperCase()+i}),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t*=1)?t:e,findKey:tg,global:tb,isContextDefined:tv,isSpecCompliantForm:function(t){return!!(t&&ti(t.append)&&"FormData"===t[J]&&t[q])},toJSONObject:t=>{let e=Array(10),i=(t,s)=>{if(tr(t)){if(e.indexOf(t)>=0)return;if(Z(t))return t;if(!("toJSON"in t)){e[s]=t;let r=X(t)?[]:{};return tm(t,(t,e)=>{let n=i(t,s+1);K(n)||(r[e]=n)}),e[s]=void 0,r}}return t};return i(t,0)},isAsyncFn:t_,isThenable:t=>t&&(tr(t)||ti(t))&&ti(t.then)&&ti(t.catch),setImmediate:tM,asap:tE,isIterable:t=>null!=t&&ti(t[q])};var tC=t.i(79611);function tP(t,e,i,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}tN.inherits(tP,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tN.toJSONObject(this.config),code:this.code,status:this.status}}});let tj=tP.prototype,tR={};function tz(t){return tN.isPlainObject(t)||tN.isArray(t)}function tT(t){return tN.endsWith(t,"[]")?t.slice(0,-2):t}function tO(t,e,i){return t?t.concat(e).map(function(t,e){return t=tT(t),!i&&e?"["+t+"]":t}).join(i?".":""):e}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tR[t]={value:t}}),Object.defineProperties(tP,tR),Object.defineProperty(tj,"isAxiosError",{value:!0}),tP.from=(t,e,i,s,r,n)=>{let l=Object.create(tj);tN.toFlatObject(t,l,function(t){return t!==Error.prototype},t=>"isAxiosError"!==t);let h=t&&t.message?t.message:"Error",o=null==e&&t?t.code:e;return tP.call(l,h,o,i,s,r),t&&null==l.cause&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",n&&Object.assign(l,n),l};let tF=tN.toFlatObject(tN,{},null,function(t){return/^is[A-Z]/.test(t)}),tL=function(t,e,i){if(!tN.isObject(t))throw TypeError("target must be an object");e=e||new FormData;let s=(i=tN.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(t,e){return!tN.isUndefined(e[t])})).metaTokens,r=i.visitor||a,n=i.dots,l=i.indexes,h=(i.Blob||"undefined"!=typeof Blob&&Blob)&&tN.isSpecCompliantForm(e);if(!tN.isFunction(r))throw TypeError("visitor must be a function");function o(t){if(null===t)return"";if(tN.isDate(t))return t.toISOString();if(tN.isBoolean(t))return t.toString();if(!h&&tN.isBlob(t))throw new tP("Blob is not supported. Use a Buffer instead.");return tN.isArrayBuffer(t)||tN.isTypedArray(t)?h&&"function"==typeof Blob?new Blob([t]):tC.Buffer.from(t):t}function a(t,i,r){let h=t;if(t&&!r&&"object"==typeof t)if(tN.endsWith(i,"{}"))i=s?i:i.slice(0,-2),t=JSON.stringify(t);else{var a;if(tN.isArray(t)&&(a=t,tN.isArray(a)&&!a.some(tz))||(tN.isFileList(t)||tN.endsWith(i,"[]"))&&(h=tN.toArray(t)))return i=tT(i),h.forEach(function(t,s){tN.isUndefined(t)||null===t||e.append(!0===l?tO([i],s,n):null===l?i:i+"[]",o(t))}),!1}return!!tz(t)||(e.append(tO(r,i,n),o(t)),!1)}let u=[],c=Object.assign(tF,{defaultVisitor:a,convertValue:o,isVisitable:tz});if(!tN.isObject(t))throw TypeError("data must be an object");return!function t(i,s){if(!tN.isUndefined(i)){if(-1!==u.indexOf(i))throw Error("Circular reference detected in "+s.join("."));u.push(i),tN.forEach(i,function(i,n){!0===(!(tN.isUndefined(i)||null===i)&&r.call(e,i,tN.isString(n)?n.trim():n,s,c))&&t(i,s?s.concat(n):[n])}),u.pop()}}(t),e};function tA(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(t){return e[t]})}function tB(t,e){this._pairs=[],t&&tL(t,this,e)}let tD=tB.prototype;function tV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tI(t,e,i){let s;if(!e)return t;let r=i&&i.encode||tV;tN.isFunction(i)&&(i={serialize:i});let n=i&&i.serialize;if(s=n?n(e,i):tN.isURLSearchParams(e)?e.toString():new tB(e,i).toString(r)){let e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}tD.append=function(t,e){this._pairs.push([t,e])},tD.toString=function(t){let e=t?function(e){return t.call(this,e,tA)}:tA;return this._pairs.map(function(t){return e(t[0])+"="+e(t[1])},"").join("&")};let tY=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tN.forEach(this.handlers,function(e){null!==e&&t(e)})}},tU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},tW="undefined"!=typeof URLSearchParams?URLSearchParams:tB,t$="undefined"!=typeof FormData?FormData:null,tq="undefined"!=typeof Blob?Blob:null,tJ="undefined"!=typeof window&&"undefined"!=typeof document,tH="object"==typeof navigator&&navigator||void 0,tQ=tJ&&(!tH||0>["ReactNative","NativeScript","NS"].indexOf(tH.product)),tG="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,tX=tJ&&window.location.href||"http://localhost";t.s(["hasBrowserEnv",()=>tJ,"hasStandardBrowserEnv",()=>tQ,"hasStandardBrowserWebWorkerEnv",()=>tG,"navigator",()=>tH,"origin",()=>tX],73557);let tK={...t.i(73557),isBrowser:!0,classes:{URLSearchParams:tW,FormData:t$,Blob:tq},protocols:["http","https","file","blob","url","data"]},tZ=function(t){if(tN.isFormData(t)&&tN.isFunction(t.entries)){let e={};return tN.forEachEntry(t,(t,i)=>{!function t(e,i,s,r){let n=e[r++];if("__proto__"===n)return!0;let l=Number.isFinite(+n),h=r>=e.length;return(n=!n&&tN.isArray(s)?s.length:n,h)?tN.hasOwnProp(s,n)?s[n]=[s[n],i]:s[n]=i:(s[n]&&tN.isObject(s[n])||(s[n]=[]),t(e,i,s[n],r)&&tN.isArray(s[n])&&(s[n]=function(t){let e,i,s={},r=Object.keys(t),n=r.length;for(e=0;e<n;e++)s[i=r[e]]=t[i];return s}(s[n]))),!l}(tN.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0]),i,e,0)}),e}return null},t0={transitional:tU,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){let i,s=e.getContentType()||"",r=s.indexOf("application/json")>-1,n=tN.isObject(t);if(n&&tN.isHTMLForm(t)&&(t=new FormData(t)),tN.isFormData(t))return r?JSON.stringify(tZ(t)):t;if(tN.isArrayBuffer(t)||tN.isBuffer(t)||tN.isStream(t)||tN.isFile(t)||tN.isBlob(t)||tN.isReadableStream(t))return t;if(tN.isArrayBufferView(t))return t.buffer;if(tN.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1){var l,h;return(l=t,h=this.formSerializer,tL(l,new tK.classes.URLSearchParams,{visitor:function(t,e,i,s){return tK.isNode&&tN.isBuffer(t)?(this.append(e,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...h})).toString()}if((i=tN.isFileList(t))||s.indexOf("multipart/form-data")>-1){let e=this.env&&this.env.FormData;return tL(i?{"files[]":t}:t,e&&new e,this.formSerializer)}}if(n||r){e.setContentType("application/json",!1);var o=t;if(tN.isString(o))try{return(0,JSON.parse)(o),tN.trim(o)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(o)}return t}],transformResponse:[function(t){let e=this.transitional||t0.transitional,i=e&&e.forcedJSONParsing,s="json"===this.responseType;if(tN.isResponse(t)||tN.isReadableStream(t))return t;if(t&&tN.isString(t)&&(i&&!this.responseType||s)){let i=e&&e.silentJSONParsing;try{return JSON.parse(t,this.parseReviver)}catch(t){if(!i&&s){if("SyntaxError"===t.name)throw tP.from(t,tP.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tK.classes.FormData,Blob:tK.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tN.forEach(["delete","get","head","post","put","patch"],t=>{t0.headers[t]={}});let t1=tN.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),t2=Symbol("internals");function t5(t){return t&&String(t).trim().toLowerCase()}function t3(t){return!1===t||null==t?t:tN.isArray(t)?t.map(t3):String(t)}function t4(t,e,i,s,r){if(tN.isFunction(s))return s.call(this,e,i);if(r&&(e=i),tN.isString(e)){if(tN.isString(s))return -1!==e.indexOf(s);if(tN.isRegExp(s))return s.test(e)}}class t8{constructor(t){t&&this.set(t)}set(t,e,i){let s=this;function r(t,e,i){let r=t5(e);if(!r)throw Error("header name must be a non-empty string");let n=tN.findKey(s,r);n&&void 0!==s[n]&&!0!==i&&(void 0!==i||!1===s[n])||(s[n||e]=t3(t))}let n=(t,e)=>tN.forEach(t,(t,i)=>r(t,i,e));if(tN.isPlainObject(t)||t instanceof this.constructor)n(t,e);else{let s;if(tN.isString(t)&&(t=t.trim())&&(s=t,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim()))){var l;let i,s,r,h;n((h={},(l=t)&&l.split("\n").forEach(function(t){r=t.indexOf(":"),i=t.substring(0,r).trim().toLowerCase(),s=t.substring(r+1).trim(),!i||h[i]&&t1[i]||("set-cookie"===i?h[i]?h[i].push(s):h[i]=[s]:h[i]=h[i]?h[i]+", "+s:s)}),h),e)}else if(tN.isObject(t)&&tN.isIterable(t)){let i={},s,r;for(let e of t){if(!tN.isArray(e))throw TypeError("Object iterator must return a key-value pair");i[r=e[0]]=(s=i[r])?tN.isArray(s)?[...s,e[1]]:[s,e[1]]:e[1]}n(i,e)}else null!=t&&r(e,t,i)}return this}get(t,e){if(t=t5(t)){let i=tN.findKey(this,t);if(i){let t=this[i];if(!e)return t;if(!0===e){let e,i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;e=s.exec(t);)i[e[1]]=e[2];return i}if(tN.isFunction(e))return e.call(this,t,i);if(tN.isRegExp(e))return e.exec(t);throw TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=t5(t)){let i=tN.findKey(this,t);return!!(i&&void 0!==this[i]&&(!e||t4(this,this[i],i,e)))}return!1}delete(t,e){let i=this,s=!1;function r(t){if(t=t5(t)){let r=tN.findKey(i,t);r&&(!e||t4(i,i[r],r,e))&&(delete i[r],s=!0)}}return tN.isArray(t)?t.forEach(r):r(t),s}clear(t){let e=Object.keys(this),i=e.length,s=!1;for(;i--;){let r=e[i];(!t||t4(this,this[r],r,t,!0))&&(delete this[r],s=!0)}return s}normalize(t){let e=this,i={};return tN.forEach(this,(s,r)=>{let n=tN.findKey(i,r);if(n){e[n]=t3(s),delete e[r];return}let l=t?r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i):String(r).trim();l!==r&&delete e[r],e[l]=t3(s),i[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){let e=Object.create(null);return tN.forEach(this,(i,s)=>{null!=i&&!1!==i&&(e[s]=t&&tN.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){let i=new this(t);return e.forEach(t=>i.set(t)),i}static accessor(t){let e=(this[t2]=this[t2]={accessors:{}}).accessors,i=this.prototype;function s(t){let s=t5(t);if(!e[s]){let r;r=tN.toCamelCase(" "+t),["get","set","has"].forEach(e=>{Object.defineProperty(i,e+r,{value:function(i,s,r){return this[e].call(this,t,i,s,r)},configurable:!0})}),e[s]=!0}}return tN.isArray(t)?t.forEach(s):s(t),this}}function t6(t,e){let i=this||t0,s=e||i,r=t8.from(s.headers),n=s.data;return tN.forEach(t,function(t){n=t.call(i,n,r.normalize(),e?e.status:void 0)}),r.normalize(),n}function t9(t){return!!(t&&t.__CANCEL__)}function t7(t,e,i){tP.call(this,null==t?"canceled":t,tP.ERR_CANCELED,e,i),this.name="CanceledError"}function et(t,e,i){let s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):e(new tP("Request failed with status code "+i.status,[tP.ERR_BAD_REQUEST,tP.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}t8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tN.reduceDescriptors(t8.prototype,({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}}),tN.freezeMethods(t8),tN.inherits(t7,tP,{__CANCEL__:!0});let ee=function(t,e){let i,s=Array(t=t||10),r=Array(t),n=0,l=0;return e=void 0!==e?e:1e3,function(h){let o=Date.now(),a=r[l];i||(i=o),s[n]=h,r[n]=o;let u=l,c=0;for(;u!==n;)c+=s[u++],u%=t;if((n=(n+1)%t)===l&&(l=(l+1)%t),o-i<e)return;let d=a&&o-a;return d?Math.round(1e3*c/d):void 0}},ei=function(t,e){let i,s,r=0,n=1e3/e,l=(e,n=Date.now())=>{r=n,i=null,s&&(clearTimeout(s),s=null),t(...e)};return[(...t)=>{let e=Date.now(),h=e-r;h>=n?l(t,e):(i=t,s||(s=setTimeout(()=>{s=null,l(i)},n-h)))},()=>i&&l(i)]},es=(t,e,i=3)=>{let s=0,r=ee(50,250);return ei(i=>{let n=i.loaded,l=i.lengthComputable?i.total:void 0,h=n-s,o=r(h);s=n,t({loaded:n,total:l,progress:l?n/l:void 0,bytes:h,rate:o||void 0,estimated:o&&l&&n<=l?(l-n)/o:void 0,event:i,lengthComputable:null!=l,[e?"download":"upload"]:!0})},i)},er=(t,e)=>{let i=null!=t;return[s=>e[0]({lengthComputable:i,total:t,loaded:s}),e[1]]},en=t=>(...e)=>tN.asap(()=>t(...e)),el=tK.hasStandardBrowserEnv?(s=new URL(tK.origin),r=tK.navigator&&/(msie|trident)/i.test(tK.navigator.userAgent),t=>(t=new URL(t,tK.origin),s.protocol===t.protocol&&s.host===t.host&&(r||s.port===t.port))):()=>!0,eh=tK.hasStandardBrowserEnv?{write(t,e,i,s,r,n,l){if("undefined"==typeof document)return;let h=[`${t}=${encodeURIComponent(e)}`];tN.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),tN.isString(s)&&h.push(`path=${s}`),tN.isString(r)&&h.push(`domain=${r}`),!0===n&&h.push("secure"),tN.isString(l)&&h.push(`SameSite=${l}`),document.cookie=h.join("; ")},read(t){if("undefined"==typeof document)return null;let e=document.cookie.match(RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function eo(t,e,i){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(s||!1==i)?e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t:e}let ea=t=>t instanceof t8?{...t}:t;function eu(t,e){e=e||{};let i={};function s(t,e,i,s){return tN.isPlainObject(t)&&tN.isPlainObject(e)?tN.merge.call({caseless:s},t,e):tN.isPlainObject(e)?tN.merge({},e):tN.isArray(e)?e.slice():e}function r(t,e,i,r){return tN.isUndefined(e)?tN.isUndefined(t)?void 0:s(void 0,t,i,r):s(t,e,i,r)}function n(t,e){if(!tN.isUndefined(e))return s(void 0,e)}function l(t,e){return tN.isUndefined(e)?tN.isUndefined(t)?void 0:s(void 0,t):s(void 0,e)}function h(i,r,n){return n in e?s(i,r):n in t?s(void 0,i):void 0}let o={url:n,method:n,data:n,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(t,e,i)=>r(ea(t),ea(e),i,!0)};return tN.forEach(Object.keys({...t,...e}),function(s){let n=o[s]||r,l=n(t[s],e[s],s);tN.isUndefined(l)&&n!==h||(i[s]=l)}),i}let ec=t=>{let e=eu({},t),{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:n,headers:l,auth:h}=e;if(e.headers=l=t8.from(l),e.url=tI(eo(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),tN.isFormData(i)){if(tK.hasStandardBrowserEnv||tK.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(tN.isFunction(i.getHeaders)){let t=i.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach(([t,i])=>{e.includes(t.toLowerCase())&&l.set(t,i)})}}if(tK.hasStandardBrowserEnv&&(s&&tN.isFunction(s)&&(s=s(e)),s||!1!==s&&el(e.url))){let t=r&&n&&eh.read(n);t&&l.set(r,t)}return e},ed="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise(function(e,i){var s;let r,n,l,h,o,a,u=ec(t),c=u.data,d=t8.from(u.headers).normalize(),{responseType:f,onUploadProgress:p,onDownloadProgress:m}=u;function g(){h&&h(),o&&o(),u.cancelToken&&u.cancelToken.unsubscribe(r),u.signal&&u.signal.removeEventListener("abort",r)}let b=new XMLHttpRequest;function v(){if(!b)return;let s=t8.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders());et(function(t){e(t),g()},function(t){i(t),g()},{data:f&&"text"!==f&&"json"!==f?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:s,config:t,request:b}),b=null}b.open(u.method.toUpperCase(),u.url,!0),b.timeout=u.timeout,"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||4!==b.readyState||(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(v)},b.onabort=function(){b&&(i(new tP("Request aborted",tP.ECONNABORTED,t,b)),b=null)},b.onerror=function(e){let s=new tP(e&&e.message?e.message:"Network Error",tP.ERR_NETWORK,t,b);s.event=e||null,i(s),b=null},b.ontimeout=function(){let e=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",s=u.transitional||tU;u.timeoutErrorMessage&&(e=u.timeoutErrorMessage),i(new tP(e,s.clarifyTimeoutError?tP.ETIMEDOUT:tP.ECONNABORTED,t,b)),b=null},void 0===c&&d.setContentType(null),"setRequestHeader"in b&&tN.forEach(d.toJSON(),function(t,e){b.setRequestHeader(e,t)}),tN.isUndefined(u.withCredentials)||(b.withCredentials=!!u.withCredentials),f&&"json"!==f&&(b.responseType=u.responseType),m&&([l,o]=es(m,!0),b.addEventListener("progress",l)),p&&b.upload&&([n,h]=es(p),b.upload.addEventListener("progress",n),b.upload.addEventListener("loadend",h)),(u.cancelToken||u.signal)&&(r=e=>{b&&(i(!e||e.type?new t7(null,t,b):e),b.abort(),b=null)},u.cancelToken&&u.cancelToken.subscribe(r),u.signal&&(u.signal.aborted?r():u.signal.addEventListener("abort",r)));let x=(s=u.url,(a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s))&&a[1]||"");x&&-1===tK.protocols.indexOf(x)?i(new tP("Unsupported protocol "+x+":",tP.ERR_BAD_REQUEST,t)):b.send(c||null)})},ef=function*(t,e){let i,s=t.byteLength;if(!e||s<e)return void(yield t);let r=0;for(;r<s;)i=r+e,yield t.slice(r,i),r=i},ep=async function*(t,e){for await(let i of em(t))yield*ef(i,e)},em=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);let e=t.getReader();try{for(;;){let{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},eg=(t,e,i,s)=>{let r,n=ep(t,e),l=0,h=t=>{!r&&(r=!0,s&&s(t))};return new ReadableStream({async pull(t){try{let{done:e,value:s}=await n.next();if(e){h(),t.close();return}let r=s.byteLength;if(i){let t=l+=r;i(t)}t.enqueue(new Uint8Array(s))}catch(t){throw h(t),t}},cancel:t=>(h(t),n.return())},{highWaterMark:2})},{isFunction:eb}=tN,ev=(({Request:t,Response:e})=>({Request:t,Response:e}))(tN.global),{ReadableStream:ex,TextEncoder:ew}=tN.global,ey=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},ek=t=>{let e,{fetch:i,Request:s,Response:r}=t=tN.merge.call({skipUndefined:!0},ev,t),n=i?eb(i):"function"==typeof fetch,l=eb(s),h=eb(r);if(!n)return!1;let o=n&&eb(ex),a=n&&("function"==typeof ew?(e=new ew,t=>e.encode(t)):async t=>new Uint8Array(await new s(t).arrayBuffer())),u=l&&o&&ey(()=>{let t=!1,e=new s(tK.origin,{body:new ex,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),c=h&&o&&ey(()=>tN.isReadableStream(new r("").body)),d={stream:c&&(t=>t.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(t=>{d[t]||(d[t]=(e,i)=>{let s=e&&e[t];if(s)return s.call(e);throw new tP(`Response type '${t}' is not supported`,tP.ERR_NOT_SUPPORT,i)})});let f=async t=>{if(null==t)return 0;if(tN.isBlob(t))return t.size;if(tN.isSpecCompliantForm(t)){let e=new s(tK.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return tN.isArrayBufferView(t)||tN.isArrayBuffer(t)?t.byteLength:(tN.isURLSearchParams(t)&&(t+=""),tN.isString(t))?(await a(t)).byteLength:void 0},p=async(t,e)=>{let i=tN.toFiniteNumber(t.getContentLength());return null==i?f(e):i};return async t=>{let e,{url:n,method:h,data:o,signal:a,cancelToken:f,timeout:m,onDownloadProgress:g,onUploadProgress:b,responseType:v,headers:x,withCredentials:w="same-origin",fetchOptions:y}=ec(t),k=i||fetch;v=v?(v+"").toLowerCase():"text";let S=((t,e)=>{let{length:i}=t=t?t.filter(Boolean):[];if(e||i){let i,s=new AbortController,r=function(t){if(!i){i=!0,l();let e=t instanceof Error?t:this.reason;s.abort(e instanceof tP?e:new t7(e instanceof Error?e.message:e))}},n=e&&setTimeout(()=>{n=null,r(new tP(`timeout ${e} of ms exceeded`,tP.ETIMEDOUT))},e),l=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(t=>{t.unsubscribe?t.unsubscribe(r):t.removeEventListener("abort",r)}),t=null)};t.forEach(t=>t.addEventListener("abort",r));let{signal:h}=s;return h.unsubscribe=()=>tN.asap(l),h}})([a,f&&f.toAbortSignal()],m),_=null,M=S&&S.unsubscribe&&(()=>{S.unsubscribe()});try{if(b&&u&&"get"!==h&&"head"!==h&&0!==(e=await p(x,o))){let t,i=new s(n,{method:"POST",body:o,duplex:"half"});if(tN.isFormData(o)&&(t=i.headers.get("content-type"))&&x.setContentType(t),i.body){let[t,s]=er(e,es(en(b)));o=eg(i.body,65536,t,s)}}tN.isString(w)||(w=w?"include":"omit");let i=l&&"credentials"in s.prototype,a={...y,signal:S,method:h.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:i?w:void 0};_=l&&new s(n,a);let f=await (l?k(_,y):k(n,a)),m=c&&("stream"===v||"response"===v);if(c&&(g||m&&M)){let t={};["status","statusText","headers"].forEach(e=>{t[e]=f[e]});let e=tN.toFiniteNumber(f.headers.get("content-length")),[i,s]=g&&er(e,es(en(g),!0))||[];f=new r(eg(f.body,65536,i,()=>{s&&s(),M&&M()}),t)}v=v||"text";let E=await d[tN.findKey(d,v)||"text"](f,t);return!m&&M&&M(),await new Promise((e,i)=>{et(e,i,{data:E,headers:t8.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:_})})}catch(e){if(M&&M(),e&&"TypeError"===e.name&&/Load failed|fetch/i.test(e.message))throw Object.assign(new tP("Network Error",tP.ERR_NETWORK,t,_),{cause:e.cause||e});throw tP.from(e,e&&e.code,t,_)}}},eS=new Map,e_=t=>{let e=t&&t.env||{},{fetch:i,Request:s,Response:r}=e,n=[s,r,i],l=n.length,h,o,a=eS;for(;l--;)h=n[l],void 0===(o=a.get(h))&&a.set(h,o=l?new Map:ek(e)),a=o;return o};e_();let eM={http:null,xhr:ed,fetch:{get:e_}};tN.forEach(eM,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}});let eE=t=>`- ${t}`,eN=t=>tN.isFunction(t)||null===t||!1===t,eC=function(t,e){let i,s,{length:r}=t=tN.isArray(t)?t:[t],n={};for(let l=0;l<r;l++){let r;if(s=i=t[l],!eN(i)&&void 0===(s=eM[(r=String(i)).toLowerCase()]))throw new tP(`Unknown adapter '${r}'`);if(s&&(tN.isFunction(s)||(s=s.get(e))))break;n[r||"#"+l]=s}if(!s){let t=Object.entries(n).map(([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build"));throw new tP("There is no suitable adapter to dispatch the request "+(r?t.length>1?"since :\n"+t.map(eE).join("\n"):" "+eE(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return s};function eP(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new t7(null,t)}function ej(t){return eP(t),t.headers=t8.from(t.headers),t.data=t6.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eC(t.adapter||t0.adapter,t)(t).then(function(e){return eP(t),e.data=t6.call(t,t.transformResponse,e),e.headers=t8.from(e.headers),e},function(e){return!t9(e)&&(eP(t),e&&e.response&&(e.response.data=t6.call(t,t.transformResponse,e.response),e.response.headers=t8.from(e.response.headers))),Promise.reject(e)})}let eR="1.13.2",ez={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ez[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});let eT={};ez.transitional=function(t,e,i){function s(t,e){return"[Axios v"+eR+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return(i,r,n)=>{if(!1===t)throw new tP(s(r," has been removed"+(e?" in "+e:"")),tP.ERR_DEPRECATED);return e&&!eT[r]&&(eT[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,r,n)}},ez.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};let eO=function(t,e,i){if("object"!=typeof t)throw new tP("options must be an object",tP.ERR_BAD_OPTION_VALUE);let s=Object.keys(t),r=s.length;for(;r-- >0;){let n=s[r],l=e[n];if(l){let e=t[n],i=void 0===e||l(e,n,t);if(!0!==i)throw new tP("option "+n+" must be "+i,tP.ERR_BAD_OPTION_VALUE);continue}if(!0!==i)throw new tP("Unknown option "+n,tP.ERR_BAD_OPTION)}};class eF{constructor(t){this.defaults=t||{},this.interceptors={request:new tY,response:new tY}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=Error();let i=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?i&&!String(t.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+i):t.stack=i}catch(t){}}throw t}}_request(t,e){let i,s;"string"==typeof t?(e=e||{}).url=t:e=t||{};let{transitional:r,paramsSerializer:n,headers:l}=e=eu(this.defaults,e);void 0!==r&&eO(r,{silentJSONParsing:ez.transitional(ez.boolean),forcedJSONParsing:ez.transitional(ez.boolean),clarifyTimeoutError:ez.transitional(ez.boolean)},!1),null!=n&&(tN.isFunction(n)?e.paramsSerializer={serialize:n}:eO(n,{encode:ez.function,serialize:ez.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),eO(e,{baseUrl:ez.spelling("baseURL"),withXsrfToken:ez.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let h=l&&tN.merge(l.common,l[e.method]);l&&tN.forEach(["delete","get","head","post","put","patch","common"],t=>{delete l[t]}),e.headers=t8.concat(h,l);let o=[],a=!0;this.interceptors.request.forEach(function(t){("function"!=typeof t.runWhen||!1!==t.runWhen(e))&&(a=a&&t.synchronous,o.unshift(t.fulfilled,t.rejected))});let u=[];this.interceptors.response.forEach(function(t){u.push(t.fulfilled,t.rejected)});let c=0;if(!a){let t=[ej.bind(this),void 0];for(t.unshift(...o),t.push(...u),s=t.length,i=Promise.resolve(e);c<s;)i=i.then(t[c++],t[c++]);return i}s=o.length;let d=e;for(;c<s;){let t=o[c++],e=o[c++];try{d=t(d)}catch(t){e.call(this,t);break}}try{i=ej.call(this,d)}catch(t){return Promise.reject(t)}for(c=0,s=u.length;c<s;)i=i.then(u[c++],u[c++]);return i}getUri(t){return tI(eo((t=eu(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}tN.forEach(["delete","get","head","options"],function(t){eF.prototype[t]=function(e,i){return this.request(eu(i||{},{method:t,url:e,data:(i||{}).data}))}}),tN.forEach(["post","put","patch"],function(t){function e(e){return function(i,s,r){return this.request(eu(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}eF.prototype[t]=e(),eF.prototype[t+"Form"]=e(!0)});class eL{constructor(t){let e;if("function"!=typeof t)throw TypeError("executor must be a function.");this.promise=new Promise(function(t){e=t});const i=this;this.promise.then(t=>{if(!i._listeners)return;let e=i._listeners.length;for(;e-- >0;)i._listeners[e](t);i._listeners=null}),this.promise.then=t=>{let e,s=new Promise(t=>{i.subscribe(t),e=t}).then(t);return s.cancel=function(){i.unsubscribe(e)},s},t(function(t,s,r){i.reason||(i.reason=new t7(t,s,r),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;let e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){let t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new eL(function(e){t=e}),cancel:t}}}let eA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(eA).forEach(([t,e])=>{eA[e]=t});let eB=function t(e){let i=new eF(e),s=U(eF.prototype.request,i);return tN.extend(s,eF.prototype,i,{allOwnKeys:!0}),tN.extend(s,i,null,{allOwnKeys:!0}),s.create=function(i){return t(eu(e,i))},s}(t0);eB.Axios=eF,eB.CanceledError=t7,eB.CancelToken=eL,eB.isCancel=t9,eB.VERSION=eR,eB.toFormData=tL,eB.AxiosError=tP,eB.Cancel=eB.CanceledError,eB.all=function(t){return Promise.all(t)},eB.spread=function(t){return function(e){return t.apply(null,e)}},eB.isAxiosError=function(t){return tN.isObject(t)&&!0===t.isAxiosError},eB.mergeConfig=eu,eB.AxiosHeaders=t8,eB.formToJSON=t=>tZ(tN.isHTMLForm(t)?new FormData(t):t),eB.getAdapter=eC,eB.HttpStatusCode=eA,eB.default=eB;let eD=eB.create({baseURL:"/api",timeout:15e3,headers:{"Content-Type":"application/json"}});eD.interceptors.request.use(t=>{{let e=localStorage.getItem("token");e&&(t.headers.Authorization=`Bearer ${e}`)}return t},t=>Promise.reject(t)),eD.interceptors.response.use(t=>t,t=>(t.response&&401===t.response.status&&(localStorage.removeItem("token"),"/"!==window.location.pathname&&window.location.reload()),Promise.reject(t)));let eV={get:eD.get,post:eD.post,put:eD.put,delete:eD.delete},eI=(t=new Map,e=null,i)=>({nextPart:t,validators:e,classGroupId:i}),eY=[],eU=(t,e,i)=>{if(0==t.length-e)return i.classGroupId;let s=t[e],r=i.nextPart.get(s);if(r){let i=eU(t,e+1,r);if(i)return i}let n=i.validators;if(null===n)return;let l=0===e?t.join("-"):t.slice(e).join("-"),h=n.length;for(let t=0;t<h;t++){let e=n[t];if(e.validator(l))return e.classGroupId}},eW=(t,e)=>{let i=eI();for(let s in t)e$(t[s],i,s,e);return i},e$=(t,e,i,s)=>{let r=t.length;for(let n=0;n<r;n++)eq(t[n],e,i,s)},eq=(t,e,i,s)=>{"string"==typeof t?eJ(t,e,i):"function"==typeof t?eH(t,e,i,s):eQ(t,e,i,s)},eJ=(t,e,i)=>{(""===t?e:eG(e,t)).classGroupId=i},eH=(t,e,i,s)=>{eX(t)?e$(t(s),e,i,s):(null===e.validators&&(e.validators=[]),e.validators.push({classGroupId:i,validator:t}))},eQ=(t,e,i,s)=>{let r=Object.entries(t),n=r.length;for(let t=0;t<n;t++){let[n,l]=r[t];e$(l,eG(e,n),i,s)}},eG=(t,e)=>{let i=t,s=e.split("-"),r=s.length;for(let t=0;t<r;t++){let e=s[t],r=i.nextPart.get(e);r||(r=eI(),i.nextPart.set(e,r)),i=r}return i},eX=t=>"isThemeGetter"in t&&!0===t.isThemeGetter,eK=[],eZ=(t,e,i,s,r)=>({modifiers:t,hasImportantModifier:e,baseClassName:i,maybePostfixModifierPosition:s,isExternal:r}),e0=/\s+/,e1=t=>{let e;if("string"==typeof t)return t;let i="";for(let s=0;s<t.length;s++)t[s]&&(e=e1(t[s]))&&(i&&(i+=" "),i+=e);return i},e2=[],e5=t=>{let e=e=>e[t]||e2;return e.isThemeGetter=!0,e},e3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,e4=/^\((?:(\w[\w-]*):)?(.+)\)$/i,e8=/^\d+\/\d+$/,e6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,it=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=t=>e8.test(t),is=t=>!!t&&!Number.isNaN(Number(t)),ir=t=>!!t&&Number.isInteger(Number(t)),il=t=>t.endsWith("%")&&is(t.slice(0,-1)),ih=t=>e6.test(t),io=()=>!0,ia=t=>e9.test(t)&&!e7.test(t),iu=()=>!1,ic=t=>it.test(t),id=t=>ie.test(t),ip=t=>!ig(t)&&!ik(t),im=t=>iP(t,iT,iu),ig=t=>e3.test(t),ib=t=>iP(t,iO,ia),iv=t=>iP(t,iF,is),ix=t=>iP(t,iR,iu),iw=t=>iP(t,iz,id),iy=t=>iP(t,iA,ic),ik=t=>e4.test(t),iS=t=>ij(t,iO),i_=t=>ij(t,iL),iM=t=>ij(t,iR),iE=t=>ij(t,iT),iN=t=>ij(t,iz),iC=t=>ij(t,iA,!0),iP=(t,e,i)=>{let s=e3.exec(t);return!!s&&(s[1]?e(s[1]):i(s[2]))},ij=(t,e,i=!1)=>{let s=e4.exec(t);return!!s&&(s[1]?e(s[1]):i)},iR=t=>"position"===t||"percentage"===t,iz=t=>"image"===t||"url"===t,iT=t=>"length"===t||"size"===t||"bg-size"===t,iO=t=>"length"===t,iF=t=>"number"===t,iL=t=>"family-name"===t,iA=t=>"shadow"===t,iB=((t,...e)=>{let i,s,r,n,l=t=>{let e=s(t);if(e)return e;let n=((t,e)=>{let{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:n}=e,l=[],h=t.trim().split(e0),o="";for(let t=h.length-1;t>=0;t-=1){let e=h[t],{isExternal:a,modifiers:u,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:f}=i(e);if(a){o=e+(o.length>0?" "+o:o);continue}let p=!!f,m=s(p?d.substring(0,f):d);if(!m){if(!p||!(m=s(d))){o=e+(o.length>0?" "+o:o);continue}p=!1}let g=0===u.length?"":1===u.length?u[0]:n(u).join(":"),b=c?g+"!":g,v=b+m;if(l.indexOf(v)>-1)continue;l.push(v);let x=r(m,p);for(let t=0;t<x.length;++t){let e=x[t];l.push(b+e)}o=e+(o.length>0?" "+o:o)}return o})(t,i);return r(t,n),n};return n=h=>{var o;let a;return s=(i={cache:(t=>{if(t<1)return{get:()=>void 0,set:()=>{}};let e=0,i=Object.create(null),s=Object.create(null),r=(r,n)=>{i[r]=n,++e>t&&(e=0,s=i,i=Object.create(null))};return{get(t){let e=i[t];return void 0!==e?e:void 0!==(e=s[t])?(r(t,e),e):void 0},set(t,e){t in i?i[t]=e:r(t,e)}}})((o=e.reduce((t,e)=>e(t),t())).cacheSize),parseClassName:(t=>{let{prefix:e,experimentalParseClassName:i}=t,s=t=>{let e,i=[],s=0,r=0,n=0,l=t.length;for(let h=0;h<l;h++){let l=t[h];if(0===s&&0===r){if(":"===l){i.push(t.slice(n,h)),n=h+1;continue}if("/"===l){e=h;continue}}"["===l?s++:"]"===l?s--:"("===l?r++:")"===l&&r--}let h=0===i.length?t:t.slice(n),o=h,a=!1;return h.endsWith("!")?(o=h.slice(0,-1),a=!0):h.startsWith("!")&&(o=h.slice(1),a=!0),eZ(i,a,o,e&&e>n?e-n:void 0)};if(e){let t=e+":",i=s;s=e=>e.startsWith(t)?i(e.slice(t.length)):eZ(eK,!1,e,void 0,!0)}if(i){let t=s;s=e=>i({className:e,parseClassName:t})}return s})(o),sortModifiers:(a=new Map,o.orderSensitiveModifiers.forEach((t,e)=>{a.set(t,1e6+e)}),t=>{let e=[],i=[];for(let s=0;s<t.length;s++){let r=t[s],n="["===r[0],l=a.has(r);n||l?(i.length>0&&(i.sort(),e.push(...i),i=[]),e.push(r)):i.push(r)}return i.length>0&&(i.sort(),e.push(...i)),e}),...(t=>{let e=(t=>{let{theme:e,classGroups:i}=t;return eW(i,e)})(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:t=>{if(t.startsWith("[")&&t.endsWith("]")){var i;let e,s,r;return -1===(i=t).slice(1,-1).indexOf(":")?void 0:(s=(e=i.slice(1,-1)).indexOf(":"),(r=e.slice(0,s))?"arbitrary.."+r:void 0)}let s=t.split("-"),r=+(""===s[0]&&s.length>1);return eU(s,r,e)},getConflictingClassGroupIds:(t,e)=>{if(e){let e=s[t],r=i[t];if(e){if(r){let t=Array(r.length+e.length);for(let e=0;e<r.length;e++)t[e]=r[e];for(let i=0;i<e.length;i++)t[r.length+i]=e[i];return t}return e}return r||eY}return i[t]||eY}}})(o)}).cache.get,r=i.cache.set,n=l,l(h)},(...t)=>n(((...t)=>{let e,i,s=0,r="";for(;s<t.length;)(e=t[s++])&&(i=e1(e))&&(r&&(r+=" "),r+=i);return r})(...t))})(()=>{let t=e5("color"),e=e5("font"),i=e5("text"),s=e5("font-weight"),r=e5("tracking"),n=e5("leading"),l=e5("breakpoint"),h=e5("container"),o=e5("spacing"),a=e5("radius"),u=e5("shadow"),c=e5("inset-shadow"),d=e5("text-shadow"),f=e5("drop-shadow"),p=e5("blur"),m=e5("perspective"),g=e5("aspect"),b=e5("ease"),v=e5("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],w=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],y=()=>[...w(),ik,ig],k=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[ik,ig,o],M=()=>[ii,"full","auto",..._()],E=()=>[ir,"none","subgrid",ik,ig],N=()=>["auto",{span:["full",ir,ik,ig]},ir,ik,ig],C=()=>[ir,"auto",ik,ig],P=()=>["auto","min","max","fr",ik,ig],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",..._()],T=()=>[ii,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],O=()=>[t,ik,ig],F=()=>[...w(),iM,ix,{position:[ik,ig]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],A=()=>["auto","cover","contain",iE,im,{size:[ik,ig]}],B=()=>[il,iS,ib],D=()=>["","none","full",a,ik,ig],V=()=>["",is,iS,ib],I=()=>["solid","dashed","dotted","double"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>[is,il,iM,ix],W=()=>["","none",p,ik,ig],$=()=>["none",is,ik,ig],q=()=>["none",is,ik,ig],J=()=>[is,ik,ig],H=()=>[ii,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ih],breakpoint:[ih],color:[io],container:[ih],"drop-shadow":[ih],ease:["in","out","in-out"],font:[ip],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ih],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ih],shadow:[ih],spacing:["px",is],text:[ih],"text-shadow":[ih],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ii,ig,ik,g]}],container:["container"],columns:[{columns:[is,ig,ik,h]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:y()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[ir,"auto",ik,ig]}],basis:[{basis:[ii,"full","auto",h,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[is,ii,"auto","initial","none",ig]}],grow:[{grow:["",is,ik,ig]}],shrink:[{shrink:["",is,ik,ig]}],order:[{order:[ir,"first","last","none",ik,ig]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:T()}],w:[{w:[h,"screen",...T()]}],"min-w":[{"min-w":[h,"screen","none",...T()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[l]},...T()]}],h:[{h:["screen","lh",...T()]}],"min-h":[{"min-h":["screen","lh","none",...T()]}],"max-h":[{"max-h":["screen","lh",...T()]}],"font-size":[{text:["base",i,iS,ib]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,ik,iv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",il,ig]}],"font-family":[{font:[i_,ig,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ik,ig]}],"line-clamp":[{"line-clamp":[is,"none",ik,iv]}],leading:[{leading:[n,..._()]}],"list-image":[{"list-image":["none",ik,ig]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ik,ig]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:[is,"from-font","auto",ik,ib]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[is,"auto",ik,ig]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ik,ig]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ik,ig]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ir,ik,ig],radial:["",ik,ig],conic:[ir,ik,ig]},iN,iw]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...I(),"hidden","none"]}],"divide-style":[{divide:[...I(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...I(),"none","hidden"]}],"outline-offset":[{"outline-offset":[is,ik,ig]}],"outline-w":[{outline:["",is,iS,ib]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",u,iC,iy]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",c,iC,iy]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[is,ib]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",d,iC,iy]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[is,ik,ig]}],"mix-blend":[{"mix-blend":[...Y(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Y()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[is]}],"mask-image-linear-from-pos":[{"mask-linear-from":U()}],"mask-image-linear-to-pos":[{"mask-linear-to":U()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":U()}],"mask-image-t-to-pos":[{"mask-t-to":U()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":U()}],"mask-image-r-to-pos":[{"mask-r-to":U()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":U()}],"mask-image-b-to-pos":[{"mask-b-to":U()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":U()}],"mask-image-l-to-pos":[{"mask-l-to":U()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":U()}],"mask-image-x-to-pos":[{"mask-x-to":U()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":U()}],"mask-image-y-to-pos":[{"mask-y-to":U()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[ik,ig]}],"mask-image-radial-from-pos":[{"mask-radial-from":U()}],"mask-image-radial-to-pos":[{"mask-radial-to":U()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":w()}],"mask-image-conic-pos":[{"mask-conic":[is]}],"mask-image-conic-from-pos":[{"mask-conic-from":U()}],"mask-image-conic-to-pos":[{"mask-conic-to":U()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ik,ig]}],filter:[{filter:["","none",ik,ig]}],blur:[{blur:W()}],brightness:[{brightness:[is,ik,ig]}],contrast:[{contrast:[is,ik,ig]}],"drop-shadow":[{"drop-shadow":["","none",f,iC,iy]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",is,ik,ig]}],"hue-rotate":[{"hue-rotate":[is,ik,ig]}],invert:[{invert:["",is,ik,ig]}],saturate:[{saturate:[is,ik,ig]}],sepia:[{sepia:["",is,ik,ig]}],"backdrop-filter":[{"backdrop-filter":["","none",ik,ig]}],"backdrop-blur":[{"backdrop-blur":W()}],"backdrop-brightness":[{"backdrop-brightness":[is,ik,ig]}],"backdrop-contrast":[{"backdrop-contrast":[is,ik,ig]}],"backdrop-grayscale":[{"backdrop-grayscale":["",is,ik,ig]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[is,ik,ig]}],"backdrop-invert":[{"backdrop-invert":["",is,ik,ig]}],"backdrop-opacity":[{"backdrop-opacity":[is,ik,ig]}],"backdrop-saturate":[{"backdrop-saturate":[is,ik,ig]}],"backdrop-sepia":[{"backdrop-sepia":["",is,ik,ig]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ik,ig]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[is,"initial",ik,ig]}],ease:[{ease:["linear","initial",b,ik,ig]}],delay:[{delay:[is,ik,ig]}],animate:[{animate:["none",v,ik,ig]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,ik,ig]}],"perspective-origin":[{"perspective-origin":y()}],rotate:[{rotate:$()}],"rotate-x":[{"rotate-x":$()}],"rotate-y":[{"rotate-y":$()}],"rotate-z":[{"rotate-z":$()}],scale:[{scale:q()}],"scale-x":[{"scale-x":q()}],"scale-y":[{"scale-y":q()}],"scale-z":[{"scale-z":q()}],"scale-3d":["scale-3d"],skew:[{skew:J()}],"skew-x":[{"skew-x":J()}],"skew-y":[{"skew-y":J()}],transform:[{transform:[ik,ig,"","none","gpu","cpu"]}],"transform-origin":[{origin:y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ik,ig]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ik,ig]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[is,iS,ib,iv]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function iD(...t){return iB(function(){for(var t,e,i=0,s="",r=arguments.length;i<r;i++)(t=arguments[i])&&(e=function t(e){var i,s,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(i=0;i<n;i++)e[i]&&(s=t(e[i]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}(t))&&(s&&(s+=" "),s+=e);return s}(t))}let iV=({children:t,className:e,hoverEffect:i=!1,variant:s="default",style:r,...n})=>{let l={default:{background:"rgba(28, 28, 30, 0.65)",backdropFilter:"blur(40px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.06)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.04)"},elevated:{background:"rgba(28, 28, 30, 0.8)",backdropFilter:"blur(50px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.08)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.06)"},subtle:{background:"rgba(28, 28, 30, 0.4)",backdropFilter:"blur(20px) saturate(150%)",border:"1px solid rgba(255, 255, 255, 0.04)",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.2)"}};return(0,P.jsx)("div",{className:iD("rounded-3xl transition-all duration-300",i&&"active:scale-[0.97] cursor-pointer hover:bg-white/[0.02]",e),style:{...l[s],WebkitBackdropFilter:l[s].backdropFilter,...r},...n,children:t})},iI=j.default.forwardRef(({className:t,...e},i)=>(0,P.jsx)("input",{ref:i,className:iD("w-full px-4 py-3.5 rounded-2xl text-white placeholder-gray-500 transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/50",t),style:{background:"rgba(0, 0, 0, 0.35)",border:"1px solid rgba(255, 255, 255, 0.08)",backdropFilter:"blur(10px)"},...e}));iI.displayName="GlassInput";let iY=j.default.forwardRef(({className:t,variant:e="primary",children:i,...s},r)=>(0,P.jsx)("button",{ref:r,className:iD("w-full py-4 rounded-2xl font-bold transition-all duration-200 active:scale-[0.97]","shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-white text-black hover:bg-gray-100",secondary:"bg-white/10 text-white hover:bg-white/15 border border-white/10",danger:"bg-[#FF453A] text-white hover:bg-[#FF453A]/90"}[e],t),...s,children:i}));iY.displayName="GlassButton";let iU=({onLogin:t})=>{let[e,i]=(0,j.useState)(""),[s,r]=(0,j.useState)(""),[n,l]=(0,j.useState)(!1),h=async i=>{i.preventDefault(),l(!0),r("");try{let i=await eV.post("/login",{password:e});i.data.token?(localStorage.setItem("token",i.data.token),t()):r("Invalid Password")}catch(t){r("Connection Error")}finally{l(!1)}};return(0,P.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,P.jsx)("div",{className:"absolute inset-0",style:{background:"radial-gradient(circle at 50% 30%, rgba(48, 209, 88, 0.06) 0%, transparent 50%), radial-gradient(circle at 80% 80%, rgba(10, 132, 255, 0.04) 0%, transparent 40%), #050505"}}),(0,P.jsx)("div",{className:"absolute inset-0 backdrop-blur-3xl"}),(0,P.jsxs)(iV,{variant:"elevated",className:"relative w-full max-w-sm mx-6 p-8 animate-in zoom-in-95 fade-in duration-500",children:[(0,P.jsx)("div",{className:"absolute -inset-[1px] rounded-3xl -z-10",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.3) 0%, transparent 40%, rgba(10, 132, 255, 0.2) 100%)"}}),(0,P.jsx)("div",{className:"flex justify-center mb-8",children:(0,P.jsx)("div",{className:"w-20 h-20 rounded-[22px] flex items-center justify-center",style:{background:"linear-gradient(135deg, #30D158 0%, #0A84FF 100%)",boxShadow:"0 10px 40px rgba(48, 209, 88, 0.3), 0 0 0 1px rgba(255, 255, 255, 0.1) inset"},children:(0,P.jsx)("span",{className:"text-white text-6xl font-light",style:{fontFamily:"serif"},children:""})})}),(0,P.jsx)("h1",{className:"text-3xl font-bold text-center text-white mb-1 tracking-tight",children:"Alpha Quant Pro"}),(0,P.jsx)("p",{className:"text-center text-gray-500 mb-8 text-sm font-medium",children:"AI Trading Terminal"}),(0,P.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,P.jsx)(iI,{type:"password",value:e,onChange:t=>i(t.target.value),className:"text-center text-xl tracking-[0.4em] font-mono",placeholder:"",autoFocus:!0}),s&&(0,P.jsx)("div",{className:"text-[#FF453A] text-sm text-center font-semibold px-4 py-3 rounded-xl",style:{background:"rgba(255, 69, 58, 0.1)",border:"1px solid rgba(255, 69, 58, 0.2)"},children:s}),(0,P.jsx)(iY,{type:"submit",disabled:n,children:n?"Authenticating...":"Secure Access"}),(0,P.jsx)("p",{className:"text-center text-[10px] text-gray-600 mt-4",children:"Protected by end-to-end encryption"})]})]})]})};var iW=j;class i$ extends iW.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error("ErrorBoundary caught:",t,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,P.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[(0,P.jsx)("div",{className:"w-16 h-16 mb-4 rounded-full bg-danger/10 flex items-center justify-center",children:(0,P.jsx)("span",{className:"text-3xl",children:""})}),(0,P.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"Something went wrong"}),(0,P.jsx)("p",{className:"text-sm text-gray-400 mb-4 max-w-md",children:this.state.error?.message||"An unexpected error occurred"}),(0,P.jsx)("button",{onClick:()=>this.setState({hasError:!1,error:null}),className:"px-4 py-2 bg-white/10 hover:bg-white/20 text-white text-sm font-medium rounded-lg transition-colors",children:"Try Again"})]}):this.props.children}}let iq=F("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),iJ=F("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),iH=F("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),iQ=F("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),iG=({isRunning:t,price:e,symbol:i})=>{let s=(0,j.useMemo)(()=>{let t=` ${i||"XAUUSD"} ${e?.toFixed(2)||"0.00"} `;return Array(40).fill(t)},[i,e]);return(0,P.jsxs)("div",{className:"w-full overflow-hidden mb-6 relative group cursor-default",children:[(0,P.jsx)("div",{className:iD("absolute inset-0 z-10 pointer-events-none bg-gradient-to-r from-background via-transparent to-background",t?"opacity-100":"opacity-80")}),(0,P.jsx)("div",{className:iD("flex whitespace-nowrap",t?"animate-scroll":"opacity-30"),children:s.map((t,e)=>(0,P.jsxs)("span",{className:"mx-4 text-xs font-mono font-bold text-white/20",children:[t,"  LIVE MARKET DATA "]},e))})]})},iX=({isEngineRunning:t,toggleEngine:e,statusData:i,refreshStatus:s})=>{let r=i?.daily_pnl||0,n=i?.equity||0,l=i?.balance||0,h=i?.positions||[],o=(r>=0?"+":"")+r.toFixed(2),a=r>=0?"text-[#30D158]":"text-[#FF453A]",u=r>=0?"rgba(48,209,88,0.2)":"rgba(255,69,58,0.2)",c=async(t,e)=>{if(confirm(`Close trade ${t}?`))try{await eV.post("/close_trade",{ticket:t,symbol:e}),s()}catch(t){alert(t.response?.data?.detail||t.message)}};return(0,P.jsxs)("div",{className:"pt-8 pb-32 h-full bg-transparent overflow-y-auto no-scrollbar flex flex-col",children:[(0,P.jsxs)("div",{className:"px-6 flex justify-between items-center mb-6",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Monitor"}),(0,P.jsx)("p",{className:"text-xs text-gray-400 font-medium mt-1",children:"AI TRADING TERMINAL"})]}),(0,P.jsxs)("div",{className:`flex items-center gap-2 px-4 py-2 rounded-full border bg-[#1c1c1e]/40 backdrop-blur-xl transition-all duration-500 ${t?"border-success/30 shadow-glow-green":"border-warning/30"}`,children:[(0,P.jsxs)("div",{className:"relative flex h-2 w-2",children:[(0,P.jsx)("span",{className:`absolute inline-flex h-full w-full rounded-full opacity-75 transition-colors duration-300 ${t?"animate-ping bg-success":"bg-warning"}`}),(0,P.jsx)("span",{className:`relative inline-flex rounded-full h-2 w-2 transition-colors duration-300 ${t?"bg-success":"bg-warning"}`})]}),(0,P.jsx)("span",{className:`text-[10px] font-bold tracking-wider transition-colors duration-500 ${t?"text-success":"text-warning"}`,children:t?"SYSTEM ONLINE":"STANDBY MODE"})]})]}),(0,P.jsx)(iG,{isRunning:t,price:i?.price,symbol:i?.symbol}),(0,P.jsxs)("div",{className:"px-5 flex-1 flex flex-col",children:[(0,P.jsxs)("div",{className:`rounded-3xl p-8 mb-8 text-center glass-panel relative overflow-hidden group transition-all duration-700 border border-white/10 ${t?"border-[#30D158]/20":"grayscale opacity-80"}`,children:[(0,P.jsx)("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent ${r>=0?"via-[#30D158]":"via-[#FF453A]"} to-transparent opacity-40`}),(0,P.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 opacity-60",children:[(0,P.jsx)(iq,{size:14,className:"text-gray-400"}),(0,P.jsx)("span",{className:"text-[10px] font-mono text-gray-400 tracking-wider",children:t?"NEURAL ENGINE ACTIVE":"ENGINE DISCONNECTED"})]}),(0,P.jsxs)("div",{className:"py-4",children:[(0,P.jsx)("h3",{className:"text-[11px] font-bold text-gray-500 uppercase tracking-[0.2em] mb-2",children:"Daily Performance"}),(0,P.jsx)("div",{className:`text-6xl font-bold font-mono tracking-tighter transition-all duration-500 ${t?`drop-shadow-[0_0_30px_${u}] ${a}`:"text-gray-500"}`,children:o})]}),(0,P.jsxs)("div",{className:"flex justify-center gap-12 mt-8 pt-8 border-t border-white/5",children:[(0,P.jsxs)("div",{className:"text-center group-hover:transform group-hover:scale-105 transition-transform duration-300",children:[(0,P.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2",children:"Balance"}),(0,P.jsxs)("div",{className:"text-lg font-mono text-white font-bold",children:["$",l.toFixed(2)]})]}),(0,P.jsx)("div",{className:"w-px bg-white/10 h-10"}),(0,P.jsxs)("div",{className:"text-center group-hover:transform group-hover:scale-105 transition-transform duration-300",children:[(0,P.jsx)("div",{className:"text-[10px] text-gray-500 uppercase font-bold tracking-wider mb-2",children:"Equity"}),(0,P.jsxs)("div",{className:"text-lg font-mono text-white font-bold",children:["$",n.toFixed(2)]})]})]})]}),(0,P.jsxs)("div",{className:"mb-8 flex-1",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-4 px-2",children:[(0,P.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[(0,P.jsx)(iJ,{size:16,className:"text-primary"}),"Active Positions"]}),(0,P.jsx)("span",{className:"text-[10px] font-bold text-gray-400 bg-black/20 px-2 py-1 rounded-md",children:h.length})]}),(0,P.jsxs)("div",{className:"space-y-3",children:[0===h.length&&(0,P.jsx)("div",{className:"text-center text-gray-600 text-xs py-12 border border-dashed border-white/10 rounded-3xl bg-white/5",children:"No active executions"}),h.map(e=>(0,P.jsxs)(iV,{className:`p-4 flex justify-between items-center relative overflow-hidden group transition-all duration-500 ${t?"":"grayscale opacity-60"}`,children:[(0,P.jsx)("div",{className:`absolute left-0 top-0 bottom-0 w-1 transition-colors duration-500 ${e.profit>=0?"bg-success":"bg-danger"}`}),(0,P.jsxs)("div",{className:"pl-3",children:[(0,P.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,P.jsx)("span",{className:"font-bold text-white text-base tracking-tight",children:e.symbol}),(0,P.jsx)("span",{className:`text-[9px] font-bold px-1.5 py-0.5 rounded border font-mono ${"BUY"===e.type?"bg-primary/10 text-primary border-primary/20":"bg-danger/10 text-danger border-danger/20"}`,children:e.type})]}),(0,P.jsxs)("div",{className:"flex items-center gap-3 text-[11px] text-gray-500 font-mono",children:[(0,P.jsxs)("span",{children:["SIZE: ",(0,P.jsx)("span",{className:"text-gray-300",children:e.volume})]}),(0,P.jsx)("span",{className:"text-gray-700",children:"|"}),(0,P.jsxs)("span",{children:["ENTRY: ",(0,P.jsx)("span",{className:"text-gray-300",children:e.price_open})]})]})]}),(0,P.jsxs)("div",{className:"text-right flex flex-col items-end gap-2",children:[(0,P.jsxs)("div",{className:`text-lg font-bold font-mono ${e.profit>=0?"text-success drop-shadow-sm":"text-danger"}`,children:[e.profit>=0?"+":"",e.profit.toFixed(2)]}),(0,P.jsx)("button",{onClick:()=>c(e.ticket,e.symbol),className:"text-[9px] font-bold text-white bg-white/5 hover:bg-danger/20 border border-white/10 hover:border-danger/30 px-3 py-1.5 rounded transition-all",children:"CLOSE"})]})]},e.ticket))]})]}),(0,P.jsxs)("div",{className:"mt-auto pt-4 pb-8",children:[(0,P.jsxs)("button",{onClick:()=>e(!t),className:`w-full relative group overflow-hidden border transition-all duration-500 active:scale-[0.98] py-5 rounded-2xl flex items-center justify-center gap-3 shadow-lg ${t?"bg-surface border-danger/30 text-danger hover:bg-danger/10 hover:shadow-glow-red":"bg-surface border-success/30 text-success hover:bg-success/10 hover:shadow-glow-green"}`,children:[(0,P.jsx)("div",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent skew-x-12 translate-x-[-200%] transition-transform duration-1000 ${t?"group-hover:animate-pulse":""}`}),t?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iH,{size:18,fill:"currentColor",className:"animate-pulse"}),(0,P.jsx)("span",{className:"text-sm font-bold uppercase tracking-[0.2em]",children:"Stop Engine"})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(iQ,{size:20,fill:"currentColor"}),(0,P.jsx)("span",{className:"text-sm font-bold uppercase tracking-[0.2em]",children:"Start Engine"})]})]}),(0,P.jsx)("div",{className:"text-center mt-4",children:(0,P.jsxs)("span",{className:"text-[9px] font-bold text-gray-600 uppercase tracking-widest flex justify-center items-center gap-2",children:[(0,P.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-success animate-pulse":"bg-gray-600"}`}),t?"Algorithm Execution Active":"Execution Suspended"]})})]})]})]})};function iK(t){var e=t.width,i=t.height;if(e<0)throw Error("Negative width is not allowed for Size");if(i<0)throw Error("Negative height is not allowed for Size");return{width:e,height:i}}function iZ(t,e){return t.width===e.width&&t.height===e.height}var i0=function(){function t(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){var e=this,i={next:t};return this._observers.push(i),{unsubscribe:function(){e._observers=e._observers.filter(function(t){return t!==i})}}},t.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}(),i1=function(){function t(t,e,i){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=iK({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=null!=e?e:function(t){return t},this._allowResizeObserver=null==(s=null==i?void 0:i.allowResizeObserver)||s,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var t,e;if(null===this._canvasElement)throw Error("Object is disposed");null==(t=this._canvasElementResizeObserver)||t.disconnect(),this._canvasElementResizeObserver=null,null==(e=this._devicePixelRatioObservable)||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(null===this._canvasElement)throw Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return iK({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=iK(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},t.prototype.applySuggestedBitmapSize=function(){if(null!==this._suggestedBitmapSize){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(t){var e=this.bitmapSize;iZ(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},t.prototype._emitBitmapSizeChanged=function(t,e){var i=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},t.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,i=iK(this._transformBitmapSize(t,this._canvasElementClientSize)),s=iZ(this.bitmapSize,i)?null:i;null===e&&null===s||null!==e&&null!==s&&iZ(e,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(e,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var i=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(i,t,e)})},t.prototype._chooseAndInitObserver=function(){var t=this;this._allowResizeObserver?new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(t){return"devicePixelContentBoxSize"in t})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1}).then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()}):this._initDevicePixelRatioObservable()},t.prototype._initDevicePixelRatioObservable=function(){var t=this;if(null!==this._canvasElement){var e=i2(this._canvasElement);if(null===e)throw Error("No window is associated with the canvas");this._devicePixelRatioObservable=new i0(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){if(null!==this._canvasElement){var t,e,i=i2(this._canvasElement);if(null!==i){var s,r,n=null!=(e=null==(t=this._devicePixelRatioObservable)?void 0:t.value)?e:i.devicePixelRatio,l=this._canvasElement.getClientRects(),h=void 0!==l[0]?(s=l[0],r=n,iK({width:Math.round(s.left*r+s.width*r)-Math.round(s.left*r),height:Math.round(s.top*r+s.height*r)-Math.round(s.top*r)})):iK({width:this._canvasElementClientSize.width*n,height:this._canvasElementClientSize.height*n});this._suggestNewBitmapSize(h)}}},t.prototype._initResizeObserver=function(){var t=this;null!==this._canvasElement&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var i=e.find(function(e){return e.target===t._canvasElement});if(i&&i.devicePixelContentBoxSize&&i.devicePixelContentBoxSize[0]){var s=i.devicePixelContentBoxSize[0],r=iK({width:s.inlineSize,height:s.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function i2(t){return t.ownerDocument.defaultView}var i5=function(){function t(t,e,i){if(0===e.width||0===e.height)throw TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,0===i.width||0===i.height)throw TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=i,this._context=t}return t.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function i3(t,e){var i=t.canvasElementClientSize;if(0===i.width||0===i.height)return null;var s=t.bitmapSize;if(0===s.width||0===s.height)return null;var r=t.canvasElement.getContext("2d",e);return null===r?null:new i5(r,i,s)}let i4={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};function i8(t,e){let i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function i6(t,e,i,s){t.beginPath();let r=t.lineWidth%2?.5:0;t.moveTo(i,e+r),t.lineTo(s,e+r),t.stroke()}function i9(t,e){if(!t)throw Error("Assertion failed"+(e?": "+e:""))}function i7(t){if(void 0===t)throw Error("Value is undefined");return t}function st(t){if(null===t)throw Error("Value is null");return t}function se(t){return st(i7(t))}(a=x||(x={}))[a.Simple=0]="Simple",a[a.WithSteps=1]="WithSteps",a[a.Curved=2]="Curved",(u=w||(w={}))[u.Solid=0]="Solid",u[u.Dotted=1]="Dotted",u[u.Dashed=2]="Dashed",u[u.LargeDashed=3]="LargeDashed",u[u.SparseDotted=4]="SparseDotted";class si{constructor(){this.t=[]}i(t,e,i){this.t.push({h:t,l:e,o:!0===i})}_(t){let e=this.t.findIndex(e=>t===e.h);e>-1&&this.t.splice(e,1)}u(t){this.t=this.t.filter(e=>e.l!==t)}p(t,e,i){let s=[...this.t];this.t=this.t.filter(t=>!t.o),s.forEach(s=>s.h(t,e,i))}v(){return this.t.length>0}m(){this.t=[]}}function ss(t,...e){for(let i of e)for(let e in i)void 0!==i[e]&&Object.prototype.hasOwnProperty.call(i,e)&&!["__proto__","constructor","prototype"].includes(e)&&("object"!=typeof i[e]||void 0===t[e]||Array.isArray(i[e])?t[e]=i[e]:ss(t[e],i[e]));return t}function sr(t){return"number"==typeof t&&isFinite(t)}function sn(t){return"number"==typeof t&&t%1==0}function sl(t){return"string"==typeof t}function sh(t){return"boolean"==typeof t}function so(t){let e,i,s;if(!t||"object"!=typeof t)return t;for(i in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(i)&&(s=t[i],e[i]=s&&"object"==typeof s?so(s):s);return e}function sa(t){return null!==t}function su(t){return null===t?void 0:t}let sc="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function sd(t,e,i){return void 0===e&&(e=sc),`${i=void 0!==i?`${i} `:""}${t}px ${e}`}class sf{constructor(t){this.M={S:1,C:5,P:NaN,k:"",T:"",R:"",D:"",V:0,B:0,I:0,A:0,L:0},this.O=t}N(){let t=this.M,e=this.F(),i=this.W();return t.P===e&&t.T===i||(t.P=e,t.T=i,t.k=sd(e,i),t.A=2.5/12*e,t.V=t.A,t.B=e/12*t.C,t.I=e/12*t.C,t.L=0),t.R=this.H(),t.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function sp(t){return t<0?0:t>255?255:Math.round(t)||0}function sm(t){return .199*t[0]+.687*t[1]+.114*t[2]}class sg{constructor(t,e){this.q=new Map,this.Y=t,e&&(this.q=e)}j(t,e){if("transparent"===t)return t;let i=this.K(t),s=i[3];return`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${e*s})`}X(t){let e=this.K(t);return{Z:`rgb(${e[0]}, ${e[1]}, ${e[2]})`,G:sm(e)>160?"black":"white"}}J(t){return sm(this.K(t))}tt(t,e,i){var s;let[r,n,l,h]=this.K(t),[o,a,u,c]=this.K(e),d=[sp(r+i*(o-r)),sp(n+i*(a-n)),sp(l+i*(u-l)),(s=h+i*(c-h))<=0||s>1?Math.min(Math.max(s,0),1):Math.round(1e4*s)/1e4];return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}K(t){let e,i,s=this.q.get(t);if(s)return s;let r=((e=document.createElement("div")).style.display="none",document.body.appendChild(e),e.style.color=t,i=window.getComputedStyle(e).color,document.body.removeChild(e),i).match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!r){if(this.Y.length)for(let e of this.Y){let i=e(t);if(i)return this.q.set(t,i),i}throw Error(`Failed to parse color: ${t}`)}let n=[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),r[4]?parseFloat(r[4]):1];return this.q.set(t,n),n}}class sb{constructor(){this.it=[]}st(t){this.it=t}nt(t,e,i){this.it.forEach(s=>{s.nt(t,e,i)})}}class sv{nt(t,e,i){t.useBitmapCoordinateSpace(t=>this.et(t,e,i))}}class sx extends sv{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){if(null===this.rt||null===this.rt.lt)return;let s=this.rt.lt,r=this.rt,n=Math.max(1,Math.floor(e))%2/2,l=l=>{t.beginPath();for(let h=s.to-1;h>=s.from;--h){let s=r.ot[h],o=Math.round(s._t*e)+n,a=s.ut*i,u=l*i+n;t.moveTo(o,a),t.arc(o,a,u,0,2*Math.PI)}t.fill()};r.ct>0&&(t.fillStyle=r.dt,l(r.ft+r.ct)),t.fillStyle=r.vt,l(r.ft)}}function sw(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}let sy={from:0,to:1};class sk{constructor(t,e,i){this.Mt=new sb,this.bt=[],this.St=[],this.xt=!0,this.O=t,this.Ct=e,this.Pt=i,this.Mt.st(this.bt)}yt(t){this.kt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}kt(){let t=this.Pt.Dt();t.length!==this.bt.length&&(this.St=t.map(sw),this.bt=this.St.map(t=>{let e=new sx;return e.ht(t),e}),this.Mt.st(this.bt))}Rt(){let t=2===this.Ct.N().mode||!this.Ct.Vt(),e=this.Pt.Bt(),i=this.Ct.It(),s=this.O.Et();this.kt(),e.forEach((e,r)=>{let n=this.St[r],l=e.At(i),h=e.zt();!t&&null!==l&&e.Vt()&&null!==h?(n.vt=l.Lt,n.ft=l.ft,n.ct=l.Ot,n.ot[0].gt=l.gt,n.ot[0].ut=e.Ft().Nt(l.gt,h.Wt),n.dt=l.Ht??this.O.Ut(n.ot[0].ut/e.Ft().$t()),n.ot[0].wt=i,n.ot[0]._t=s.qt(i),n.lt=sy):n.lt=null})}}class sS extends sv{constructor(t){super(),this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){var r;let n;if(null===this.Yt)return;let l=this.Yt.jt.Vt,h=this.Yt.Kt.Vt;if(!l&&!h)return;let o=Math.round(this.Yt._t*i),a=Math.round(this.Yt.ut*s);t.lineCap="butt",l&&o>=0&&(t.lineWidth=Math.floor(this.Yt.jt.ct*i),t.strokeStyle=this.Yt.jt.R,t.fillStyle=this.Yt.jt.R,i8(t,this.Yt.jt.Xt),r=e.height,t.beginPath(),n=t.lineWidth%2?.5:0,t.moveTo(o+n,0),t.lineTo(o+n,r),t.stroke()),h&&a>=0&&(t.lineWidth=Math.floor(this.Yt.Kt.ct*s),t.strokeStyle=this.Yt.Kt.R,t.fillStyle=this.Yt.Kt.R,i8(t,this.Yt.Kt.Xt),i6(t,a,0,e.width))}}class s_{constructor(t,e){this.xt=!0,this.Zt={jt:{ct:1,Xt:0,R:"",Vt:!1},Kt:{ct:1,Xt:0,R:"",Vt:!1},_t:0,ut:0},this.Gt=new sS(this.Zt),this.Jt=t,this.Pt=e}yt(){this.xt=!0}Tt(t){return this.xt&&(this.Rt(),this.xt=!1),this.Gt}Rt(){let t=this.Jt.Vt(),e=this.Pt.Qt().N().crosshair,i=this.Zt;2===e.mode?(i.Kt.Vt=!1,i.jt.Vt=!1):(i.Kt.Vt=t&&this.Jt.ti(this.Pt),i.jt.Vt=t&&this.Jt.ii(),i.Kt.ct=e.horzLine.width,i.Kt.Xt=e.horzLine.style,i.Kt.R=e.horzLine.color,i.jt.ct=e.vertLine.width,i.jt.Xt=e.vertLine.style,i.jt.R=e.vertLine.color,i._t=this.Jt.si(),i.ut=this.Jt.ni())}}function sM(t,e,i,s,r,n){t.save(),t.globalCompositeOperation="copy",t.fillStyle=n,t.fillRect(e,i,s,r),t.restore()}function sE(t,e,i,s,r,n){t.beginPath(),t.roundRect?t.roundRect(e,i,s,r,n):(t.lineTo(e+s-n[1],i),0!==n[1]&&t.arcTo(e+s,i,e+s,i+n[1],n[1]),t.lineTo(e+s,i+r-n[2]),0!==n[2]&&t.arcTo(e+s,i+r,e+s-n[2],i+r,n[2]),t.lineTo(e+n[3],i+r),0!==n[3]&&t.arcTo(e,i+r,e,i+r-n[3],n[3]),t.lineTo(e,i+n[0]),0!==n[0]&&t.arcTo(e,i,e+n[0],i,n[0]))}function sN(t,e,i,s,r,n,l=0,h=[0,0,0,0],o=""){var a;if(t.save(),!l||!o||o===n)return sE(t,e,i,s,r,h),t.fillStyle=n,t.fill(),void t.restore();let u=l/2;sE(t,e+u,i+u,s-l,r-l,(a=-u,h.map(t=>0===t?t:t+a))),"transparent"!==n&&(t.fillStyle=n,t.fill()),"transparent"!==o&&(t.lineWidth=l,t.strokeStyle=o,t.closePath(),t.stroke()),t.restore()}function sC(t,e,i,s,r,n,l){t.save(),t.globalCompositeOperation="copy";let h=t.createLinearGradient(0,0,0,r);h.addColorStop(0,n),h.addColorStop(1,l),t.fillStyle=h,t.fillRect(e,i,s,r),t.restore()}class sP{constructor(t,e){this.ht(t,e)}ht(t,e){this.Yt=t,this.ei=e}$t(t,e){return this.Yt.Vt?t.P+t.A+t.V:0}nt(t,e,i,s){if(!this.Yt.Vt||0===this.Yt.ri.length)return;let r=this.Yt.R,n=this.ei.Z,l=t.useBitmapCoordinateSpace(t=>{let l=t.context;l.font=e.k;let h=this.hi(t,e,i,s),o=h.ai;return h.li?sN(l,o.oi,o._i,o.ui,o.ci,n,o.di,[o.ft,0,0,o.ft],n):sN(l,o.fi,o._i,o.ui,o.ci,n,o.di,[0,o.ft,o.ft,0],n),this.Yt.pi&&(l.fillStyle=r,l.fillRect(o.fi,o.mi,o.wi-o.fi,o.gi)),this.Yt.Mi&&(l.fillStyle=e.D,l.fillRect(h.li?o.bi-o.di:0,o._i,o.di,o.Si-o._i)),h});t.useMediaCoordinateSpace(({context:t})=>{let i=l.xi;t.font=e.k,t.textAlign=l.li?"right":"left",t.textBaseline="middle",t.fillStyle=r,t.fillText(this.Yt.ri,i.Ci,(i._i+i.Si)/2+i.Pi)})}hi(t,e,i,s){let r,n,l,{context:h,bitmapSize:o,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:c}=t,d=this.Yt.pi||!this.Yt.yi?e.C:0,f=this.Yt.ki?e.S:0,p=e.A+this.ei.Ti,m=e.V+this.ei.Ri,g=e.B,b=e.I,v=this.Yt.ri,x=e.P,w=i.Di(h,v),y=Math.ceil(i.Vi(h,v)),k=e.S+g+b+y+d,S=Math.max(1,Math.floor(c)),_=Math.round((x+p+m)*c);_%2!=S%2&&(_+=1);let M=f>0?Math.max(1,Math.floor(f*u)):0,E=Math.round(k*u),N=Math.round(d*u),C=Math.round((this.ei.Bi??this.ei.Ii)*c)-Math.floor(.5*c),P=Math.floor(C+S/2-_/2),j=P+_,R="right"===s,z=R?a.width-f:f,T=R?o.width-M:M;return R?(r=T-E,n=T-N,l=z-d-g-f):(r=T+E,n=T+N,l=z+d+g),{li:R,ai:{_i:P,mi:C,Si:j,ui:E,ci:_,ft:2*u,di:M,oi:r,fi:T,wi:n,gi:S,bi:o.width},xi:{_i:P/c,Si:j/c,Ci:l,Pi:w}}}}class sj{constructor(t){this.Ei={Ii:0,Z:"#000",Ri:0,Ti:0},this.Ai={ri:"",Vt:!1,pi:!0,yi:!1,Ht:"",R:"#FFF",Mi:!1,ki:!1},this.zi={ri:"",Vt:!1,pi:!1,yi:!0,Ht:"",R:"#FFF",Mi:!0,ki:!0},this.xt=!0,this.Li=new(t||sP)(this.Ai,this.Ei),this.Oi=new(t||sP)(this.zi,this.Ei)}ri(){return this.Ni(),this.Ai.ri}Ii(){return this.Ni(),this.Ei.Ii}yt(){this.xt=!0}$t(t,e=!1){return Math.max(this.Li.$t(t,e),this.Oi.$t(t,e))}Fi(){return this.Ei.Bi||0}Wi(t){this.Ei.Bi=t}Hi(){return this.Ni(),this.Ai.Vt||this.zi.Vt}Ui(){return this.Ni(),this.Ai.Vt}Tt(t){return this.Ni(),this.Ai.pi=this.Ai.pi&&t.N().ticksVisible,this.zi.pi=this.zi.pi&&t.N().ticksVisible,this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Li}$i(){return this.Ni(),this.Li.ht(this.Ai,this.Ei),this.Oi.ht(this.zi,this.Ei),this.Oi}Ni(){this.xt&&(this.Ai.pi=!0,this.zi.pi=!1,this.qi(this.Ai,this.zi,this.Ei))}}class sR extends sj{constructor(t,e,i){super(),this.Jt=t,this.Yi=e,this.ji=i}qi(t,e,i){if(t.Vt=!1,2===this.Jt.N().mode)return;let s=this.Jt.N().horzLine;if(!s.labelVisible)return;let r=this.Yi.zt();if(!this.Jt.Vt()||this.Yi.Ki()||null===r)return;let n=this.Yi.Xi().X(s.labelBackgroundColor);i.Z=n.Z,t.R=n.G;let l=2/12*this.Yi.P();i.Ti=l,i.Ri=l;let h=this.ji(this.Yi);i.Ii=h.Ii,t.ri=this.Yi.Zi(h.gt,r),t.Vt=!0}}let sz=/[1-9]/g;class sT{constructor(){this.Yt=null}ht(t){this.Yt=t}nt(t,e){if(null===this.Yt||!1===this.Yt.Vt||0===this.Yt.ri.length)return;let i=t.useMediaCoordinateSpace(({context:t})=>(t.font=e.k,Math.round(e.Gi.Vi(t,st(this.Yt).ri,sz))));if(i<=0)return;let s=e.Ji,r=i+2*s,n=r/2,l=this.Yt.Qi,h=this.Yt.Ii,o=Math.floor(h-n)+.5;o<0?(h+=Math.abs(0-o),o=Math.floor(h-n)+.5):o+r>l&&(h-=Math.abs(l-(o+r)),o=Math.floor(h-n)+.5);let a=o+r,u=Math.ceil(0+e.S+e.C+e.A+e.P+e.V);t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:i,verticalPixelRatio:s})=>{let r=st(this.Yt);t.fillStyle=r.Z;let n=Math.round(o*i),l=Math.round(0*s),h=Math.round(a*i),c=Math.round(u*s),d=Math.round(2*i);if(t.beginPath(),t.moveTo(n,l),t.lineTo(n,c-d),t.arcTo(n,c,n+d,c,d),t.lineTo(h-d,c),t.arcTo(h,c,h,c-d,d),t.lineTo(h,l),t.fill(),r.pi){let n=Math.round(r.Ii*i),h=Math.round((l+e.C)*s);t.fillStyle=r.R;let o=Math.max(1,Math.floor(i)),a=Math.floor(.5*i);t.fillRect(n-a,l,o,h-l)}}),t.useMediaCoordinateSpace(({context:t})=>{let i=st(this.Yt),r=0+e.S+e.C+e.A+e.P/2;t.font=e.k,t.textAlign="left",t.textBaseline="middle",t.fillStyle=i.R;let n=e.Gi.Di(t,"Apr0");t.translate(o+s,r+n),t.fillText(i.ri,0,0)})}}class sO{constructor(t,e,i){this.xt=!0,this.Gt=new sT,this.Zt={Vt:!1,Z:"#4c525e",R:"white",ri:"",Qi:0,Ii:NaN,pi:!0},this.Ct=t,this.ts=e,this.ji=i}yt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Gt.ht(this.Zt),this.Gt}Rt(){let t=this.Zt;if(t.Vt=!1,2===this.Ct.N().mode)return;let e=this.Ct.N().vertLine;if(!e.labelVisible)return;let i=this.ts.Et();if(i.Ki())return;t.Qi=i.Qi();let s=this.ji();if(null===s)return;t.Ii=s.Ii;let r=i.ss(this.Ct.It());t.ri=i.ns(st(r)),t.Vt=!0;let n=this.ts.Xi().X(e.labelBackgroundColor);t.Z=n.Z,t.R=n.G,t.pi=i.N().ticksVisible}}class sF{constructor(){this.es=null,this.rs=0}hs(){return this.rs}ls(t){this.rs=t}Ft(){return this.es}_s(t){this.es=t}us(t){return[]}cs(){return[]}Vt(){return!0}}(c=y||(y={}))[c.Normal=0]="Normal",c[c.Magnet=1]="Magnet",c[c.Hidden=2]="Hidden",c[c.MagnetOHLC=3]="MagnetOHLC";class sL extends sF{constructor(t,e){let i,s,r,n;super(),this.Pt=null,this.ds=NaN,this.fs=0,this.ps=!1,this.vs=new Map,this.ws=!1,this.gs=new WeakMap,this.Ms=new WeakMap,this.bs=NaN,this.Ss=NaN,this.xs=NaN,this.Cs=NaN,this.ts=t,this.Ps=e,this.ys=(i=()=>this.ds,s=()=>this.Ss,t=>{let e=s(),r=i();if(t===st(this.Pt).ks())return{gt:r,Ii:e};{let i=st(t.zt());return{gt:t.Ts(e,i),Ii:e}}});const l=(r=()=>this.fs,n=()=>this.si(),()=>{let t=this.ts.Et().Rs(r()),e=n();return t&&Number.isFinite(e)?{wt:t,Ii:e}:null});this.Ds=new sO(this,t,l)}N(){return this.Ps}Vs(t,e){this.xs=t,this.Cs=e}Bs(){this.xs=NaN,this.Cs=NaN}Is(){return this.xs}Es(){return this.Cs}As(t,e,i){this.ws||(this.ws=!0),this.ps=!0,this.zs(t,e,i)}It(){return this.fs}si(){return this.bs}ni(){return this.Ss}Vt(){return this.ps}Ls(){this.ps=!1,this.Os(),this.ds=NaN,this.bs=NaN,this.Ss=NaN,this.Pt=null,this.Bs(),this.Ns()}Fs(t){let e=this.gs.get(t);e||(e=new s_(this,t),this.gs.set(t,e));let i=this.Ms.get(t);return i||(i=new sk(this.ts,this,t),this.Ms.set(t,i)),[e,i]}ti(t){return t===this.Pt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ws(t,e){this.ps&&this.Pt===t||this.vs.clear();let i=[];return this.Pt===t&&i.push(this.Hs(this.vs,e,this.ys)),i}cs(){return this.ps?[this.Ds]:[]}Us(){return this.Pt}Ns(){this.ts.$s().forEach(t=>{this.gs.get(t)?.yt(),this.Ms.get(t)?.yt()}),this.vs.forEach(t=>t.yt()),this.Ds.yt()}qs(t){return t&&!t.ks().Ki()?t.ks():null}zs(t,e,i){this.Ys(t,e,i)&&this.Ns()}Ys(t,e,i){let s=this.bs,r=this.Ss,n=this.ds,l=this.fs,h=this.Pt,o=this.qs(i);this.fs=t,this.bs=isNaN(t)?NaN:this.ts.Et().qt(t),this.Pt=i;let a=null!==o?o.zt():null;return null!==o&&null!==a?(this.ds=e,this.Ss=o.Nt(e,a)):(this.ds=NaN,this.Ss=NaN),s!==this.bs||r!==this.Ss||l!==this.fs||n!==this.ds||h!==this.Pt}Os(){let t=this.ts.js().map(t=>t.Xs().Ks()).filter(sa),e=0===t.length?null:Math.max(...t);this.fs=null!==e?e:NaN}Hs(t,e,i){let s=t.get(e);return void 0===s&&(s=new sR(this,e,i),t.set(e,s)),s}}function sA(t){return"left"===t||"right"===t}class sB{constructor(t){this.Zs=new Map,this.Gs=[],this.Js=t}Qs(t,e){var i;let s=(i=this.Zs.get(t),void 0===i?e:{tn:Math.max(i.tn,e.tn),sn:i.sn||e.sn});this.Zs.set(t,s)}nn(){return this.Js}en(t){let e=this.Zs.get(t);return void 0===e?{tn:this.Js}:{tn:Math.max(this.Js,e.tn),sn:e.sn}}rn(){this.hn(),this.Gs=[{an:0}]}ln(t){this.hn(),this.Gs=[{an:1,Wt:t}]}_n(t){this.un(),this.Gs.push({an:5,Wt:t})}hn(){this.un(),this.Gs.push({an:6})}cn(){this.hn(),this.Gs=[{an:4}]}dn(t){this.hn(),this.Gs.push({an:2,Wt:t})}fn(t){this.hn(),this.Gs.push({an:3,Wt:t})}pn(){return this.Gs}vn(t){for(let e of t.Gs)this.mn(e);this.Js=Math.max(this.Js,t.Js),t.Zs.forEach((t,e)=>{this.Qs(e,t)})}static wn(){return new sB(2)}static gn(){return new sB(3)}mn(t){switch(t.an){case 0:this.rn();break;case 1:this.ln(t.Wt);break;case 2:this.dn(t.Wt);break;case 3:this.fn(t.Wt);break;case 4:this.cn();break;case 5:this._n(t.Wt);break;case 6:this.un()}}un(){let t=this.Gs.findIndex(t=>5===t.an);-1!==t&&this.Gs.splice(t,1)}}class sD{formatTickmarks(t){return t.map(t=>this.format(t))}}function sV(t,e){if(!sr(t))return"n/a";if(!sn(e)||e<0||e>16)throw TypeError("invalid length");return 0===e?t.toString():("0000000000000000"+t.toString()).slice(-e)}class sI extends sD{constructor(t,e){if(super(),e||(e=1),sr(t)&&sn(t)||(t=100),t<0)throw TypeError("invalid base");this.Yi=t,this.Mn=e,this.bn()}format(t){let e=t<0?"":"";return t=Math.abs(t),e+this.Sn(t)}bn(){if(this.xn=0,this.Yi>0&&this.Mn>0){let t=this.Yi;for(;t>1;)t/=10,this.xn++}}Sn(t){let e=this.Yi/this.Mn,i=Math.floor(t),s="",r=void 0!==this.xn?this.xn:NaN;if(e>1){let n=+(Math.round(t*e)-i*e).toFixed(this.xn);n>=e&&(n-=e,i+=1),s="."+sV(n.toFixed(this.xn)*this.Mn,r)}else i=Math.round(i*e)/e,r>0&&(s="."+sV(0,r));return i.toFixed(0)+s}}class sY extends sI{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class sU extends sD{constructor(t){super(),this.Cn=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.Pn(t):t<999995?e+this.Pn(t/1e3)+"K":t<0x3b9ac9fb?(t=1e3*Math.round(t/1e3),e+this.Pn(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.Pn(t/1e9)+"B")}Pn(t){let e=Math.pow(10,this.Cn);return((t=Math.round(t*e)/e)>=1e-15&&t<1?t.toFixed(this.Cn).replace(/\.?0+$/,""):String(t)).replace(/(\.[1-9]*)0+$/,(t,e)=>e)}}let sW=/[2-9]/g;class s${constructor(t=50){this.yn=0,this.kn=1,this.Tn=1,this.Rn={},this.Dn=new Map,this.Vn=t}Bn(){this.yn=0,this.Dn.clear(),this.kn=1,this.Tn=1,this.Rn={}}Vi(t,e,i){return this.In(t,e,i).width}Di(t,e,i){let s=this.In(t,e,i);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}In(t,e,i){let s=String(e).replace(i||sW,"0");if(this.Dn.has(s))return i7(this.Dn.get(s)).En;if(this.yn===this.Vn){let t=this.Rn[this.Tn];delete this.Rn[this.Tn],this.Dn.delete(t),this.Tn++,this.yn--}t.save(),t.textBaseline="middle";let r=t.measureText(s);return t.restore(),0===r.width&&e.length||(this.Dn.set(s,{En:r,An:this.kn}),this.Rn[this.kn]=s,this.yn++,this.kn++),r}}class sq{constructor(t){this.zn=null,this.M=null,this.Ln="right",this.On=t}Nn(t,e,i){this.zn=t,this.M=e,this.Ln=i}nt(t){null!==this.M&&null!==this.zn&&this.zn.nt(t,this.M,this.On,this.Ln)}}class sJ{constructor(t,e,i){this.Fn=t,this.On=new s$(50),this.Wn=e,this.O=i,this.F=-1,this.Gt=new sq(this.On)}Tt(){let t=this.O.Hn(this.Wn);if(null===t)return null;let e=t.Un(this.Wn)?t.$n():this.Wn.Ft();if(null===e)return null;let i=t.qn(e);if("overlay"===i)return null;let s=this.O.Yn();return s.P!==this.F&&(this.F=s.P,this.On.Bn()),this.Gt.Nn(this.Fn.$i(),s,i),this.Gt}}class sH extends sv{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}jn(t,e){if(!this.Yt?.Vt)return null;let{ut:i,ct:s,Kn:r}=this.Yt;return e>=i-s-7&&e<=i+s+7?{Xn:this.Yt,Kn:r}:null}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(null===this.Yt||!1===this.Yt.Vt)return;let r=Math.round(this.Yt.ut*s);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.Yt.R,t.lineWidth=Math.floor(this.Yt.ct*i),i8(t,this.Yt.Xt),i6(t,r,0,e.width))}}class sQ{constructor(t){this.Zn={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Xt:0,Vt:!1},this.Gn=new sH,this.xt=!0,this.Jn=t,this.Qn=t.Qt(),this.Gn.ht(this.Zn)}yt(){this.xt=!0}Tt(){return this.Jn.Vt()?(this.xt&&(this.te(),this.xt=!1),this.Gn):null}}class sG extends sQ{constructor(t){super(t)}te(){this.Zn.Vt=!1;let t=this.Jn.Ft(),e=t.ie().ie;if(2!==e&&3!==e)return;let i=this.Jn.N();if(!i.baseLineVisible||!this.Jn.Vt())return;let s=this.Jn.zt();null!==s&&(this.Zn.Vt=!0,this.Zn.ut=t.Nt(s.Wt,s.Wt),this.Zn.R=i.baseLineColor,this.Zn.ct=i.baseLineWidth,this.Zn.Xt=i.baseLineStyle)}}class sX extends sv{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}se(){return this.Yt}et({context:t,horizontalPixelRatio:e,verticalPixelRatio:i}){let s=this.Yt;if(null===s)return;let r=Math.max(1,Math.floor(e)),n=r%2/2,l=Math.round(s.ne.x*e)+n,h=s.ne.y*i;t.fillStyle=s.ee,t.beginPath();let o=Math.max(2,1.5*s.re)*e;t.arc(l,h,o,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.he,t.beginPath(),t.arc(l,h,s.ft*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.ae,t.beginPath(),t.arc(l,h,s.ft*e+r/2,0,2*Math.PI,!1),t.stroke()}}let sK=[{le:0,oe:.25,_e:4,ue:10,ce:.25,de:0,fe:.4,pe:.8},{le:.25,oe:.525,_e:10,ue:14,ce:0,de:0,fe:.8,pe:0},{le:.525,oe:1,_e:14,ue:14,ce:0,de:0,fe:0,pe:0}];class sZ{constructor(t){this.Gt=new sX,this.xt=!0,this.ve=!0,this.me=performance.now(),this.we=this.me-1,this.ge=t}Me(){this.we=this.me-1,this.yt()}be(){if(this.yt(),2===this.ge.N().lastPriceAnimation){let t=performance.now(),e=this.we-t;if(e>0)return void(e<650&&(this.we+=2600));this.me=t,this.we=t+2600}}yt(){this.xt=!0}Se(){this.ve=!0}Vt(){return 0!==this.ge.N().lastPriceAnimation}xe(){switch(this.ge.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.we}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.ve=!1):this.ve&&(this.Ce(),this.ve=!1),this.Gt}Rt(){this.Gt.ht(null);let t=this.ge.Qt().Et(),e=t.Pe(),i=this.ge.zt();if(null===e||null===i)return;let s=this.ge.ye(!0);if(s.ke||!e.Te(s.Re))return;let r={x:t.qt(s.Re),y:this.ge.Ft().Nt(s.gt,i.Wt)},n=s.R,l=this.ge.N().lineWidth,h=this.De(this.Ve(),n);this.Gt.ht({ee:n,re:l,he:h.he,ae:h.ae,ft:h.ft,ne:r})}Ce(){let t=this.Gt.se();if(null!==t){let e=this.De(this.Ve(),t.ee);t.he=e.he,t.ae=e.ae,t.ft=e.ft}}Ve(){return this.xe()?performance.now()-this.me:2599}Be(t,e,i,s){return this.ge.Qt().Xi().j(t,i+(s-i)*e)}De(t,e){var i;let s,r=t%2600/2600;for(let t of sK)if(r>=t.le&&r<=t.oe){s=t;break}i9(void 0!==s,"Last price animation internal logic error");let n=(r-s.le)/(s.oe-s.le);return{he:this.Be(e,n,s.ce,s.de),ae:this.Be(e,n,s.fe,s.pe),ft:(i=s._e)+(s.ue-i)*n}}}class s0 extends sQ{constructor(t){super(t)}te(){let t=this.Zn;t.Vt=!1;let e=this.Jn.N();if(!e.priceLineVisible||!this.Jn.Vt())return;let i=this.Jn.ye(0===e.priceLineSource);i.ke||(t.Vt=!0,t.ut=i.Ii,t.R=this.Jn.Ie(i.R),t.ct=e.priceLineWidth,t.Xt=e.priceLineStyle)}}class s1 extends sj{constructor(t){super(),this.Jt=t}qi(t,e,i){t.Vt=!1,e.Vt=!1;let s=this.Jt;if(!s.Vt())return;let r=s.N(),n=r.lastValueVisible,l=""!==s.Ee(),h=0===r.seriesLastValueMode,o=s.ye(!1);if(o.ke)return;n&&(t.ri=this.Ae(o,n,h),t.Vt=0!==t.ri.length),(l||h)&&(e.ri=this.ze(o,n,l,h),e.Vt=e.ri.length>0);let a=s.Ie(o.R),u=this.Jt.Qt().Xi().X(a);i.Z=u.Z,i.Ii=o.Ii,e.Ht=s.Qt().Ut(o.Ii/s.Ft().$t()),t.Ht=a,t.R=u.G,e.R=u.G}ze(t,e,i,s){let r="",n=this.Jt.Ee();return i&&0!==n.length&&(r+=`${n} `),e&&s&&(r+=this.Jt.Ft().Le()?t.Oe:t.Ne),r.trim()}Ae(t,e,i){return e?i?this.Jt.Ft().Le()?t.Ne:t.Oe:t.ri:""}}function s2(t,e,i,s){let r=Number.isFinite(e),n=Number.isFinite(i);return r&&n?t(e,i):r||n?r?e:i:s}class s5{constructor(t,e){this.Fe=t,this.We=e}He(t){return null!==t&&this.Fe===t.Fe&&this.We===t.We}Ue(){return new s5(this.Fe,this.We)}$e(){return this.Fe}qe(){return this.We}Ye(){return this.We-this.Fe}Ki(){return this.We===this.Fe||Number.isNaN(this.We)||Number.isNaN(this.Fe)}vn(t){return null===t?this:new s5(s2(Math.min,this.$e(),t.$e(),-1/0),s2(Math.max,this.qe(),t.qe(),1/0))}je(t){if(!sr(t)||0==this.We-this.Fe)return;let e=.5*(this.We+this.Fe),i=this.We-e,s=this.Fe-e;i*=t,s*=t,this.We=e+i,this.Fe=e+s}Ke(t){sr(t)&&(this.We+=t,this.Fe+=t)}Xe(){return{minValue:this.Fe,maxValue:this.We}}static Ze(t){return null===t?null:new s5(t.minValue,t.maxValue)}}class s3{constructor(t,e){this.Ge=t,this.Je=e||null}Qe(){return this.Ge}tr(){return this.Je}Xe(){return{priceRange:null===this.Ge?null:this.Ge.Xe(),margins:this.Je||void 0}}static Ze(t){return null===t?null:new s3(s5.Ze(t.priceRange),t.margins)}}class s4 extends sQ{constructor(t,e){super(t),this.ir=e}te(){let t=this.Zn;t.Vt=!1;let e=this.ir.N();if(!this.Jn.Vt()||!e.lineVisible)return;let i=this.ir.sr();null!==i&&(t.Vt=!0,t.ut=i,t.R=e.color,t.ct=e.lineWidth,t.Xt=e.lineStyle,t.Kn=this.ir.N().id)}}class s8 extends sj{constructor(t,e){super(),this.ge=t,this.ir=e}qi(t,e,i){t.Vt=!1,e.Vt=!1;let s=this.ir.N(),r=s.axisLabelVisible,n=""!==s.title,l=this.ge;if(!r||!l.Vt())return;let h=this.ir.sr();if(null===h)return;n&&(e.ri=s.title,e.Vt=!0),e.Ht=l.Qt().Ut(h/l.Ft().$t()),t.ri=this.nr(s.price),t.Vt=!0;let o=this.ge.Qt().Xi().X(s.axisLabelColor||s.color);i.Z=o.Z;let a=s.axisLabelTextColor||o.G;t.R=a,e.R=a,i.Ii=h}nr(t){let e=this.ge.zt();return null===e?"":this.ge.Ft().Zi(t,e.Wt)}}class s6{constructor(t,e){this.ge=t,this.Ps=e,this.er=new s4(t,this),this.Fn=new s8(t,this),this.rr=new sJ(this.Fn,t,t.Qt())}hr(t){ss(this.Ps,t),this.yt(),this.ge.Qt().ar()}N(){return this.Ps}lr(){return this.er}_r(){return this.rr}ur(){return this.Fn}yt(){this.er.yt(),this.Fn.yt()}sr(){let t=this.ge,e=t.Ft();if(t.Qt().Et().Ki()||e.Ki())return null;let i=t.zt();return null===i?null:e.Nt(this.Ps.price,i.Wt)}}class s9 extends sF{constructor(t){super(),this.ts=t}Qt(){return this.ts}}let s7={Bar:(t,e,i,s)=>{let r=e.upColor,n=e.downColor,l=st(t(i,s)),h=se(l.Wt[0])<=se(l.Wt[3]);return{cr:l.R??(h?r:n)}},Candlestick:(t,e,i,s)=>{let r=e.upColor,n=e.downColor,l=e.borderUpColor,h=e.borderDownColor,o=e.wickUpColor,a=e.wickDownColor,u=st(t(i,s)),c=se(u.Wt[0])<=se(u.Wt[3]);return{cr:u.R??(c?r:n),dr:u.Ht??(c?l:h),pr:u.vr??(c?o:a)}},Custom:(t,e,i,s)=>({cr:st(t(i,s)).R??e.color}),Area:(t,e,i,s)=>{let r=st(t(i,s));return{cr:r.vt??e.lineColor,vt:r.vt??e.lineColor,mr:r.mr??e.topColor,wr:r.wr??e.bottomColor}},Baseline:(t,e,i,s)=>{let r=st(t(i,s));return{cr:r.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,gr:r.gr??e.topLineColor,Mr:r.Mr??e.bottomLineColor,br:r.br??e.topFillColor1,Sr:r.Sr??e.topFillColor2,Cr:r.Cr??e.bottomFillColor1,Pr:r.Pr??e.bottomFillColor2}},Line:(t,e,i,s)=>{let r=st(t(i,s));return{cr:r.R??e.color,vt:r.R??e.color}},Histogram:(t,e,i,s)=>({cr:st(t(i,s)).R??e.color})};class rt{constructor(t){this.yr=(t,e)=>void 0!==e?e.Wt:this.ge.Xs().kr(t),this.ge=t,this.Tr=s7[t.Rr()]}Dr(t,e){return this.Tr(this.yr,this.ge.N(),t,e)}}function re(t,e,i,s,r=0,n=e.length){let l=n-r;for(;0<l;){let n=l>>1,h=r+n;s(e[h],i)===t?(r=h+1,l-=n+1):l=n}return r}let ri=re.bind(null,!0),rs=re.bind(null,!1);(d=k||(k={}))[d.NearestLeft=-1]="NearestLeft",d[d.None=0]="None",d[d.NearestRight=1]="NearestRight";class rr{constructor(){this.Vr=[],this.Br=new Map,this.Ir=new Map,this.Er=[]}Ar(){return this.zr()>0?this.Vr[this.Vr.length-1]:null}Lr(){return this.zr()>0?this.Or(0):null}Ks(){return this.zr()>0?this.Or(this.Vr.length-1):null}zr(){return this.Vr.length}Ki(){return 0===this.zr()}Te(t){return null!==this.Nr(t,0)}kr(t){return this.Fr(t)}Fr(t,e=0){let i=this.Nr(t,e);return null===i?null:{...this.Wr(i),Re:this.Or(i)}}Hr(){return this.Vr}Ur(t,e,i){if(this.Ki())return null;let s=null;for(let r of i)s=rn(s,this.$r(t,e,r));return s}ht(t){this.Ir.clear(),this.Br.clear(),this.Vr=t,this.Er=t.map(t=>t.Re)}qr(){return this.Er}Or(t){return this.Vr[t].Re}Wr(t){return this.Vr[t]}Nr(t,e){let i=this.Yr(t);if(null===i&&0!==e)switch(e){case -1:return this.jr(t);case 1:return this.Kr(t);default:throw TypeError("Unknown search mode")}return i}jr(t){let e=this.Xr(t);return e>0&&(e-=1),e!==this.Vr.length&&this.Or(e)<t?e:null}Kr(t){let e=this.Zr(t);return e!==this.Vr.length&&t<this.Or(e)?e:null}Yr(t){let e=this.Xr(t);return e===this.Vr.length||t<this.Vr[e].Re?null:e}Xr(t){return ri(this.Vr,t,(t,e)=>t.Re<e)}Zr(t){return rs(this.Vr,t,(t,e)=>t.Re>e)}Gr(t,e,i){let s=null;for(let r=t;r<e;r++){let t=this.Vr[r].Wt[i];Number.isNaN(t)||(null===s?s={Jr:t,Qr:t}:(t<s.Jr&&(s.Jr=t),t>s.Qr&&(s.Qr=t)))}return s}$r(t,e,i){if(this.Ki())return null;let s=null,r=st(this.Lr()),n=st(this.Ks()),l=Math.max(t,r),h=Math.min(e,n),o=30*Math.ceil(l/30),a=Math.max(o,30*Math.floor(h/30));{let t=this.Xr(l),r=this.Zr(Math.min(h,o,e));s=rn(s,this.Gr(t,r,i))}let u=this.Br.get(i);void 0===u&&(u=new Map,this.Br.set(i,u));for(let t=Math.max(o+1,l);t<a;t+=30){let e=Math.floor(t/30),r=u.get(e);if(void 0===r){let t=this.Xr(30*e),s=this.Zr((e+1)*30-1);r=this.Gr(t,s,i),u.set(e,r)}s=rn(s,r)}{let t=this.Xr(a),e=this.Zr(h);s=rn(s,this.Gr(t,e,i))}return s}}function rn(t,e){return null===t?e:null===e?t:{Jr:Math.min(t.Jr,e.Jr),Qr:Math.max(t.Qr,e.Qr)}}let rl={setLineStyle:i8};class rh{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rl)}ih(t,e,i){this.th.drawBackground?.(t,rl)}}class ro{constructor(t){this.Dn=null,this.sh=t}Tt(){let t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;let e=new rh(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}class ra{constructor(t){this.hh=null,this.ah=t}oh(){return this.ah}Ns(){this.ah.updateAllViews?.()}Fs(){let t=this.ah.paneViews?.()??[];if(this.hh?.nh===t)return this.hh.eh;let e=t.map(t=>new ro(t));return this.hh={nh:t,eh:e},e}jn(t,e){return this.ah.hitTest?.(t,e)??null}}let ru=class extends ra{us(){return[]}};class rc{constructor(t){this.th=t}nt(t,e,i){this.th.draw(t,rl)}ih(t,e,i){this.th.drawBackground?.(t,rl)}}class rd{constructor(t){this.Dn=null,this.sh=t}Tt(){let t=this.sh.renderer();if(null===t)return null;if(this.Dn?.nh===t)return this.Dn.eh;let e=new rc(t);return this.Dn={nh:t,eh:e},e}rh(){return this.sh.zOrder?.()??"normal"}}function rf(t){return{ri:t.text(),Ii:t.coordinate(),Bi:t.fixedCoordinate?.(),R:t.textColor(),Z:t.backColor(),Vt:t.visible?.()??!0,pi:t.tickVisible?.()??!0}}class rp{constructor(t,e){this.Gt=new sT,this._h=t,this.uh=e}Tt(){return this.Gt.ht({Qi:this.uh.Qi(),...rf(this._h)}),this.Gt}}class rm extends sj{constructor(t,e){super(),this._h=t,this.Yi=e}qi(t,e,i){let s=rf(this._h);i.Z=s.Z,t.R=s.R;let r=2/12*this.Yi.P();i.Ti=r,i.Ri=r,i.Ii=s.Ii,i.Bi=s.Bi,t.ri=s.ri,t.Vt=s.Vt,t.pi=s.pi}}class rg extends ra{constructor(t,e){super(t),this.dh=null,this.fh=null,this.ph=null,this.mh=null,this.ge=e}cs(){let t=this.ah.timeAxisViews?.()??[];if(this.dh?.nh===t)return this.dh.eh;let e=this.ge.Qt().Et(),i=t.map(t=>new rp(t,e));return this.dh={nh:t,eh:i},i}Ws(){let t=this.ah.priceAxisViews?.()??[];if(this.fh?.nh===t)return this.fh.eh;let e=this.ge.Ft(),i=t.map(t=>new rm(t,e));return this.fh={nh:t,eh:i},i}wh(){let t=this.ah.priceAxisPaneViews?.()??[];if(this.ph?.nh===t)return this.ph.eh;let e=t.map(t=>new rd(t));return this.ph={nh:t,eh:e},e}gh(){let t=this.ah.timeAxisPaneViews?.()??[];if(this.mh?.nh===t)return this.mh.eh;let e=t.map(t=>new rd(t));return this.mh={nh:t,eh:e},e}Mh(t,e){return this.ah.autoscaleInfo?.(t,e)??null}}function rb(t,e,i,s){t.forEach(t=>{e(t).forEach(t=>{t.rh()===i&&s.push(t)})})}function rv(t){return t.Fs()}function rx(t){return t.wh()}function rw(t){return t.gh()}let ry=["Area","Line","Baseline"];class rk extends s9{constructor(t,e,i,s,r){super(t),this.Yt=new rr,this.er=new s0(this),this.bh=[],this.Sh=new sG(this),this.xh=null,this.Ch=null,this.Ph=null,this.yh=[],this.Ps=i,this.kh=e;const n=new s1(this);this.vs=[n],this.rr=new sJ(n,this,t),ry.includes(this.kh)&&(this.xh=new sZ(this)),this.Th(),this.sh=s(this,this.Qt(),r)}m(){null!==this.Ph&&clearTimeout(this.Ph)}Ie(t){return this.Ps.priceLineColor||t}ye(t){let e,i,s={ke:!0},r=this.Ft();if(this.Qt().Et().Ki()||r.Ki()||this.Yt.Ki())return s;let n=this.Qt().Et().Pe(),l=this.zt();if(null===n||null===l)return s;if(t){let t=this.Yt.Ar();if(null===t)return s;e=t,i=t.Re}else{let t=this.Yt.Fr(n.bi(),-1);if(null===t||null===(e=this.Yt.kr(t.Re)))return s;i=t.Re}let h=e.Wt[3],o=this.Rh().Dr(i,{Wt:e}),a=r.Nt(h,l.Wt);return{ke:!1,gt:h,ri:r.Zi(h,l.Wt),Oe:r.Dh(h),Ne:r.Vh(h,l.Wt),R:o.cr,Ii:a,Re:i}}Rh(){return null!==this.Ch||(this.Ch=new rt(this)),this.Ch}N(){return this.Ps}hr(t){let e=t.priceScaleId;void 0!==e&&e!==this.Ps.priceScaleId&&this.Qt().Bh(this,e),ss(this.Ps,t),void 0!==t.priceFormat&&(this.Th(),this.Qt().Ih()),this.Qt().Eh(this),this.Qt().Ah(),this.sh.yt("options")}ht(t,e){this.Yt.ht(t),this.sh.yt("data"),null!==this.xh&&(e&&e.zh?this.xh.be():0===t.length&&this.xh.Me());let i=this.Qt().Hn(this);this.Qt().Lh(i),this.Qt().Eh(this),this.Qt().Ah(),this.Qt().ar()}Oh(t){let e=new s6(this,t);return this.bh.push(e),this.Qt().Eh(this),e}Nh(t){let e=this.bh.indexOf(t);-1!==e&&this.bh.splice(e,1),this.Qt().Eh(this)}Fh(){return this.bh}Rr(){return this.kh}zt(){let t=this.Wh();return null===t?null:{Wt:t.Wt[3],Hh:t.wt}}Wh(){let t=this.Qt().Et().Pe();if(null===t)return null;let e=t.Uh();return this.Yt.Fr(e,1)}Xs(){return this.Yt}$h(t){let e=this.Yt.kr(t);return null===e?null:"Bar"===this.kh||"Candlestick"===this.kh||"Custom"===this.kh?{qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3]}:e.Wt[3]}Xh(t){let e=[];rb(this.yh,rv,"top",e);let i=this.xh;return null!==i&&i.Vt()&&(null===this.Ph&&i.xe()&&(this.Ph=setTimeout(()=>{this.Ph=null,this.Qt().Zh()},0)),i.Se(),e.unshift(i)),e}Fs(){let t=[];this.Gh()||t.push(this.Sh),t.push(this.sh,this.er);let e=this.bh.map(t=>t.lr());return t.push(...e),rb(this.yh,rv,"normal",t),t}Jh(){return this.Qh(rv,"bottom")}ta(t){return this.Qh(rx,t)}ia(t){return this.Qh(rw,t)}sa(t,e){return this.yh.map(i=>i.jn(t,e)).filter(t=>null!==t)}us(){return[this.rr,...this.bh.map(t=>t._r())]}Ws(t,e){if(e!==this.es&&!this.Gh())return[];let i=[...this.vs];for(let t of this.bh)i.push(t.ur());return this.yh.forEach(t=>{i.push(...t.Ws())}),i}cs(){let t=[];return this.yh.forEach(e=>{t.push(...e.cs())}),t}Mh(t,e){if(void 0!==this.Ps.autoscaleInfoProvider){let i=this.Ps.autoscaleInfoProvider(()=>{let i=this.na(t,e);return null===i?null:i.Xe()});return s3.Ze(i)}return this.na(t,e)}nh(){let t=this.Ps.priceFormat;return t.base??1/t.minMove}ea(){return this.ra}Ns(){for(let t of(this.sh.yt(),this.vs))t.yt();for(let t of this.bh)t.yt();this.er.yt(),this.Sh.yt(),this.xh?.yt(),this.yh.forEach(t=>t.Ns())}Ft(){return st(super.Ft())}At(t){if(!(("Line"===this.kh||"Area"===this.kh||"Baseline"===this.kh)&&this.Ps.crosshairMarkerVisible))return null;let e=this.Yt.kr(t);return null===e?null:{gt:e.Wt[3],ft:this.ha(),Ht:this.aa(),Ot:this.la(),Lt:this.oa(t)}}Ee(){return this.Ps.title}Vt(){return this.Ps.visible}_a(t){this.yh.push(new rg(t,this))}ua(t){this.yh=this.yh.filter(e=>e.oh()!==t)}ca(){if("Custom"===this.kh)return t=>this.sh.da(t)}fa(){if("Custom"===this.kh)return t=>this.sh.pa(t)}va(){return this.Yt.qr()}Gh(){return!sA(this.Ft().ma())}na(t,e){if(!sn(t)||!sn(e)||this.Yt.Ki())return null;let i="Line"===this.kh||"Area"===this.kh||"Baseline"===this.kh||"Histogram"===this.kh?[3]:[2,1],s=this.Yt.Ur(t,e,i),r=null!==s?new s5(s.Jr,s.Qr):null,n=null;if("Histogram"===this.Rr()){let t=this.Ps.base,e=new s5(t,t);r=null!==r?r.vn(e):e}return this.yh.forEach(i=>{let s=i.Mh(t,e);if(s?.priceRange){let t=new s5(s.priceRange.minValue,s.priceRange.maxValue);r=null!==r?r.vn(t):t}s?.margins&&(n=s.margins)}),new s3(r,n)}ha(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}aa(){switch(this.kh){case"Line":case"Area":case"Baseline":{let t=this.Ps.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}la(){switch(this.kh){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}oa(t){switch(this.kh){case"Line":case"Area":case"Baseline":{let t=this.Ps.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.Rh().Dr(t).cr}Th(){switch(this.Ps.priceFormat.type){case"custom":{let t=this.Ps.priceFormat.formatter;this.ra={format:t,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(e=>e.map(t))};break}case"volume":this.ra=new sU(this.Ps.priceFormat.precision);break;case"percent":this.ra=new sY(this.Ps.priceFormat.precision);break;default:{let t=Math.pow(10,this.Ps.priceFormat.precision);this.ra=new sI(t,this.Ps.priceFormat.minMove*t)}}null!==this.es&&this.es.wa()}Qh(t,e){let i=[];return rb(this.yh,t,e,i),i}}let rS=[3],r_=[0,1,2,3];class rM{constructor(t){this.Ps=t}ga(t,e,i){if(0===this.Ps.mode)return t;let s=i.ks(),r=s.zt();if(null===r)return t;let n=s.Nt(t,r),l=i.Ma().filter(t=>t instanceof rk).reduce((t,s)=>{if(i.Un(s)||!s.Vt())return t;let r=s.Ft(),n=s.Xs();if(r.Ki()||!n.Te(e))return t;let l=n.kr(e);if(null===l)return t;let h=se(s.zt()),o=3===this.Ps.mode?r_:rS;return t.concat(o.map(t=>r.Nt(l.Wt[t],h.Wt)))},[]);if(0===l.length)return t;l.sort((t,e)=>Math.abs(t-n)-Math.abs(e-n));let h=l[0];return s.Ts(h,r)}}function rE(t,e,i){return Math.min(Math.max(t,e),i)}class rN extends sv{constructor(){super(...arguments),this.Yt=null}ht(t){this.Yt=t}et({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){var r;if(null===this.Yt)return;let n=Math.max(1,Math.floor(i));t.lineWidth=n,r=()=>{let r=st(this.Yt);if(r.ba){for(let s of(t.strokeStyle=r.Sa,i8(t,r.xa),t.beginPath(),r.Ca)){let r=Math.round(s.Pa*i);t.moveTo(r,-n),t.lineTo(r,e.height+n)}t.stroke()}if(r.ya){for(let i of(t.strokeStyle=r.ka,i8(t,r.Ta),t.beginPath(),r.Ra)){let r=Math.round(i.Pa*s);t.moveTo(-n,r),t.lineTo(e.width+n,r)}t.stroke()}},t.save(),t.lineWidth%2&&t.translate(.5,.5),r(),t.restore()}}class rC{constructor(t){this.Gt=new rN,this.xt=!0,this.Pt=t}yt(){this.xt=!0}Tt(){if(this.xt){let t=this.Pt.Qt().N().grid,e={ya:t.horzLines.visible,ba:t.vertLines.visible,ka:t.horzLines.color,Sa:t.vertLines.color,Ta:t.horzLines.style,xa:t.vertLines.style,Ra:this.Pt.ks().Da(),Ca:(this.Pt.Qt().Et().Da()||[]).map(t=>({Pa:t.coord}))};this.Gt.ht(e),this.xt=!1}return this.Gt}}class rP{constructor(t){this.sh=new rC(t)}lr(){return this.sh}}let rj={Va:4,Ba:1e-4};function rR(t,e){let i=100*(t-e)/e;return e<0?-i:i}function rz(t,e){let i=100*(t-e)/e+100;return e<0?-i:i}function rT(t,e){let i=Math.abs(t);if(i<1e-15)return 0;let s=Math.log10(i+e.Ba)+e.Va;return t<0?-s:s}function rO(t,e){let i=Math.abs(t);if(i<1e-15)return 0;let s=Math.pow(10,i-e.Va)-e.Ba;return t<0?-s:s}function rF(t,e){return null===t?null:new s5(rT(t.$e(),e),rT(t.qe(),e))}function rL(t,e){return null===t?null:new s5(rO(t.$e(),e),rO(t.qe(),e))}function rA(t){if(null===t)return rj;let e=Math.abs(t.qe()-t.$e());if(e>=1||e<1e-15)return rj;let i=Math.ceil(Math.abs(Math.log10(e))),s=rj.Va+i;return{Va:s,Ba:1/Math.pow(10,s)}}class rB{constructor(t,e){if(this.Ia=t,this.Ea=e,function(t){if(t<0)return!1;if(t>1e18)return!0;for(let e=t;e>1;e/=10)if(e%10!=0)return!1;return!0}(this.Ia))this.Aa=[2,2.5,2];else{this.Aa=[];for(let t=this.Ia;1!==t;){if(t%2==0)this.Aa.push(2),t/=2;else{if(t%5!=0)throw Error("unexpected base");this.Aa.push(2,2.5),t/=5}if(this.Aa.length>100)throw Error("something wrong with base")}}}za(t,e,i){let s=0===this.Ia?0:1/this.Ia,r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),n=0,l=this.Ea[0];for(;;){let t=s-r<=1e-14&&r>s+1e-14,e=i*l-r<=1e-14,h=1-r<=1e-14;if(!(t&&e&&h))break;r/=l,l=this.Ea[++n%this.Ea.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Aa.length>0&&1e-14>Math.abs(r-1))for(n=0,l=this.Aa[0];i*l-r<=1e-14&&r>s+1e-14;)r/=l,l=this.Aa[++n%this.Aa.length];return r}}class rD{constructor(t,e,i,s){this.La=[],this.Yi=t,this.Ia=e,this.Oa=i,this.Na=s}za(t,e){if(t<e)throw Error("high < low");let i=this.Yi.$t(),s=(t-e)*this.Fa()/i,r=new rB(this.Ia,[2,2.5,2]),n=new rB(this.Ia,[2,2,2.5]),l=new rB(this.Ia,[2.5,2,2]),h=[];return h.push(r.za(t,e,s),n.za(t,e,s),l.za(t,e,s)),function(t){if(t.length<1)throw Error("array is empty");let e=t[0];for(let i=1;i<t.length;++i)t[i]<e&&(e=t[i]);return e}(h)}Wa(){let t=this.Yi,e=t.zt();if(null===e)return void(this.La=[]);let i=t.$t(),s=this.Oa(i-1,e),r=this.Oa(0,e),n=this.Yi.N().entireTextOnly?this.Ha()/2:0,l=i-1-n,h=Math.max(s,r),o=Math.min(s,r);if(h===o)return void(this.La=[]);let a=this.za(h,o);if(this.Ua(e,a,h,o,n,l),t.$a()&&this.qa(a,o,h)){let t=this.Yi.Ya();this.ja(e,a,n,l,t,2*t)}let u=this.La.map(t=>t.Ka),c=this.Yi.Xa(u);for(let t=0;t<this.La.length;t++)this.La[t].Za=c[t]}Da(){return this.La}Ha(){return this.Yi.P()}Fa(){return Math.ceil(2.5*this.Ha())}Ua(t,e,i,s,r,n){let l=this.La,h=this.Yi,o=i%e;o+=o<0?e:0;let a=i>=s?1:-1,u=null,c=0;for(let d=i-o;d>s;d-=e){let i=this.Na(d,t,!0);null!==u&&Math.abs(i-u)<this.Fa()||i<r||i>n||(c<l.length?(l[c].Pa=i,l[c].Za=h.Ga(d),l[c].Ka=d):l.push({Pa:i,Za:h.Ga(d),Ka:d}),c++,u=i,h.Ja()&&(e=this.za(d*a,s)))}l.length=c}ja(t,e,i,s,r,n){let l=this.La,h=this.Qa(t,i,r,n),o=this.Qa(t,s,-n,-r),a=this.Na(0,t,!0)-this.Na(e,t,!0);l.length>0&&l[0].Pa-h.Pa<a/2&&l.shift(),l.length>0&&o.Pa-l[l.length-1].Pa<a/2&&l.pop(),l.unshift(h),l.push(o)}Qa(t,e,i,s){let r=this.Oa(e+i,t),n=this.Oa(e+s,t),l=Math.min(r,n),h=Math.max(r,n),o=Math.max(.1,this.za(h,l)),a=this.Oa(e+(i+s)/2,t),u=a-a%o,c=this.Na(u,t,!0);return{Za:this.Yi.Ga(u),Pa:c,Ka:u}}qa(t,e,i){let s=se(this.Yi.Qe());return this.Yi.Ja()&&(s=rL(s,this.Yi.tl())),s.$e()-e<t&&i-s.qe()<t}}function rV(t){return t.slice().sort((t,e)=>st(t.hs())-st(e.hs()))}(f=S||(S={}))[f.Normal=0]="Normal",f[f.Logarithmic=1]="Logarithmic",f[f.Percentage=2]="Percentage",f[f.IndexedTo100=3]="IndexedTo100";let rI=new sY,rY=new sI(100,1);class rU{constructor(t,e,i,s,r){this.il=0,this.sl=null,this.Ge=null,this.nl=null,this.el={rl:!1,hl:null},this.al=!1,this.ll=0,this.ol=0,this._l=new si,this.ul=new si,this.cl=[],this.dl=null,this.fl=null,this.pl=null,this.vl=null,this.ml=null,this.ra=rY,this.wl=rA(null),this.gl=t,this.Ps=e,this.Ml=i,this.bl=s,this.Sl=r,this.xl=new rD(this,100,this.Cl.bind(this),this.Pl.bind(this))}ma(){return this.gl}N(){return this.Ps}hr(t){if(ss(this.Ps,t),this.wa(),void 0!==t.mode&&this.yl({ie:t.mode}),void 0!==t.scaleMargins){let e=i7(t.scaleMargins.top),i=i7(t.scaleMargins.bottom);if(e<0||e>1)throw Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(i<0||i>1)throw Error(`Invalid bottom margin - expect value between 0 and 1, given=${i}`);if(e+i>1)throw Error(`Invalid margins - sum of margins must be less than 1, given=${e+i}`);this.kl(),this.pl=null}}Tl(){return this.Ps.autoScale}Rl(){return this.al}Ja(){return 1===this.Ps.mode}Le(){return 2===this.Ps.mode}Dl(){return 3===this.Ps.mode}tl(){return this.wl}ie(){return{sn:this.Ps.autoScale,Vl:this.Ps.invertScale,ie:this.Ps.mode}}yl(t){let e=this.ie(),i=null;void 0!==t.sn&&(this.Ps.autoScale=t.sn),void 0!==t.ie&&(this.Ps.mode=t.ie,2!==t.ie&&3!==t.ie||(this.Ps.autoScale=!0),this.el.rl=!1),1===e.ie&&t.ie!==e.ie&&(function(t,e){if(null===t)return!1;let i=rO(t.$e(),e),s=rO(t.qe(),e);return isFinite(i)&&isFinite(s)}(this.Ge,this.wl)?null!==(i=rL(this.Ge,this.wl))&&this.Bl(i):this.Ps.autoScale=!0),1===t.ie&&t.ie!==e.ie&&null!==(i=rF(this.Ge,this.wl))&&this.Bl(i);let s=e.ie!==this.Ps.mode;s&&(2===e.ie||this.Le())&&this.wa(),s&&(3===e.ie||this.Dl())&&this.wa(),void 0!==t.Vl&&e.Vl!==t.Vl&&(this.Ps.invertScale=t.Vl,this.Il()),this.ul.p(e,this.ie())}El(){return this.ul}P(){return this.Ml.fontSize}$t(){return this.il}Al(t){this.il!==t&&(this.il=t,this.kl(),this.pl=null)}zl(){if(this.sl)return this.sl;let t=this.$t()-this.Ll()-this.Ol();return this.sl=t,t}Qe(){return this.Nl(),this.Ge}Bl(t,e){let i=this.Ge;(e||null===i&&null!==t||null!==i&&!i.He(t))&&(this.pl=null,this.Ge=t)}Fl(t){this.Bl(t),this.Wl(null!==t)}Ki(){return this.Nl(),0===this.il||!this.Ge||this.Ge.Ki()}Hl(t){return this.Vl()?t:this.$t()-1-t}Nt(t,e){return this.Le()?t=rR(t,e):this.Dl()&&(t=rz(t,e)),this.Pl(t,e)}Ul(t,e,i){this.Nl();let s=this.Ol(),r=st(this.Qe()),n=r.$e(),l=r.qe(),h=this.zl()-1,o=this.Vl(),a=h/(l-n),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.$l();for(let i=u;i<c;i++){let r=t[i],l=r.gt;if(isNaN(l))continue;let h=l;null!==d&&(h=d(r.gt,e));let u=s+a*(h-n);r.ut=o?u:this.il-1-u}}ql(t,e,i){this.Nl();let s=this.Ol(),r=st(this.Qe()),n=r.$e(),l=r.qe(),h=this.zl()-1,o=this.Vl(),a=h/(l-n),u=void 0===i?0:i.from,c=void 0===i?t.length:i.to,d=this.$l();for(let i=u;i<c;i++){let r=t[i],l=r.qh,h=r.Yh,u=r.jh,c=r.Kh;null!==d&&(l=d(r.qh,e),h=d(r.Yh,e),u=d(r.jh,e),c=d(r.Kh,e));let f=s+a*(l-n),p=o?f:this.il-1-f;r.Yl=p,f=s+a*(h-n),r.jl=p=o?f:this.il-1-f,f=s+a*(u-n),r.Kl=p=o?f:this.il-1-f,f=s+a*(c-n),r.Xl=p=o?f:this.il-1-f}}Ts(t,e){let i=this.Cl(t,e);return this.Zl(i,e)}Zl(t,e){var i,s;let r=t;return this.Le()?(i=r,e<0&&(i=-i),r=i/100*e+e):this.Dl()&&(s=r-100,e<0&&(s=-s),r=s/100*e+e),r}Ma(){return this.cl}Dt(){return this.fl||(this.fl=rV(this.cl)),this.fl}Gl(t){-1===this.cl.indexOf(t)&&(this.cl.push(t),this.wa(),this.Jl())}Ql(t){let e=this.cl.indexOf(t);if(-1===e)throw Error("source is not attached to scale");this.cl.splice(e,1),0===this.cl.length&&(this.yl({sn:!0}),this.Bl(null)),this.wa(),this.Jl()}zt(){let t=null;for(let e of this.cl){let i=e.zt();null!==i&&(null===t||i.Hh<t.Hh)&&(t=i)}return null===t?null:t.Wt}Vl(){return this.Ps.invertScale}Da(){let t=null===this.zt();if(null!==this.pl&&(t||this.pl.io===t))return this.pl.Da;this.xl.Wa();let e=this.xl.Da();return this.pl={Da:e,io:t},this._l.p(),e}so(){return this._l}no(t){this.Le()||this.Dl()||null===this.vl&&null===this.nl&&(this.Ki()||(this.vl=this.il-t,this.nl=st(this.Qe()).Ue()))}eo(t){if(this.Le()||this.Dl()||null===this.vl)return;this.yl({sn:!1}),(t=this.il-t)<0&&(t=0);let e=(this.vl+.2*(this.il-1))/(t+.2*(this.il-1)),i=st(this.nl).Ue();e=Math.max(e,.1),i.je(e),this.Bl(i)}ro(){this.Le()||this.Dl()||(this.vl=null,this.nl=null)}ho(t){this.Tl()||null===this.ml&&null===this.nl&&(this.Ki()||(this.ml=t,this.nl=st(this.Qe()).Ue()))}ao(t){if(this.Tl()||null===this.ml)return;let e=st(this.Qe()).Ye()/(this.zl()-1),i=t-this.ml;this.Vl()&&(i*=-1);let s=i*e,r=st(this.nl).Ue();r.Ke(s),this.Bl(r,!0),this.pl=null}lo(){this.Tl()||null!==this.ml&&(this.ml=null,this.nl=null)}ea(){return this.ra||this.wa(),this.ra}Zi(t,e){switch(this.Ps.mode){case 2:return this.oo(rR(t,e));case 3:return this.ea().format(rz(t,e));default:return this.nr(t)}}Ga(t){switch(this.Ps.mode){case 2:return this.oo(t);case 3:return this.ea().format(t);default:return this.nr(t)}}Xa(t){switch(this.Ps.mode){case 2:return this._o(t);case 3:return this.ea().formatTickmarks(t);default:return this.uo(t)}}Dh(t){return this.nr(t,st(this.dl).ea())}Vh(t,e){return t=rR(t,e),this.oo(t,rI)}co(){return this.cl}do(t){this.el={hl:t,rl:!1}}Ns(){this.cl.forEach(t=>t.Ns())}$a(){return this.Ps.ensureEdgeTickMarksVisible&&this.Tl()}Ya(){return this.P()/2}wa(){this.pl=null;let t=1/0;for(let e of(this.dl=null,this.cl))e.hs()<t&&(t=e.hs(),this.dl=e);let e=100;null!==this.dl&&(e=Math.round(this.dl.nh())),this.ra=rY,this.Le()?(this.ra=rI,e=100):this.Dl()?(this.ra=new sI(100,1),e=100):null!==this.dl&&(this.ra=this.dl.ea()),this.xl=new rD(this,e,this.Cl.bind(this),this.Pl.bind(this)),this.xl.Wa()}Jl(){this.fl=null}fo(){return null===this.dl||this.Le()||this.Dl()?1:1/this.dl.nh()}Xi(){return this.Sl}Wl(t){this.al=t}Ll(){return this.Vl()?this.Ps.scaleMargins.bottom*this.$t()+this.ol:this.Ps.scaleMargins.top*this.$t()+this.ll}Ol(){return this.Vl()?this.Ps.scaleMargins.top*this.$t()+this.ll:this.Ps.scaleMargins.bottom*this.$t()+this.ol}Nl(){this.el.rl||(this.el.rl=!0,this.po())}kl(){this.sl=null}Pl(t,e){if(this.Nl(),this.Ki())return 0;t=this.Ja()&&t?rT(t,this.wl):t;let i=st(this.Qe()),s=this.Ol()+(this.zl()-1)*(t-i.$e())/i.Ye();return this.Hl(s)}Cl(t,e){if(this.Nl(),this.Ki())return 0;let i=this.Hl(t),s=st(this.Qe()),r=s.$e()+s.Ye()*((i-this.Ol())/(this.zl()-1));return this.Ja()?rO(r,this.wl):r}Il(){this.pl=null,this.xl.Wa()}po(){var t,e,i,s,r;if(this.Rl()&&!this.Tl())return;let n=this.el.hl;if(null===n)return;let l=null,h=this.co(),o=0,a=0;for(let t of h){if(!t.Vt())continue;let h=t.zt();if(null===h)continue;let u=t.Mh(n.Uh(),n.bi()),c=u&&u.Qe();if(null!==c){switch(this.Ps.mode){case 1:c=rF(c,this.wl);break;case 2:e=c,i=h.Wt,c=new s5(rR(e.$e(),i),rR(e.qe(),i));break;case 3:s=c,r=h.Wt,c=new s5(rz(s.$e(),r),rz(s.qe(),r))}if(l=null===l?c:l.vn(st(c)),null!==u){let t=u.tr();null!==t&&(o=Math.max(o,t.above),a=Math.max(a,t.below))}}}if(this.$a()&&(o=Math.max(o,this.Ya()),a=Math.max(a,this.Ya())),o===this.ll&&a===this.ol||(this.ll=o,this.ol=a,this.pl=null,this.kl()),null!==l){if(l.$e()===l.qe()){let t=5*this.fo();this.Ja()&&(l=rL(l,this.wl)),l=new s5(l.$e()-t,l.qe()+t),this.Ja()&&(l=rF(l,this.wl))}if(this.Ja()){let e=rL(l,this.wl),i=rA(e);if(t=this.wl,i.Va!==t.Va||i.Ba!==t.Ba){let t=null!==this.nl?rL(this.nl,this.wl):null;this.wl=i,l=rF(e,i),null!==t&&(this.nl=rF(t,i))}}this.Bl(l)}else null===this.Ge&&(this.Bl(new s5(-.5,.5)),this.wl=rA(null))}$l(){return this.Le()?rR:this.Dl()?rz:this.Ja()?t=>rT(t,this.wl):null}vo(t,e,i){return void 0===e?(void 0===i&&(i=this.ea()),i.format(t)):e(t)}mo(t,e,i){return void 0===e?(void 0===i&&(i=this.ea()),i.formatTickmarks(t)):e(t)}nr(t,e){return this.vo(t,this.bl.priceFormatter,e)}uo(t,e){let i=this.bl.priceFormatter;return this.mo(t,this.bl.tickmarksPriceFormatter??(i?t=>t.map(i):void 0),e)}oo(t,e){return this.vo(t,this.bl.percentageFormatter,e)}_o(t,e){let i=this.bl.percentageFormatter;return this.mo(t,this.bl.tickmarksPercentageFormatter??(i?t=>t.map(i):void 0),e)}}function rW(t){return t instanceof rk}class r${constructor(t,e){this.cl=[],this.wo=new Map,this.il=0,this.Mo=0,this.bo=1,this.fl=null,this.So=!1,this.xo=new si,this.yh=[],this.uh=t,this.ts=e,this.Co=new rP(this);const i=e.N();this.Po=this.yo("left",i.leftPriceScale),this.ko=this.yo("right",i.rightPriceScale),this.Po.El().i(this.To.bind(this,this.Po),this),this.ko.El().i(this.To.bind(this,this.ko),this),this.Ro(i)}Ro(t){if(t.leftPriceScale&&this.Po.hr(t.leftPriceScale),t.rightPriceScale&&this.ko.hr(t.rightPriceScale),t.localization&&(this.Po.wa(),this.ko.wa()),t.overlayPriceScales)for(let e of Array.from(this.wo.values())){let i=st(e[0].Ft());i.hr(t.overlayPriceScales),t.localization&&i.wa()}}Do(t){switch(t){case"left":return this.Po;case"right":return this.ko}return this.wo.has(t)?i7(this.wo.get(t))[0].Ft():null}m(){this.Qt().Vo().u(this),this.Po.El().u(this),this.ko.El().u(this),this.cl.forEach(t=>{t.m&&t.m()}),this.yh=this.yh.filter(t=>{let e=t.oh();return e.detached&&e.detached(),!1}),this.xo.p()}Bo(){return this.bo}Io(t){this.bo=t}Qt(){return this.ts}Qi(){return this.Mo}$t(){return this.il}Eo(t){this.Mo=t,this.Ao()}Al(t){this.il=t,this.Po.Al(t),this.ko.Al(t),this.cl.forEach(e=>{if(this.Un(e)){let i=e.Ft();null!==i&&i.Al(t)}}),this.Ao()}zo(t){this.So=t}Lo(){return this.So}Oo(){return this.cl.filter(rW)}Ma(){return this.cl}Un(t){let e=t.Ft();return null===e||this.Po!==e&&this.ko!==e}Gl(t,e,i){this.No(t,e,i?t.hs():this.cl.length)}Ql(t,e){let i=this.cl.indexOf(t);i9(-1!==i,"removeDataSource: invalid data source"),this.cl.splice(i,1),e||this.cl.forEach((t,e)=>t.ls(e));let s=st(t.Ft()).ma();if(this.wo.has(s)){let e=i7(this.wo.get(s)),i=e.indexOf(t);-1!==i&&(e.splice(i,1),0===e.length&&this.wo.delete(s))}let r=t.Ft();r&&r.Ma().indexOf(t)>=0&&(r.Ql(t),this.Fo(r)),this.fl=null}qn(t){return t===this.Po?"left":t===this.ko?"right":"overlay"}Wo(){return this.Po}Ho(){return this.ko}Uo(t,e){t.no(e)}$o(t,e){t.eo(e),this.Ao()}qo(t){t.ro()}Yo(t,e){t.ho(e)}jo(t,e){t.ao(e),this.Ao()}Ko(t){t.lo()}Ao(){this.cl.forEach(t=>{t.Ns()})}ks(){let t=null;return this.ts.N().rightPriceScale.visible&&0!==this.ko.Ma().length?t=this.ko:this.ts.N().leftPriceScale.visible&&0!==this.Po.Ma().length?t=this.Po:0!==this.cl.length&&(t=this.cl[0].Ft()),null===t&&(t=this.ko),t}$n(){let t=null;return this.ts.N().rightPriceScale.visible?t=this.ko:this.ts.N().leftPriceScale.visible&&(t=this.Po),t}Fo(t){null!==t&&t.Tl()&&this.Xo(t)}Zo(t){let e=this.uh.Pe();t.yl({sn:!0}),null!==e&&t.do(e),this.Ao()}Go(){this.Xo(this.Po),this.Xo(this.ko)}Jo(){this.Fo(this.Po),this.Fo(this.ko),this.cl.forEach(t=>{this.Un(t)&&this.Fo(t.Ft())}),this.Ao(),this.ts.ar()}Dt(){return null===this.fl&&(this.fl=rV(this.cl)),this.fl}Qo(t,e){e=rE(e,0,this.cl.length-1);let i=this.cl.indexOf(t);for(let s of(i9(-1!==i,"setSeriesOrder: invalid data source"),this.cl.splice(i,1),this.cl.splice(e,0,t),this.cl.forEach((t,e)=>t.ls(e)),this.fl=null,[this.Po,this.ko]))s.Jl(),s.wa();this.ts.ar()}Bt(){return this.Dt().filter(rW)}t_(){return this.xo}i_(){return this.Co}_a(t){this.yh.push(new ru(t))}ua(t){this.yh=this.yh.filter(e=>e.oh()!==t),t.detached&&t.detached(),this.ts.ar()}s_(){return this.yh}sa(t,e){return this.yh.map(i=>i.jn(t,e)).filter(t=>null!==t)}Xo(t){let e=t.co();if(e&&e.length>0&&!this.uh.Ki()){let e=this.uh.Pe();null!==e&&t.do(e)}t.Ns()}No(t,e,i){let s=this.Do(e);if(null===s&&(s=this.yo(e,this.ts.N().overlayPriceScales)),this.cl.splice(i,0,t),!sA(e)){let i=this.wo.get(e)||[];i.push(t),this.wo.set(e,i)}t.ls(i),s.Gl(t),t._s(s),this.Fo(s),this.fl=null}To(t,e,i){e.ie!==i.ie&&this.Xo(t)}yo(t,e){let i=new rU(t,{visible:!0,autoScale:!0,...so(e)},this.ts.N().layout,this.ts.N().localization,this.ts.Xi());return i.Al(this.$t()),i}}function rq(t){return{n_:t.n_,e_:{Kn:t.r_.externalId},h_:t.r_.cursorStyle}}function rJ(t,e,i){let s=[t,...t.Dt()],r=function(t,e,i){var s,r;let n,l;for(let h of t)for(let t of h.sa?.(e,i)??[])s=t.zOrder,(r=n?.zOrder)&&("top"!==s||"top"===r)&&("normal"!==s||"bottom"!==r)||(n=t,l=h);return n&&l?{r_:n,n_:l}:null}(s,e,i);if("top"===r?.r_.zOrder)return rq(r);for(let n of s){if(r&&r.n_===n&&"bottom"!==r.r_.zOrder&&!r.r_.isBackground)return rq(r);if(void 0!==n.Fs){let s=function(t,e,i,s){for(let r of t){let t=r.Tt(s);if(null!==t&&t.jn){let s=t.jn(e,i);if(null!==s)return{a_:r,e_:s}}}return null}(n.Fs(t),e,i,t);if(null!==s)return{n_:n,a_:s.a_,e_:s.e_}}if(r&&r.n_===n&&"bottom"!==r.r_.zOrder&&r.r_.isBackground)return rq(r)}return r?.r_?rq(r):null}class rH{constructor(t,e,i=50){this.yn=0,this.kn=1,this.Tn=1,this.Dn=new Map,this.Rn=new Map,this.l_=t,this.o_=e,this.Vn=i}__(t){let e=t.time,i=this.o_.cacheKey(e),s=this.Dn.get(i);if(void 0!==s)return s.u_;if(this.yn===this.Vn){let t=this.Rn.get(this.Tn);this.Rn.delete(this.Tn),this.Dn.delete(i7(t)),this.Tn++,this.yn--}let r=this.l_(t);return this.Dn.set(i,{u_:r,An:this.kn}),this.Rn.set(this.kn,i),this.yn++,this.kn++,r}}class rQ{constructor(t,e){i9(t<=e,"right should be >= left"),this.c_=t,this.d_=e}Uh(){return this.c_}bi(){return this.d_}f_(){return this.d_-this.c_+1}Te(t){return this.c_<=t&&t<=this.d_}He(t){return this.c_===t.Uh()&&this.d_===t.bi()}}function rG(t,e){return null===t||null===e?t===e:t.He(e)}class rX{constructor(){this.p_=new Map,this.Dn=null,this.v_=!1}m_(t){this.v_=t,this.Dn=null}w_(t,e){this.g_(e),this.Dn=null;for(let i=e;i<t.length;++i){let e=t[i],s=this.p_.get(e.timeWeight);void 0===s&&(s=[],this.p_.set(e.timeWeight,s)),s.push({index:i,time:e.time,weight:e.timeWeight,originalTime:e.originalTime})}}M_(t,e,i,s,r){let n=Math.ceil(e/t);return null!==this.Dn&&this.Dn.b_===n&&r===this.Dn.S_&&i===this.Dn.x_||(this.Dn={S_:r,x_:i,Da:this.C_(n,i,s),b_:n}),this.Dn.Da}g_(t){if(0===t)return void this.p_.clear();let e=[];for(let i of(this.p_.forEach((i,s)=>{t<=i[0].index?e.push(s):i.splice(ri(i,t,e=>e.index<t),1/0)}),e))this.p_.delete(i)}C_(t,e,i){let s=[],r=t=>!e||i.has(t.index);for(let e of Array.from(this.p_.keys()).sort((t,e)=>e-t)){if(!this.p_.get(e))continue;let i=s;s=[];let n=i.length,l=0,h=i7(this.p_.get(e)),o=h.length,a=1/0,u=-1/0;for(let e=0;e<o;e++){let o=h[e],c=o.index;for(;l<n;){let t=i[l],e=t.index;if(!(e<c&&r(t))){a=e;break}l++,s.push(t),u=e,a=1/0}if(a-c>=t&&c-u>=t&&r(o))s.push(o),u=c;else if(this.v_)return i}for(;l<n;l++)r(i[l])&&s.push(i[l])}return s}}class rK{constructor(t){this.P_=t}y_(){return null===this.P_?null:new rQ(Math.floor(this.P_.Uh()),Math.ceil(this.P_.bi()))}k_(){return this.P_}static T_(){return new rK(null)}}function rZ(t,e){return t.weight>e.weight?t:e}class r0{constructor(t,e,i,s){this.Mo=0,this.R_=null,this.D_=[],this.ml=null,this.vl=null,this.V_=new rX,this.B_=new Map,this.I_=rK.T_(),this.E_=!0,this.A_=new si,this.z_=new si,this.L_=new si,this.O_=null,this.N_=null,this.F_=new Map,this.W_=-1,this.H_=[],this.Ps=e,this.bl=i,this.U_=e.rightOffset,this.q_=e.barSpacing,this.ts=t,this.Y_(e),this.o_=s,this.j_(),this.V_.m_(e.uniformDistribution),this.K_()}N(){return this.Ps}X_(t){ss(this.bl,t),this.Z_(),this.j_()}hr(t,e){ss(this.Ps,t),this.Ps.fixLeftEdge&&this.G_(),this.Ps.fixRightEdge&&this.J_(),void 0!==t.barSpacing&&this.ts.dn(t.barSpacing),void 0!==t.rightOffset&&this.ts.fn(t.rightOffset),this.Y_(t),void 0===t.minBarSpacing&&void 0===t.maxBarSpacing||this.ts.dn(t.barSpacing??this.q_),void 0!==t.ignoreWhitespaceIndices&&t.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.K_(),this.Z_(),this.j_(),this.L_.p()}Rs(t){return this.D_[t]?.time??null}ss(t){return this.D_[t]??null}Q_(t,e){if(this.D_.length<1)return null;if(this.o_.key(t)>this.o_.key(this.D_[this.D_.length-1].time))return e?this.D_.length-1:null;let i=ri(this.D_,this.o_.key(t),(t,e)=>this.o_.key(t.time)<e);return this.o_.key(t)<this.o_.key(this.D_[i].time)?e?i:null:i}Ki(){return 0===this.Mo||0===this.D_.length||null===this.R_}tu(){return this.D_.length>0}Pe(){return this.iu(),this.I_.y_()}su(){return this.iu(),this.I_.k_()}nu(){let t=this.Pe();if(null===t)return null;let e={from:t.Uh(),to:t.bi()};return this.eu(e)}eu(t){let e=Math.round(t.from),i=Math.round(t.to),s=st(this.ru()),r=st(this.hu());return{from:st(this.ss(Math.max(s,e))),to:st(this.ss(Math.min(r,i)))}}au(t){return{from:st(this.Q_(t.from,!0)),to:st(this.Q_(t.to,!0))}}Qi(){return this.Mo}Eo(t){if(!isFinite(t)||t<=0||this.Mo===t)return;let e=this.su(),i=this.Mo;if(this.Mo=t,this.E_=!0,this.Ps.lockVisibleTimeRangeOnResize&&0!==i){let e=this.q_*t/i;this.q_=e}this.Ps.fixLeftEdge&&null!==e&&0>=e.Uh()&&(this.U_-=Math.round((i-t)/this.q_)+1,this.E_=!0),this.lu(),this.ou()}qt(t){if(this.Ki()||!sn(t))return 0;let e=this._u()+this.U_-t;return this.Mo-(e+.5)*this.q_-1}uu(t,e){let i=this._u(),s=void 0===e?0:e.from,r=void 0===e?t.length:e.to;for(let e=s;e<r;e++){let s=t[e].wt,r=i+this.U_-s,n=this.Mo-(r+.5)*this.q_-1;t[e]._t=n}}cu(t,e){let i=Math.ceil(this.du(t));return e&&this.Ps.ignoreWhitespaceIndices&&!this.fu(i)?this.pu(i):i}fn(t){this.E_=!0,this.U_=t,this.ou(),this.ts.vu(),this.ts.ar()}mu(){return this.q_}dn(t){let e=this.q_;if(this.wu(t),void 0!==this.Ps.rightOffsetPixels&&0!==e){let t=this.U_*e/this.q_;this.U_=t}this.ou(),this.ts.vu(),this.ts.ar()}gu(){return this.U_}Da(){if(this.Ki())return null;if(null!==this.N_)return this.N_;let t=this.q_,e=5*(this.ts.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),i=Math.round(e/t),s=st(this.Pe()),r=Math.max(s.Uh(),s.Uh()-i),n=Math.max(s.bi(),s.bi()-i),l=this.V_.M_(t,e,this.Ps.ignoreWhitespaceIndices,this.F_,this.W_),h=this.ru()+i,o=this.hu()-i,a=this.Mu(),u=this.Ps.fixLeftEdge||a,c=this.Ps.fixRightEdge||a,d=0;for(let t of l){let i;r<=t.index&&t.index<=n&&(d<this.H_.length?((i=this.H_[d]).coord=this.qt(t.index),i.label=this.bu(t),i.weight=t.weight):(i={needAlignCoordinate:!1,coord:this.qt(t.index),label:this.bu(t),weight:t.weight},this.H_.push(i)),this.q_>e/2&&!a?i.needAlignCoordinate=!1:i.needAlignCoordinate=u&&t.index<=h||c&&t.index>=o,d++)}return this.H_.length=d,this.N_=this.H_,this.H_}Su(){let t;this.E_=!0,this.dn(this.Ps.barSpacing),t=void 0!==this.Ps.rightOffsetPixels?this.Ps.rightOffsetPixels/this.mu():this.Ps.rightOffset,this.fn(t)}xu(t){this.E_=!0,this.R_=t,this.ou(),this.G_()}Cu(t,e){let i=this.du(t),s=this.mu();this.dn(s+s/10*e),this.Ps.rightBarStaysOnScroll||this.fn(this.gu()+(i-this.du(t)))}no(t){this.ml&&this.lo(),null===this.vl&&null===this.O_&&(this.Ki()||(this.vl=t,this.Pu()))}eo(t){if(null===this.O_)return;let e=rE(this.Mo-t,0,this.Mo),i=rE(this.Mo-st(this.vl),0,this.Mo);0!==e&&0!==i&&this.dn(this.O_.mu*e/i)}ro(){null!==this.vl&&(this.vl=null,this.yu())}ho(t){null===this.ml&&null===this.O_&&(this.Ki()||(this.ml=t,this.Pu()))}ao(t){if(null===this.ml)return;let e=(this.ml-t)/this.mu();this.U_=st(this.O_).gu+e,this.E_=!0,this.ou()}lo(){null!==this.ml&&(this.ml=null,this.yu())}ku(){this.Tu(this.Ps.rightOffset)}Tu(t,e=400){if(!isFinite(t))throw RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw RangeError("animationDuration (optional) must be finite positive number");let i=this.U_,s=performance.now();this.ts._n({Ru:t=>(t-s)/e>=1,Du:r=>{let n=(r-s)/e;return n>=1?t:i+(t-i)*n}})}yt(t,e){this.E_=!0,this.D_=t,this.V_.w_(t,e),this.ou()}Vu(){return this.A_}Bu(){return this.z_}Iu(){return this.L_}_u(){return this.R_||0}Eu(t,e){let i=t.f_(),s=e&&this.Ps.rightOffsetPixels||0;this.wu((this.Mo-s)/i),this.U_=t.bi()-this._u(),e&&(this.U_=s?s/this.mu():this.Ps.rightOffset),this.ou(),this.E_=!0,this.ts.vu(),this.ts.ar()}Au(){let t=this.ru(),e=this.hu();null!==t&&null!==e&&this.Eu(new rQ(t,e),!0)}zu(t){let e=new rQ(t.from,t.to);this.Eu(e)}ns(t){return void 0!==this.bl.timeFormatter?this.bl.timeFormatter(t.originalTime):this.o_.formatHorzItem(t.time)}K_(){if(this.Ps.ignoreWhitespaceIndices){for(let t of(this.F_.clear(),this.ts.js()))for(let e of t.va())this.F_.set(e,!0);this.W_++}}Mu(){let t=this.ts.N().handleScroll,e=this.ts.N().handleScale;return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}ru(){return 0===this.D_.length?null:0}hu(){return 0===this.D_.length?null:this.D_.length-1}Lu(t){return(this.Mo-1-t)/this.q_}du(t){let e=this.Lu(t);return Math.round(1e6*(this._u()+this.U_-e))/1e6}wu(t){let e=this.q_;this.q_=t,this.lu(),e!==this.q_&&(this.E_=!0,this.Ou())}iu(){if(!this.E_)return;if(this.E_=!1,this.Ki())return void this.Nu(rK.T_());let t=this._u(),e=this.Mo/this.q_,i=this.U_+t,s=new rQ(i-e+1,i);this.Nu(new rK(s))}lu(){let t=rE(this.q_,this.Fu(),this.Wu());this.q_!==t&&(this.q_=t,this.E_=!0)}Wu(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.Mo}Fu(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&0!==this.D_.length?this.Mo/this.D_.length:this.Ps.minBarSpacing}ou(){let t=this.Hu();null!==t&&this.U_<t&&(this.U_=t,this.E_=!0);let e=this.Uu();this.U_>e&&(this.U_=e,this.E_=!0)}Hu(){let t=this.ru(),e=this.R_;return null===t||null===e?null:t-e-1+(this.Ps.fixLeftEdge?this.Mo/this.q_:Math.min(2,this.D_.length))}Uu(){return this.Ps.fixRightEdge?0:this.Mo/this.q_-Math.min(2,this.D_.length)}Pu(){this.O_={mu:this.mu(),gu:this.gu()}}yu(){this.O_=null}bu(t){let e=this.B_.get(t.weight);return void 0===e&&(e=new rH(t=>this.$u(t),this.o_),this.B_.set(t.weight,e)),e.__(t)}$u(t){return this.o_.formatTickmark(t,this.bl)}Nu(t){let e=this.I_;this.I_=t,rG(e.y_(),this.I_.y_())||this.A_.p(),rG(e.k_(),this.I_.k_())||this.z_.p(),this.Ou()}Ou(){this.N_=null}Z_(){this.Ou(),this.B_.clear()}j_(){this.o_.updateFormatter(this.bl)}G_(){if(!this.Ps.fixLeftEdge)return;let t=this.ru();if(null===t)return;let e=this.Pe();if(null===e)return;let i=e.Uh()-t;if(i<0){let t=this.U_-i-1;this.fn(t)}this.lu()}J_(){this.ou(),this.lu()}fu(t){return!this.Ps.ignoreWhitespaceIndices||this.F_.get(t)||!1}pu(t){let e=function*(t){let e=Math.round(t),i=e<t,s=1;for(;;)i?(yield e+s,yield e-s):(yield e-s,yield e+s),s++}(t),i=this.hu();for(;i;){let t=e.next().value;if(this.F_.get(t))return t;if(t<0||t>i)break}return t}Y_(t){if(void 0!==t.rightOffsetPixels){let e=t.rightOffsetPixels/(t.barSpacing||this.q_);this.ts.fn(e)}}}(p=_||(_={}))[p.OnTouchEnd=0]="OnTouchEnd",p[p.OnNextTap=1]="OnNextTap";class r1{constructor(t,e,i){this.qu=[],this.Yu=[],this.Mo=0,this.ju=null,this.Ku=new si,this.Xu=new si,this.Zu=null,this.Gu=t,this.Ps=e,this.o_=i,this.Sl=new sg(this.Ps.layout.colorParsers),this.Ju=new sf(this),this.uh=new r0(this,e.timeScale,this.Ps.localization,i),this.Ct=new sL(this,e.crosshair),this.Qu=new rM(e.crosshair),e.addDefaultPane&&(this.tc(0),this.qu[0].Io(2)),this.sc=this.nc(0),this.ec=this.nc(1)}Ih(){this.rc(sB.gn())}ar(){this.rc(sB.wn())}Zh(){this.rc(new sB(1))}Eh(t){let e=this.hc(t);this.rc(e)}ac(){return this.ju}lc(t){if(this.ju?.n_===t?.n_&&this.ju?.e_?.Kn===t?.e_?.Kn)return;let e=this.ju;this.ju=t,null!==e&&this.Eh(e.n_),null!==t&&t.n_!==e?.n_&&this.Eh(t.n_)}N(){return this.Ps}hr(t){ss(this.Ps,t),this.qu.forEach(e=>e.Ro(t)),void 0!==t.timeScale&&this.uh.hr(t.timeScale),void 0!==t.localization&&this.uh.X_(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Ku.p(),this.sc=this.nc(0),this.ec=this.nc(1),this.Ih()}oc(t,e,i=0){let s=this.qu[i];if(void 0===s)return;if("left"===t)return ss(this.Ps,{leftPriceScale:e}),s.Ro({leftPriceScale:e}),this.Ku.p(),void this.Ih();if("right"===t)return ss(this.Ps,{rightPriceScale:e}),s.Ro({rightPriceScale:e}),this.Ku.p(),void this.Ih();let r=this._c(t,i);null!==r&&(r.Ft.hr(e),this.Ku.p())}_c(t,e){let i=this.qu[e];if(void 0===i)return null;let s=i.Do(t);return null!==s?{Us:i,Ft:s}:null}Et(){return this.uh}$s(){return this.qu}uc(){return this.Ct}cc(){return this.Xu}dc(t,e){t.Al(e),this.vu()}Eo(t){this.Mo=t,this.uh.Eo(this.Mo),this.qu.forEach(e=>e.Eo(t)),this.vu()}fc(t){1!==this.qu.length&&(i9(t>=0&&t<this.qu.length,"Invalid pane index"),this.qu.splice(t,1),this.Ih())}vc(t,e){if(this.qu.length<2)return;i9(t>=0&&t<this.qu.length,"Invalid pane index");let i=this.qu[t],s=this.qu.reduce((t,e)=>t+e.Bo(),0),r=this.qu.reduce((t,e)=>t+e.$t(),0),n=r-30*(this.qu.length-1);e=Math.min(n,Math.max(30,e));let l=s/r,h=i.$t();i.Io(e*l);let o=e-h,a=this.qu.length-1;for(let t of this.qu)if(t!==i){let e=Math.min(n,Math.max(30,t.$t()-o/a));o-=t.$t()-e,a-=1;let i=e*l;t.Io(i)}this.Ih()}mc(t,e){i9(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index");let i=this.qu[t],s=this.qu[e];this.qu[t]=s,this.qu[e]=i,this.Ih()}wc(t,e){if(i9(t>=0&&t<this.qu.length&&e>=0&&e<this.qu.length,"Invalid pane index"),t===e)return;let[i]=this.qu.splice(t,1);this.qu.splice(e,0,i),this.Ih()}Uo(t,e,i){t.Uo(e,i)}$o(t,e,i){t.$o(e,i),this.Ah(),this.rc(this.gc(t,2))}qo(t,e){t.qo(e),this.rc(this.gc(t,2))}Yo(t,e,i){e.Tl()||t.Yo(e,i)}jo(t,e,i){e.Tl()||(t.jo(e,i),this.Ah(),this.rc(this.gc(t,2)))}Ko(t,e){e.Tl()||(t.Ko(e),this.rc(this.gc(t,2)))}Zo(t,e){t.Zo(e),this.rc(this.gc(t,2))}Mc(t){this.uh.no(t)}bc(t,e){let i=this.Et();if(i.Ki()||0===e)return;let s=i.Qi();t=Math.max(1,Math.min(t,s)),i.Cu(t,e),this.vu()}Sc(t){this.xc(0),this.Cc(t),this.Pc()}yc(t){this.uh.eo(t),this.vu()}kc(){this.uh.ro(),this.ar()}xc(t){this.uh.ho(t)}Cc(t){this.uh.ao(t),this.vu()}Pc(){this.uh.lo(),this.ar()}js(){return this.Yu}Tc(t,e,i,s,r){this.Ct.Vs(t,e);let n=NaN,l=this.uh.cu(t,!0),h=this.uh.Pe();null!==h&&(l=Math.min(Math.max(h.Uh(),l),h.bi()));let o=s.ks(),a=o.zt();if(null!==a&&(n=o.Ts(e,a)),n=this.Qu.ga(n,l,s),this.Ct.As(l,n,s),this.Zh(),!r){let r=rJ(s,t,e);this.lc(r&&{n_:r.n_,e_:r.e_,h_:r.h_||null}),this.Xu.p(this.Ct.It(),{x:t,y:e},i)}}Rc(t,e,i){let s=i.ks(),r=s.zt(),n=s.Nt(t,st(r)),l=this.uh.Q_(e,!0),h=this.uh.qt(st(l));this.Tc(h,n,null,i,!0)}Dc(t){this.uc().Ls(),this.Zh(),t||this.Xu.p(null,null,null)}Ah(){let t=this.Ct.Us();if(null!==t){let e=this.Ct.Is(),i=this.Ct.Es();this.Tc(e,i,null,t)}this.Ct.Ns()}Vc(t,e,i){let s=this.uh.Rs(0);void 0!==e&&void 0!==i&&this.uh.yt(e,i);let r=this.uh.Rs(0),n=this.uh._u(),l=this.uh.Pe();if(null!==l&&null!==s&&null!==r){let e=l.Te(n),h=this.o_.key(s)>this.o_.key(r),o=null!==t&&t>n&&!h,a=this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,u=e&&(void 0!==i||a)&&this.uh.N().shiftVisibleRangeOnNewBar;if(o&&!u){let e=t-n;this.uh.fn(this.uh.gu()-e)}}this.uh.xu(t)}Lh(t){null!==t&&t.Jo()}Hn(t){if(t instanceof r$)return t;let e=this.qu.find(e=>e.Dt().includes(t));return void 0===e?null:e}vu(){this.qu.forEach(t=>t.Jo()),this.Ah()}m(){this.qu.forEach(t=>t.m()),this.qu.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Bc(){return this.Ju}Yn(){return this.Ju.N()}Vo(){return this.Ku}Ic(t,e){let i=this.tc(e);this.Ec(t,i),this.Yu.push(t),1===this.Yu.length?this.Ih():this.ar()}Ac(t){let e=this.Hn(t),i=this.Yu.indexOf(t);i9(-1!==i,"Series not found");let s=st(e);this.Yu.splice(i,1),s.Ql(t),t.m&&t.m(),this.uh.K_(),this.zc(s)}Bh(t,e){let i=st(this.Hn(t));i.Ql(t,!0),i.Gl(t,e,!0)}Au(){let t=sB.wn();t.rn(),this.rc(t)}Lc(t){let e=sB.wn();e.ln(t),this.rc(e)}cn(){let t=sB.wn();t.cn(),this.rc(t)}dn(t){let e=sB.wn();e.dn(t),this.rc(e)}fn(t){let e=sB.wn();e.fn(t),this.rc(e)}_n(t){let e=sB.wn();e._n(t),this.rc(e)}hn(){let t=sB.wn();t.hn(),this.rc(t)}Oc(){return this.Ps.rightPriceScale.visible?"right":"left"}Nc(t,e){if(i9(e>=0,"Index should be greater or equal to 0"),e===this.Fc(t))return;let i=st(this.Hn(t));i.Ql(t);let s=this.tc(e);this.Ec(t,s),0===i.Ma().length&&this.zc(i),this.Ih()}Wc(){return this.ec}$(){return this.sc}Ut(t){let e=this.ec,i=this.sc;if(e===i)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Zu||this.Zu.mr!==i||this.Zu.wr!==e)this.Zu={mr:i,wr:e,Hc:new Map};else{let e=this.Zu.Hc.get(t);if(void 0!==e)return e}let s=this.Sl.tt(i,e,t/100);return this.Zu.Hc.set(t,s),s}Uc(t){return this.qu.indexOf(t)}Xi(){return this.Sl}$c(){return this.qc()}qc(t){let e=new r$(this.uh,this);this.qu.push(e);let i=t??this.qu.length-1,s=sB.gn();return s.Qs(i,{tn:0,sn:!0}),this.rc(s),e}tc(t){return i9(t>=0,"Index should be greater or equal to 0"),(t=Math.min(this.qu.length,t))<this.qu.length?this.qu[t]:this.qc(t)}Fc(t){return this.qu.findIndex(e=>e.Oo().includes(t))}gc(t,e){let i=new sB(e);if(null!==t){let s=this.qu.indexOf(t);i.Qs(s,{tn:e})}return i}hc(t,e){return void 0===e&&(e=2),this.gc(this.Hn(t),e)}rc(t){this.Gu&&this.Gu(t),this.qu.forEach(t=>t.i_().lr().yt())}Ec(t,e){let i=t.N().priceScaleId,s=void 0!==i?i:this.Oc();e.Gl(t,s),sA(s)||t.hr(t.N())}nc(t){let e=this.Ps.layout;return"gradient"===e.background.type?0===t?e.background.topColor:e.background.bottomColor:e.background.color}zc(t){!t.Lo()&&0===t.Ma().length&&this.qu.length>1&&this.qu.splice(this.Uc(t),1)}}function r2(t){if(t>=1)return 0;let e=0;for(;e<8&&!(1e-8>Math.abs(Math.round(t)-t));e++)t*=10;return e}function r5(t){return!sr(t)&&!sl(t)}(m=M||(M={}))[m.Disabled=0]="Disabled",m[m.Continuous=1]="Continuous",m[m.OnDataUpdate=2]="OnDataUpdate",(g=E||(E={}))[g.LastBar=0]="LastBar",g[g.LastVisible=1]="LastVisible",(b=N||(N={})).Solid="solid",b.VerticalGradient="gradient",(v=C||(C={}))[v.Year=0]="Year",v[v.Month=1]="Month",v[v.DayOfMonth=2]="DayOfMonth",v[v.Time=3]="Time",v[v.TimeWithSeconds=4]="TimeWithSeconds";class r3{constructor(t="yyyy-MM-dd",e="default"){this.Yc=t,this.jc=e}__(t){return function(t,e,i){return e.replace(/yyyy/g,sV(t.getUTCFullYear(),4)).replace(/yy/g,sV(t.getUTCFullYear()%100,2)).replace(/MMMM/g,new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"long"})).replace(/MMM/g,new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:"short"})).replace(/MM/g,sV(t.getUTCMonth()+1,2)).replace(/dd/g,sV(t.getUTCDate(),2))}(t,this.Yc,this.jc)}}class r4{constructor(t){this.Kc=t||"%h:%m:%s"}__(t){return this.Kc.replace("%h",sV(t.getUTCHours(),2)).replace("%m",sV(t.getUTCMinutes(),2)).replace("%s",sV(t.getUTCSeconds(),2))}}let r8={Xc:"yyyy-MM-dd",Zc:"%h:%m:%s",Gc:" ",Jc:"default"};class r6{constructor(t={}){const e={...r8,...t};this.Qc=new r3(e.Xc,e.Jc),this.td=new r4(e.Zc),this.sd=e.Gc}__(t){return`${this.Qc.__(t)}${this.sd}${this.td.__(t)}`}}function r9(t){return 60*t*6e4}function r7(t){return 60*t*1e3}let nt=[{nd:1e3,ed:10},{nd:r7(1),ed:20},{nd:r7(5),ed:21},{nd:r7(30),ed:22},{nd:r9(1),ed:30},{nd:r9(3),ed:31},{nd:r9(6),ed:32},{nd:r9(12),ed:33}];function ne(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=nt.length-1;i>=0;--i)if(Math.floor(e.getTime()/nt[i].nd)!==Math.floor(t.getTime()/nt[i].nd))return nt[i].ed;return 0}function ni(t){let e=t;if(sl(t)&&(e=nr(t)),!r5(e))throw Error("time must be of type BusinessDay");return{rd:Math.round(new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0)).getTime()/1e3),hd:e}}function ns(t){if(!sr(t))throw Error("time must be of type isUTCTimestamp");return{rd:t}}function nr(t){let e=new Date(t);if(isNaN(e.getTime()))throw Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function nn(t){sl(t.time)&&(t.time=nr(t.time))}class nl{options(){return this.Ps}setOptions(t){this.Ps=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?t.forEach(nn):nn(t)}createConverterToInternalObj(t){return st(0===t.length?null:r5(t[0].time)||sl(t[0].time)?ni:ns)}key(t){return"object"==typeof t&&"rd"in t?t.rd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){return void 0===t.hd?new Date(1e3*t.rd).getTime():new Date(Date.UTC(t.hd.year,t.hd.month-1,t.hd.day)).getTime()}convertHorzItemToInternal(t){return sr(t)?ns(t):r5(t)?ni(t):ni(nr(t))}updateFormatter(t){if(!this.Ps)return;let e=t.dateFormat;this.Ps.timeScale.timeVisible?this.ad=new r6({Xc:e,Zc:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",Gc:"   ",Jc:t.locale}):this.ad=new r3(e,t.locale)}formatHorzItem(t){return this.ad.__(new Date(1e3*t.rd))}formatTickmark(t,e){let i=function(t,e,i){switch(t){case 0:case 10:return e?i?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return e?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(void 0!==s.tickMarkFormatter){let r=s.tickMarkFormatter(t.originalTime,i,e.locale);if(null!==r)return r}return function(t,e,i){let s={};switch(e){case 0:s.year="numeric";break;case 1:s.month="short";break;case 2:s.day="numeric";break;case 3:s.hour12=!1,s.hour="2-digit",s.minute="2-digit";break;case 4:s.hour12=!1,s.hour="2-digit",s.minute="2-digit",s.second="2-digit"}let r=new Date(void 0===t.hd?1e3*t.rd:Date.UTC(t.hd.year,t.hd.month-1,t.hd.day));return new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()).toLocaleString(i,s)}(t.time,i,e.locale)}maxTickMarkWeight(t){let e=t.reduce(rZ,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){!function(t,e=0){if(0===t.length)return;let i=0===e?null:t[e-1].time.rd,s=null!==i?new Date(1e3*i):null,r=0;for(let n=e;n<t.length;++n){let e=t[n],l=new Date(1e3*e.time.rd);null!==s&&(e.timeWeight=ne(l,s)),r+=e.time.rd-(i||e.time.rd),i=e.time.rd,s=l}if(0===e&&t.length>1){let e=Math.ceil(r/(t.length-1)),i=new Date(1e3*(t[0].time.rd-e));t[0].timeWeight=ne(new Date(1e3*t[0].time.rd),i)}}(t,e)}static ld(t){return ss({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}let nh="undefined"!=typeof window;function no(){return!!nh&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function na(){return!!nh&&/iPhone|iPad|iPod/.test(window.navigator.platform)}class nu{constructor(t,e,i){this.od=0,this._d=null,this.ud={_t:-1/0,ut:1/0},this.dd=0,this.fd=null,this.pd={_t:-1/0,ut:1/0},this.vd=null,this.md=!1,this.wd=null,this.gd=null,this.Md=!1,this.bd=!1,this.Sd=!1,this.xd=null,this.Cd=null,this.Pd=null,this.yd=null,this.kd=null,this.Td=null,this.Rd=null,this.Dd=0,this.Vd=!1,this.Bd=!1,this.Id=!1,this.Ed=0,this.Ad=null,this.zd=!na(),this.Ld=t=>{this.Od(t)},this.Nd=t=>{if(this.Fd(t)){let e=this.Wd(t);if(++this.dd,this.fd&&this.dd>1){let{Hd:i}=this.Ud(nf(t),this.pd);i<30&&!this.Sd&&this.$d(e,this.Yd.qd),this.jd()}}else{let e=this.Wd(t);if(++this.od,this._d&&this.od>1){let{Hd:i}=this.Ud(nf(t),this.ud);i<5&&!this.bd&&this.Kd(e,this.Yd.Xd),this.Zd()}}},this.Gd=t,this.Yd=e,this.Ps=i,this.Jd()}m(){null!==this.xd&&(this.xd(),this.xd=null),null!==this.Cd&&(this.Cd(),this.Cd=null),null!==this.yd&&(this.yd(),this.yd=null),null!==this.kd&&(this.kd(),this.kd=null),null!==this.Td&&(this.Td(),this.Td=null),null!==this.Pd&&(this.Pd(),this.Pd=null),this.Qd(),this.Zd()}tf(t){this.yd&&this.yd();let e=this.if.bind(this);if(this.yd=()=>{this.Gd.removeEventListener("mousemove",e)},this.Gd.addEventListener("mousemove",e),this.Fd(t))return;let i=this.Wd(t);this.Kd(i,this.Yd.sf),this.zd=!0}Zd(){null!==this._d&&clearTimeout(this._d),this.od=0,this._d=null,this.ud={_t:-1/0,ut:1/0}}jd(){null!==this.fd&&clearTimeout(this.fd),this.dd=0,this.fd=null,this.pd={_t:-1/0,ut:1/0}}if(t){if(this.Id||null!==this.gd||this.Fd(t))return;let e=this.Wd(t);this.Kd(e,this.Yd.nf),this.zd=!0}ef(t){let e=nm(t.changedTouches,st(this.Ad));if(null===e||(this.Ed=np(t),null!==this.Rd)||this.Bd)return;this.Vd=!0;let{rf:i,hf:s,Hd:r}=this.Ud(nf(e),st(this.gd));if(this.Md||!(r<5)){if(!this.Md){let t=.5*i,e=s>=t&&!this.Ps.af(),r=t>s&&!this.Ps.lf();e||r||(this.Bd=!0),this.Md=!0,this.Sd=!0,this.Qd(),this.jd()}if(!this.Bd){let i=this.Wd(t,e);this.$d(i,this.Yd._f),nd(t)}}}uf(t){if(0!==t.button)return;let{Hd:e}=this.Ud(nf(t),st(this.wd));if(e>=5&&(this.bd=!0,this.Zd()),this.bd){let e=this.Wd(t);this.Kd(e,this.Yd.cf)}}Ud(t,e){let i=Math.abs(e._t-t._t),s=Math.abs(e.ut-t.ut);return{rf:i,hf:s,Hd:i+s}}df(t){let e=nm(t.changedTouches,st(this.Ad));if(null===e&&0===t.touches.length&&(e=t.changedTouches[0]),null===e)return;this.Ad=null,this.Ed=np(t),this.Qd(),this.gd=null,this.Td&&(this.Td(),this.Td=null);let i=this.Wd(t,e);if(this.$d(i,this.Yd.ff),++this.dd,this.fd&&this.dd>1){let{Hd:t}=this.Ud(nf(e),this.pd);t<30&&!this.Sd&&this.$d(i,this.Yd.qd),this.jd()}else this.Sd||(this.$d(i,this.Yd.pf),this.Yd.pf&&nd(t));0===this.dd&&nd(t),0===t.touches.length&&this.md&&(this.md=!1,nd(t))}Od(t){if(0!==t.button)return;let e=this.Wd(t);if(this.wd=null,this.Id=!1,this.kd&&(this.kd(),this.kd=null),no()&&this.Gd.ownerDocument.documentElement.removeEventListener("mouseleave",this.Ld),!this.Fd(t))if(this.Kd(e,this.Yd.vf),++this.od,this._d&&this.od>1){let{Hd:i}=this.Ud(nf(t),this.ud);i<5&&!this.bd&&this.Kd(e,this.Yd.Xd),this.Zd()}else this.bd||this.Kd(e,this.Yd.mf)}Qd(){null!==this.vd&&(clearTimeout(this.vd),this.vd=null)}wf(t){if(null!==this.Ad)return;let e=t.changedTouches[0];this.Ad=e.identifier,this.Ed=np(t);let i=this.Gd.ownerDocument.documentElement;this.Sd=!1,this.Md=!1,this.Bd=!1,this.gd=nf(e),this.Td&&(this.Td(),this.Td=null);{let e=this.ef.bind(this),s=this.df.bind(this);this.Td=()=>{i.removeEventListener("touchmove",e),i.removeEventListener("touchend",s)},i.addEventListener("touchmove",e,{passive:!1}),i.addEventListener("touchend",s,{passive:!1}),this.Qd(),this.vd=setTimeout(this.gf.bind(this,t),240)}let s=this.Wd(t,e);this.$d(s,this.Yd.Mf),this.fd||(this.dd=0,this.fd=setTimeout(this.jd.bind(this),500),this.pd=nf(e))}bf(t){if(0!==t.button)return;let e=this.Gd.ownerDocument.documentElement;no()&&e.addEventListener("mouseleave",this.Ld),this.bd=!1,this.wd=nf(t),this.kd&&(this.kd(),this.kd=null);{let t=this.uf.bind(this),i=this.Od.bind(this);this.kd=()=>{e.removeEventListener("mousemove",t),e.removeEventListener("mouseup",i)},e.addEventListener("mousemove",t),e.addEventListener("mouseup",i)}if(this.Id=!0,this.Fd(t))return;let i=this.Wd(t);this.Kd(i,this.Yd.Sf),this._d||(this.od=0,this._d=setTimeout(this.Zd.bind(this),500),this.ud=nf(t))}Jd(){var t;this.Gd.addEventListener("mouseenter",this.tf.bind(this)),this.Gd.addEventListener("touchcancel",this.Qd.bind(this));{let t=this.Gd.ownerDocument,e=t=>{this.Yd.xf&&(t.composed&&this.Gd.contains(t.composedPath()[0])||t.target&&this.Gd.contains(t.target)||this.Yd.xf())};this.Cd=()=>{t.removeEventListener("touchstart",e)},this.xd=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}na()&&(this.Pd=()=>{this.Gd.removeEventListener("dblclick",this.Nd)},this.Gd.addEventListener("dblclick",this.Nd)),this.Gd.addEventListener("mouseleave",this.Cf.bind(this)),this.Gd.addEventListener("touchstart",this.wf.bind(this),{passive:!0}),t=this.Gd,nh&&void 0!==window.chrome&&t.addEventListener("mousedown",t=>{if(1===t.button)return t.preventDefault(),!1}),this.Gd.addEventListener("mousedown",this.bf.bind(this)),this.Pf(),this.Gd.addEventListener("touchmove",()=>{},{passive:!1})}Pf(){void 0===this.Yd.yf&&void 0===this.Yd.kf&&void 0===this.Yd.Tf||(this.Gd.addEventListener("touchstart",t=>this.Rf(t.touches),{passive:!0}),this.Gd.addEventListener("touchmove",t=>{if(2===t.touches.length&&null!==this.Rd&&void 0!==this.Yd.kf){let e=nc(t.touches[0],t.touches[1])/this.Dd;this.Yd.kf(this.Rd,e),nd(t)}},{passive:!1}),this.Gd.addEventListener("touchend",t=>{this.Rf(t.touches)}))}Rf(t){1===t.length&&(this.Vd=!1),2!==t.length||this.Vd||this.md?this.Df():this.Vf(t)}Vf(t){let e=this.Gd.getBoundingClientRect()||{left:0,top:0};this.Rd={_t:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,ut:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Dd=nc(t[0],t[1]),void 0!==this.Yd.yf&&this.Yd.yf(),this.Qd()}Df(){null!==this.Rd&&(this.Rd=null,void 0!==this.Yd.Tf&&this.Yd.Tf())}Cf(t){if(this.yd&&this.yd(),this.Fd(t)||!this.zd)return;let e=this.Wd(t);this.Kd(e,this.Yd.Bf),this.zd=!na()}gf(t){let e=nm(t.touches,st(this.Ad));if(null===e)return;let i=this.Wd(t,e);this.$d(i,this.Yd.If),this.Sd=!0,this.md=!0}Fd(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:np(t)<this.Ed+500}$d(t,e){e&&e.call(this.Yd,t)}Kd(t,e){e&&e.call(this.Yd,t)}Wd(t,e){let i=e||t,s=this.Gd.getBoundingClientRect()||{left:0,top:0};return{clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,screenX:i.screenX,screenY:i.screenY,localX:i.clientX-s.left,localY:i.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Ef:!t.type.startsWith("mouse")&&"contextmenu"!==t.type&&"click"!==t.type,Af:t.type,zf:i.target,a_:t.view,Lf:()=>{"touchstart"!==t.type&&nd(t)}}}}function nc(t,e){let i=t.clientX-e.clientX,s=t.clientY-e.clientY;return Math.sqrt(i*i+s*s)}function nd(t){t.cancelable&&t.preventDefault()}function nf(t){return{_t:t.pageX,ut:t.pageY}}function np(t){return t.timeStamp||performance.now()}function nm(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class ng{constructor(t,e,i){this.Of=null,this.Nf=null,this.Ff=!0,this.Wf=null,this.Hf=t,this.Uf=t.$f()[e],this.qf=t.$f()[i],this.Yf=document.createElement("tr"),this.Yf.style.height="1px",this.jf=document.createElement("td"),this.jf.style.position="relative",this.jf.style.padding="0",this.jf.style.margin="0",this.jf.setAttribute("colspan","3"),this.Kf(),this.Yf.appendChild(this.jf),this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(this.Of=null,this.Nf=null)}m(){null!==this.Nf&&this.Nf.m()}Zf(){return this.Yf}Gf(){return iK({width:this.Uf.Gf().width,height:1})}Jf(){return iK({width:this.Uf.Jf().width,height:+window.devicePixelRatio})}Qf(t,e,i){let s=this.Jf();t.fillStyle=this.Hf.N().layout.panes.separatorColor,t.fillRect(e,i,s.width,s.height)}yt(){this.Kf(),this.Hf.N().layout.panes.enableResize!==this.Ff&&(this.Ff=this.Hf.N().layout.panes.enableResize,this.Ff?this.Xf():(null!==this.Of&&(this.jf.removeChild(this.Of.tp),this.jf.removeChild(this.Of.ip),this.Of=null),null!==this.Nf&&(this.Nf.m(),this.Nf=null)))}Xf(){let t=document.createElement("div"),e=t.style;e.position="fixed",e.display="none",e.zIndex="49",e.top="0",e.left="0",e.width="100%",e.height="100%",e.cursor="row-resize",this.jf.appendChild(t);let i=document.createElement("div"),s=i.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.jf.appendChild(i);let r={sf:this.sp.bind(this),Bf:this.np.bind(this),Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this)};this.Nf=new nu(i,r,{af:()=>!1,lf:()=>!0}),this.Of={ip:i,tp:t}}Kf(){this.jf.style.background=this.Hf.N().layout.panes.separatorColor}sp(t){null!==this.Of&&(this.Of.ip.style.backgroundColor=this.Hf.N().layout.panes.separatorHoverColor)}np(t){null!==this.Of&&null===this.Wf&&(this.Of.ip.style.backgroundColor="")}ep(t){if(null===this.Of)return;let e=this.Uf.ap().Bo()+this.qf.ap().Bo(),i=e/(this.Uf.Gf().height+this.qf.Gf().height),s=30*i;e<=2*s||(this.Wf={lp:t.pageY,op:this.Uf.ap().Bo(),_p:e-s,up:e,cp:i,dp:s},this.Of.tp.style.display="block")}rp(t){let e=this.Wf;if(null===e)return;let i=(t.pageY-e.lp)*e.cp,s=rE(e.op+i,e.dp,e._p);this.Uf.ap().Io(s),this.qf.ap().Io(e.up-s),this.Hf.Qt().Ih()}hp(t){null!==this.Wf&&null!==this.Of&&(this.Wf=null,this.Of.tp.style.display="none")}}function nb(t,e,i){let s=(t.fp-e.fp)/(t.wt-e.wt);return Math.sign(s)*Math.min(Math.abs(s),i)}class nv{constructor(t,e,i,s){this.pp=null,this.vp=null,this.mp=null,this.wp=null,this.gp=null,this.Mp=0,this.bp=0,this.Sp=t,this.xp=e,this.Cp=i,this.Mn=s}Pp(t,e){if(null!==this.pp){if(this.pp.wt===e)return void(this.pp.fp=t);if(Math.abs(this.pp.fp-t)<this.Mn)return}this.wp=this.mp,this.mp=this.vp,this.vp=this.pp,this.pp={wt:e,fp:t}}le(t,e){var i,s,r,n,l,h,o;let a;if(null===this.pp||null===this.vp||e-this.pp.wt>50)return;let u=0,c=nb(this.pp,this.vp,this.xp),d=(i=this.pp,s=this.vp,i.fp-s.fp),f=[c],p=[d];if(u+=d,null!==this.mp){let t=nb(this.vp,this.mp,this.xp);if(Math.sign(t)===Math.sign(c)){let e=(r=this.vp,n=this.mp,r.fp-n.fp);if(f.push(t),p.push(e),u+=e,null!==this.wp){let t=nb(this.mp,this.wp,this.xp);if(Math.sign(t)===Math.sign(c)){let e=(l=this.mp,h=this.wp,l.fp-h.fp);f.push(t),p.push(e),u+=e}}}}let m=0;for(let t=0;t<f.length;++t)m+=p[t]/u*f[t];Math.abs(m)<this.Sp||(this.gp={fp:t,wt:e},this.bp=m,this.Mp=(o=Math.abs(m),Math.log(-((a=Math.log(this.Cp))/o))/a))}Du(t){let e=st(this.gp),i=t-e.wt;return e.fp+this.bp*(Math.pow(this.Cp,i)-1)/Math.log(this.Cp)}Ru(t){return null===this.gp||this.yp(t)===this.Mp}yp(t){return Math.min(t-st(this.gp).wt,this.Mp)}}class nx{constructor(t,e){this.kp=void 0,this.Tp=void 0,this.Rp=void 0,this.ps=!1,this.Dp=t,this.Vp=e,this.Bp()}yt(){this.Bp()}Ip(){this.kp&&this.Dp.removeChild(this.kp),this.Tp&&this.Dp.removeChild(this.Tp),this.kp=void 0,this.Tp=void 0}Ep(){return this.ps!==this.Ap()||this.Rp!==this.zp()}zp(){return this.Vp.Qt().Xi().J(this.Vp.N().layout.textColor)>160?"dark":"light"}Ap(){return this.Vp.N().layout.attributionLogo}Lp(){let t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}Bp(){this.Ep()&&(this.Ip(),this.ps=this.Ap(),this.ps&&(this.Rp=this.zp(),this.Tp=document.createElement("style"),this.Tp.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.kp=document.createElement("a"),this.kp.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Lp()}`,this.kp.title="Charting by TradingView",this.kp.id="tv-attr-logo",this.kp.target="_blank",this.kp.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.kp.toggleAttribute("data-dark","dark"===this.Rp),this.Dp.appendChild(this.Tp),this.Dp.appendChild(this.kp)))}}function nw(t,e){let i=st(t.ownerDocument).createElement("canvas");t.appendChild(i);let s=function(t,e){if("device-pixel-content-box"===e.type)return new i1(t,e.transform,e.options);throw Error("Unsupported binding target")}(i,{type:"device-pixel-content-box",options:{allowResizeObserver:!0},transform:(t,e)=>({width:Math.max(t.width,e.width),height:Math.max(t.height,e.height)})});return s.resizeCanvasElement(e),s}function ny(t){t.width=1,t.height=1,t.getContext("2d")?.clearRect(0,0,1,1)}function nk(t,e,i,s){t.ih&&t.ih(e,i,s)}function nS(t,e,i,s){t.nt(e,i,s)}function n_(t,e,i,s){for(let r of t(i,s)){let t=r.Tt(s);null!==t&&e(t)}}function nM(t,e){return i=>void 0===i.Ft||(i.Ft()?.ma()??"")!==e?[]:i.ta?.(t)??[]}function nE(t,e,i,s){if(!t.length)return;let r=0,n=t[0].$t(s,!0),l=1===e?i/2-(t[0].Fi()-n/2):t[0].Fi()-n/2-i/2;l=Math.max(0,l);for(let n=1;n<t.length;n++){let h=t[n],o=t[n-1],a=o.$t(s,!1),u=h.Fi(),c=o.Fi();if(1===e?u>c-a:u<c+a){let s=c-a*e;h.Wi(s);let n=s-e*a/2;if((1===e?n<0:n>i)&&l>0){let s=Math.min(1===e?-1-n:n-i,l);for(let i=r;i<t.length;i++)t[i].Wi(t[i].Fi()+e*s);l-=s}}else r=n,l=1===e?c-a-u:u-(c+a)}}class nN{constructor(t,e,i,s){this.Yi=null,this.Op=null,this.Np=!1,this.Fp=new s$(200),this.Wp=null,this.Hp=0,this.Up=!1,this.$p=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Yp=()=>{this.Up||this.Pt.qp().Qt().ar()},this.Pt=t,this.Ps=e,this.Ml=e.layout,this.Ju=i,this.jp="left"===s,this.Kp=nM("normal",s),this.Xp=nM("top",s),this.Zp=nM("bottom",s),this.jf=document.createElement("div"),this.jf.style.height="100%",this.jf.style.overflow="hidden",this.jf.style.width="25px",this.jf.style.left="0",this.jf.style.position="relative",this.Gp=nw(this.jf,iK({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const r=this.Gp.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jp=nw(this.jf,iK({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const n=this.Jp.canvasElement;n.style.position="absolute",n.style.zIndex="2",n.style.left="0",n.style.top="0";const l={Sf:this.ep.bind(this),Mf:this.ep.bind(this),cf:this.rp.bind(this),_f:this.rp.bind(this),xf:this.Qp.bind(this),vf:this.hp.bind(this),ff:this.hp.bind(this),Xd:this.tv.bind(this),qd:this.tv.bind(this),sf:this.iv.bind(this),Bf:this.np.bind(this)};this.Nf=new nu(this.Jp.canvasElement,l,{af:()=>!this.Ps.handleScroll.vertTouchDrag,lf:()=>!0})}m(){this.Nf.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),ny(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),ny(this.Gp.canvasElement),this.Gp.dispose(),null!==this.Yi&&this.Yi.so().u(this),this.Yi=null}Zf(){return this.jf}P(){return this.Ml.fontSize}sv(){let t=this.Ju.N();return this.Wp!==t.k&&(this.Fp.Bn(),this.Wp=t.k),t}nv(){var t,e;if(null===this.Yi)return 0;let i=0,s=this.sv(),r=st(this.Gp.canvasElement.getContext("2d",{colorSpace:this.Pt.qp().N().layout.colorSpace}));r.save();let n=this.Yi.Da();r.font=this.ev(),n.length>0&&(i=Math.max(this.Fp.Vi(r,n[0].Za),this.Fp.Vi(r,n[n.length-1].Za)));let l=this.rv();for(let t=l.length;t--;){let e=this.Fp.Vi(r,l[t].ri());e>i&&(i=e)}let h=this.Yi.zt();if(null!==h&&null!==this.Op&&2!==(t=this.Ps.crosshair).mode&&t.horzLine.visible&&t.horzLine.labelVisible){let t=this.Yi.Ts(1,h),e=this.Yi.Ts(this.Op.height-2,h);i=Math.max(i,this.Fp.Vi(r,this.Yi.Zi(Math.floor(Math.min(t,e))+.11111111111111,h)),this.Fp.Vi(r,this.Yi.Zi(Math.ceil(Math.max(t,e))-.11111111111111,h)))}r.restore();let o=i||34;return(e=Math.ceil(s.S+s.C+s.B+s.I+5+o))+e%2}hv(t){null!==this.Op&&iZ(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`)}av(){return st(this.Op).width}_s(t){this.Yi!==t&&(null!==this.Yi&&this.Yi.so().u(this),this.Yi=t,t.so().i(this._l.bind(this),this))}Ft(){return this.Yi}Bn(){let t=this.Pt.ap();this.Pt.qp().Qt().Zo(t,st(this.Ft()))}lv(t){if(null===this.Op)return;let e={colorSpace:this.Pt.qp().N().layout.colorSpace};if(1!==t){this.ov(),this.Gp.applySuggestedBitmapSize();let t=i3(this.Gp,e);null!==t&&(t.useBitmapCoordinateSpace(t=>{this._v(t),this.uv(t)}),this.Pt.cv(t,this.Zp),this.dv(t),this.Pt.cv(t,this.Kp),this.fv(t))}this.Jp.applySuggestedBitmapSize();let i=i3(this.Jp,e);null!==i&&(i.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.pv(i),this.Pt.cv(i,this.Xp))}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,s){let r=this.Jf();if(r.width>0&&r.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),s)){let s=this.Jp.canvasElement;t.drawImage(s,e,i)}}yt(){this.Yi?.Da()}ep(t){if(null===this.Yi||this.Yi.Ki()||!this.Ps.handleScale.axisPressedMouseMove.price)return;let e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!0,e.Uo(i,this.Yi,t.localY)}rp(t){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;let e=this.Pt.qp().Qt(),i=this.Pt.ap(),s=this.Yi;e.$o(i,s,t.localY)}Qp(){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;let t=this.Pt.qp().Qt(),e=this.Pt.ap(),i=this.Yi;this.Np&&(this.Np=!1,t.qo(e,i))}hp(t){if(null===this.Yi||!this.Ps.handleScale.axisPressedMouseMove.price)return;let e=this.Pt.qp().Qt(),i=this.Pt.ap();this.Np=!1,e.qo(i,this.Yi)}tv(t){this.Ps.handleScale.axisDoubleClickReset.price&&this.Bn()}iv(t){null!==this.Yi&&(!this.Pt.qp().Qt().N().handleScale.axisPressedMouseMove.price||this.Yi.Le()||this.Yi.Dl()||this.vv(1))}np(t){this.vv(0)}rv(){let t=[],e=null===this.Yi?void 0:this.Yi;return(i=>{for(let s=0;s<i.length;++s){let r=i[s].Ws(this.Pt.ap(),e);for(let e=0;e<r.length;e++)t.push(r[e])}})(this.Pt.ap().Dt()),t}_v({context:t,bitmapSize:e}){let{width:i,height:s}=e,r=this.Pt.ap().Qt(),n=r.$(),l=r.Wc();n===l?sM(t,0,0,i,s,n):sC(t,0,0,i,s,n,l)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i}){let s;if(null===this.Op||null===this.Yi||!this.Yi.N().borderVisible)return;t.fillStyle=this.Yi.N().borderColor;let r=Math.max(1,Math.floor(this.sv().S*i));s=this.jp?e.width-r:0,t.fillRect(s,0,r,e.height)}dv(t){if(null===this.Op||null===this.Yi)return;let e=this.Yi.Da(),i=this.Yi.N(),s=this.sv(),r=this.jp?this.Op.width-s.C:0;i.borderVisible&&i.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:n,verticalPixelRatio:l})=>{t.fillStyle=i.borderColor;let h=Math.max(1,Math.floor(l)),o=Math.floor(.5*l),a=Math.round(s.C*n);for(let i of(t.beginPath(),e))t.rect(Math.floor(r*n),Math.round(i.Pa*l)-o,a,h);t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{t.font=this.ev(),t.fillStyle=i.textColor??this.Ml.textColor,t.textAlign=this.jp?"right":"left",t.textBaseline="middle";let n=this.jp?Math.round(r-s.B):Math.round(r+s.C+s.B),l=e.map(e=>this.Fp.Di(t,e.Za));for(let i=e.length;i--;){let s=e[i];t.fillText(s.Za,n,s.Pa+l[i])}})}ov(){if(null===this.Op||null===this.Yi)return;let t=this.Op.height/2,e=[],i=this.Yi.Dt().slice(),s=this.Pt.ap(),r=this.sv();this.Yi===s.$n()&&this.Pt.ap().Dt().forEach(t=>{s.Un(t)&&i.push(t)});let n=this.Yi.Ma()[0],l=this.Yi;i.forEach(i=>{let r=i.Ws(s,l);r.forEach(t=>{t.Wi(null),t.Hi()&&e.push(t)}),n===i&&r.length>0&&(t=r[0].Ii())}),e.forEach(t=>t.Wi(t.Ii())),this.Yi.N().alignLabels&&this.mv(e,r,t)}mv(t,e,i){if(null===this.Op)return;let s=t.filter(t=>t.Ii()<=i),r=t.filter(t=>t.Ii()>i);for(let i of(s.sort((t,e)=>e.Ii()-t.Ii()),s.length&&r.length&&r.push(s[0]),r.sort((t,e)=>t.Ii()-e.Ii()),t)){let t=Math.floor(i.$t(e)/2),s=i.Ii();s>-t&&s<t&&i.Wi(t),s>this.Op.height-t&&s<this.Op.height+t&&i.Wi(this.Op.height-t)}nE(s,1,this.Op.height,e),nE(r,-1,this.Op.height,e)}fv(t){if(null===this.Op)return;let e=this.rv(),i=this.sv(),s=this.jp?"right":"left";e.forEach(e=>{e.Ui()&&e.Tt(st(this.Yi)).nt(t,i,this.Fp,s)})}pv(t){if(null===this.Op||null===this.Yi)return;let e=this.Pt.qp().Qt(),i=[],s=this.Pt.ap(),r=e.uc().Ws(s,this.Yi);r.length&&i.push(r);let n=this.sv(),l=this.jp?"right":"left";i.forEach(e=>{e.forEach(e=>{e.Tt(st(this.Yi)).nt(t,n,this.Fp,l)})})}vv(t){this.jf.style.cursor=1===t?"ns-resize":"default"}_l(){let t=this.nv();this.Hp<t&&this.Pt.qp().Qt().Ih(),this.Hp=t}ev(){return sd(this.Ml.fontSize,this.Ml.fontFamily)}}function nC(t,e){return t.Jh?.(e)??[]}function nP(t,e){return t.Fs?.(e)??[]}function nj(t,e){return t.us?.(e)??[]}function nR(t,e){return t.Xh?.(e)??[]}class nz{constructor(t,e){this.Op=iK({width:0,height:0}),this.wv=null,this.gv=null,this.Mv=null,this.bv=null,this.Sv=!1,this.xv=new si,this.Cv=new si,this.Pv=0,this.yv=!1,this.kv=null,this.Tv=!1,this.Rv=null,this.Dv=null,this.Up=!1,this.$p=()=>{this.Up||null===this.Vv||this.ts().ar()},this.Yp=()=>{this.Up||null===this.Vv||this.ts().ar()},this.Vp=t,this.Vv=e,this.Vv.t_().i(this.Bv.bind(this),this,!0),this.Iv=document.createElement("td"),this.Iv.style.padding="0",this.Iv.style.position="relative";const i=document.createElement("div");i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",this.Ev=document.createElement("td"),this.Ev.style.padding="0",this.Av=document.createElement("td"),this.Av.style.padding="0",this.Iv.appendChild(i),this.Gp=nw(i,iK({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const s=this.Gp.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jp=nw(i,iK({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const r=this.Jp.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Yf=document.createElement("tr"),this.Yf.appendChild(this.Ev),this.Yf.appendChild(this.Iv),this.Yf.appendChild(this.Av),this.zv(),this.Nf=new nu(this.Jp.canvasElement,this,{af:()=>null===this.kv&&!this.Vp.N().handleScroll.vertTouchDrag,lf:()=>null===this.kv&&!this.Vp.N().handleScroll.horzTouchDrag})}m(){null!==this.wv&&this.wv.m(),null!==this.gv&&this.gv.m(),this.Mv=null,this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),ny(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),ny(this.Gp.canvasElement),this.Gp.dispose(),null!==this.Vv&&(this.Vv.t_().u(this),this.Vv.m()),this.Nf.m()}ap(){return st(this.Vv)}Lv(t){null!==this.Vv&&this.Vv.t_().u(this),this.Vv=t,null!==this.Vv&&this.Vv.t_().i(nz.prototype.Bv.bind(this),this,!0),this.zv(),this.Vp.$f().indexOf(this)===this.Vp.$f().length-1?(this.Mv=this.Mv??new nx(this.Iv,this.Vp),this.Mv.yt()):(this.Mv?.Ip(),this.Mv=null)}qp(){return this.Vp}Zf(){return this.Yf}zv(){if(null!==this.Vv&&(this.Ov(),0!==this.ts().js().length)){if(null!==this.wv){let t=this.Vv.Wo();this.wv._s(st(t))}if(null!==this.gv){let t=this.Vv.Ho();this.gv._s(st(t))}}}Nv(){null!==this.wv&&this.wv.yt(),null!==this.gv&&this.gv.yt()}Bo(){return null!==this.Vv?this.Vv.Bo():0}Io(t){this.Vv&&this.Vv.Io(t)}sf(t){if(!this.Vv)return;this.Fv();let e=t.localX,i=t.localY;this.Wv(e,i,t)}Sf(t){this.Fv(),this.Hv(),this.Wv(t.localX,t.localY,t)}nf(t){if(!this.Vv)return;this.Fv();let e=t.localX,i=t.localY;this.Wv(e,i,t)}mf(t){null!==this.Vv&&(this.Fv(),this.Uv(t))}Xd(t){null!==this.Vv&&this.$v(this.Cv,t)}qd(t){this.Xd(t)}cf(t){this.Fv(),this.qv(t),this.Wv(t.localX,t.localY,t)}vf(t){null!==this.Vv&&(this.Fv(),this.yv=!1,this.Yv(t))}pf(t){null!==this.Vv&&this.Uv(t)}If(t){if(this.yv=!0,null===this.kv){let e={x:t.localX,y:t.localY};this.jv(e,e,t)}}Bf(t){null!==this.Vv&&(this.Fv(),this.Vv.Qt().lc(null),this.Kv())}Xv(){return this.xv}Zv(){return this.Cv}yf(){this.Pv=1,this.ts().hn()}kf(t,e){if(!this.Vp.N().handleScale.pinch)return;let i=5*(e-this.Pv);this.Pv=e,this.ts().bc(t._t,i)}Mf(t){this.yv=!1,this.Tv=null!==this.kv,this.Hv();let e=this.ts().uc();null!==this.kv&&e.Vt()&&(this.Rv={x:e.si(),y:e.ni()},this.kv={x:t.localX,y:t.localY})}_f(t){if(null===this.Vv)return;let e=t.localX,i=t.localY;if(null===this.kv)this.qv(t);else{this.Tv=!1;let s=st(this.Rv),r=s.x+(e-this.kv.x),n=s.y+(i-this.kv.y);this.Wv(r,n,t)}}ff(t){0===this.qp().N().trackingMode.exitMode&&(this.Tv=!0),this.Gv(),this.Yv(t)}jn(t,e){let i=this.Vv;return null===i?null:rJ(i,t,e)}Jv(t,e){st("left"===e?this.wv:this.gv).hv(iK({width:t,height:this.Op.height}))}Gf(){return this.Op}hv(t){iZ(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.Iv.style.width=t.width+"px",this.Iv.style.height=t.height+"px")}Qv(){let t=st(this.Vv);for(let e of(t.Fo(t.Wo()),t.Fo(t.Ho()),t.Ma()))if(t.Un(e)){let i=e.Ft();null!==i&&t.Fo(i),e.Ns()}for(let e of t.s_())e.Ns()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,s){let r=this.Jf();if(r.width>0&&r.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),s)){let s=this.Jp.canvasElement;null!==t&&t.drawImage(s,e,i)}}lv(t){if(0===t||null===this.Vv)return;t>1&&this.Qv(),null!==this.wv&&this.wv.lv(t),null!==this.gv&&this.gv.lv(t);let e={colorSpace:this.Vp.N().layout.colorSpace};if(1!==t){this.Gp.applySuggestedBitmapSize();let t=i3(this.Gp,e);null!==t&&(t.useBitmapCoordinateSpace(t=>{this._v(t)}),this.Vv&&(this.tm(t,nC),this.im(t),this.tm(t,nP),this.tm(t,nj)))}this.Jp.applySuggestedBitmapSize();let i=i3(this.Jp,e);null!==i&&(i.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.sm(i),this.tm(i,nR),this.tm(i,nj))}nm(){return this.wv}rm(){return this.gv}cv(t,e){this.tm(t,e)}Bv(){null!==this.Vv&&this.Vv.t_().u(this),this.Vv=null}Uv(t){this.$v(this.xv,t)}$v(t,e){let i=e.localX,s=e.localY;t.v()&&t.p(this.ts().Et().cu(i),{x:i,y:s},e)}_v({context:t,bitmapSize:e}){let{width:i,height:s}=e,r=this.ts(),n=r.$(),l=r.Wc();n===l?sM(t,0,0,i,s,l):sC(t,0,0,i,s,n,l)}im(t){let e=st(this.Vv),i=e.i_().lr().Tt(e);null!==i&&i.nt(t,!1)}sm(t){this.hm(t,nP,nS,this.ts().uc())}tm(t,e){let i=st(this.Vv),s=i.Dt(),r=i.s_();for(let i of r)this.hm(t,e,nk,i);for(let i of s)this.hm(t,e,nk,i);for(let i of r)this.hm(t,e,nS,i);for(let i of s)this.hm(t,e,nS,i)}hm(t,e,i,s){let r=st(this.Vv),n=r.Qt().ac(),l=null!==n&&n.n_===s,h=null!==n&&l&&void 0!==n.e_?n.e_.Xn:void 0;n_(e,e=>i(e,t,l,h),s,r)}Ov(){if(null===this.Vv)return;let t=this.Vp,e=this.Vv.Wo().N().visible,i=this.Vv.Ho().N().visible;e||null===this.wv||(this.Ev.removeChild(this.wv.Zf()),this.wv.m(),this.wv=null),i||null===this.gv||(this.Av.removeChild(this.gv.Zf()),this.gv.m(),this.gv=null);let s=t.Qt().Bc();e&&null===this.wv&&(this.wv=new nN(this,t.N(),s,"left"),this.Ev.appendChild(this.wv.Zf())),i&&null===this.gv&&(this.gv=new nN(this,t.N(),s,"right"),this.Av.appendChild(this.gv.Zf()))}am(t){return t.Ef&&this.yv||null!==this.kv}lm(t){return Math.max(0,Math.min(t,this.Op.width-1))}om(t){return Math.max(0,Math.min(t,this.Op.height-1))}Wv(t,e,i){this.ts().Tc(this.lm(t),this.om(e),i,st(this.Vv))}Kv(){this.ts().Dc()}Gv(){this.Tv&&(this.kv=null,this.Kv())}jv(t,e,i){this.kv=t,this.Tv=!1,this.Wv(e.x,e.y,i);let s=this.ts().uc();this.Rv={x:s.si(),y:s.ni()}}ts(){return this.Vp.Qt()}Yv(t){if(!this.Sv)return;let e=this.ts(),i=this.ap();if(e.Ko(i,i.ks()),this.bv=null,this.Sv=!1,e.Pc(),null!==this.Dv){let t=performance.now(),i=e.Et();this.Dv.le(i.gu(),t),this.Dv.Ru(t)||e._n(this.Dv)}}Fv(){this.kv=null}Hv(){if(this.Vv){if(this.ts().hn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)st(document.activeElement).blur();else{let t=document.getSelection();null!==t&&t.removeAllRanges()}this.Vv.ks().Ki()||this.ts().Et().Ki()}}qv(t){if(null===this.Vv)return;let e=this.ts(),i=e.Et();if(i.Ki())return;let s=this.Vp.N(),r=s.handleScroll,n=s.kineticScroll;if((!r.pressedMouseMove||t.Ef)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Ef))return;let l=this.Vv.ks(),h=performance.now();if(null!==this.bv||this.am(t)||(this.bv={x:t.clientX,y:t.clientY,rd:h,_m:t.localX,um:t.localY}),null!==this.bv&&!this.Sv&&(this.bv.x!==t.clientX||this.bv.y!==t.clientY)){if(t.Ef&&n.touch||!t.Ef&&n.mouse){let t=i.mu();this.Dv=new nv(.2/t,7/t,.997,15/t),this.Dv.Pp(i.gu(),this.bv.rd)}else this.Dv=null;l.Ki()||e.Yo(this.Vv,l,t.localY),e.xc(t.localX),this.Sv=!0}this.Sv&&(l.Ki()||e.jo(this.Vv,l,t.localY),e.Cc(t.localX),null!==this.Dv&&this.Dv.Pp(i.gu(),h))}}class nT{constructor(t,e,i,s,r){this.xt=!0,this.Op=iK({width:0,height:0}),this.$p=()=>this.lv(3),this.jp="left"===t,this.Ju=i.Bc,this.Ps=e,this.dm=s,this.fm=r,this.jf=document.createElement("div"),this.jf.style.width="25px",this.jf.style.height="100%",this.jf.style.overflow="hidden",this.Gp=nw(this.jf,iK({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p)}m(){this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),ny(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.jf}Gf(){return this.Op}hv(t){iZ(this.Op,t)||(this.Op=t,this.Gp.resizeCanvasElement(t),this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.xt=!0)}lv(t){if(t<3&&!this.xt||0===this.Op.width||0===this.Op.height)return;this.xt=!1,this.Gp.applySuggestedBitmapSize();let e=i3(this.Gp,{colorSpace:this.Ps.layout.colorSpace});null!==e&&e.useBitmapCoordinateSpace(t=>{this._v(t),this.uv(t)})}Jf(){return this.Gp.bitmapSize}Qf(t,e,i){let s=this.Jf();s.width>0&&s.height>0&&t.drawImage(this.Gp.canvasElement,e,i)}uv({context:t,bitmapSize:e,horizontalPixelRatio:i,verticalPixelRatio:s}){if(!this.dm())return;t.fillStyle=this.Ps.timeScale.borderColor;let r=Math.floor(this.Ju.N().S*i),n=Math.floor(this.Ju.N().S*s),l=this.jp?e.width-r:0;t.fillRect(l,0,r,n)}_v({context:t,bitmapSize:e}){sM(t,0,0,e.width,e.height,this.fm())}}function nO(t){return e=>e.ia?.(t)??[]}let nF=nO("normal"),nL=nO("top"),nA=nO("bottom");class nB{constructor(t,e){this.pm=null,this.vm=null,this.M=null,this.wm=!1,this.Op=iK({width:0,height:0}),this.gm=new si,this.Fp=new s$(5),this.Up=!1,this.$p=()=>{this.Up||this.Vp.Qt().ar()},this.Yp=()=>{this.Up||this.Vp.Qt().ar()},this.Vp=t,this.o_=e,this.Ps=t.N().layout,this.kp=document.createElement("tr"),this.Mm=document.createElement("td"),this.Mm.style.padding="0",this.bm=document.createElement("td"),this.bm.style.padding="0",this.jf=document.createElement("td"),this.jf.style.height="25px",this.jf.style.padding="0",this.Sm=document.createElement("div"),this.Sm.style.width="100%",this.Sm.style.height="100%",this.Sm.style.position="relative",this.Sm.style.overflow="hidden",this.jf.appendChild(this.Sm),this.Gp=nw(this.Sm,iK({width:16,height:16})),this.Gp.subscribeSuggestedBitmapSizeChanged(this.$p);const i=this.Gp.canvasElement;i.style.position="absolute",i.style.zIndex="1",i.style.left="0",i.style.top="0",this.Jp=nw(this.Sm,iK({width:16,height:16})),this.Jp.subscribeSuggestedBitmapSizeChanged(this.Yp);const s=this.Jp.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.kp.appendChild(this.Mm),this.kp.appendChild(this.jf),this.kp.appendChild(this.bm),this.xm(),this.Vp.Qt().Vo().i(this.xm.bind(this),this),this.Nf=new nu(this.Jp.canvasElement,this,{af:()=>!0,lf:()=>!this.Vp.N().handleScroll.horzTouchDrag})}m(){this.Nf.m(),null!==this.pm&&this.pm.m(),null!==this.vm&&this.vm.m(),this.Jp.unsubscribeSuggestedBitmapSizeChanged(this.Yp),ny(this.Jp.canvasElement),this.Jp.dispose(),this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.$p),ny(this.Gp.canvasElement),this.Gp.dispose()}Zf(){return this.kp}Cm(){return this.pm}Pm(){return this.vm}Sf(t){if(this.wm)return;this.wm=!0;let e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.Mc(t.localX)}Mf(t){this.Sf(t)}xf(){let t=this.Vp.Qt();!t.Et().Ki()&&this.wm&&(this.wm=!1,this.Vp.N().handleScale.axisPressedMouseMove.time&&t.kc())}cf(t){let e=this.Vp.Qt();!e.Et().Ki()&&this.Vp.N().handleScale.axisPressedMouseMove.time&&e.yc(t.localX)}_f(t){this.cf(t)}vf(){this.wm=!1;let t=this.Vp.Qt();t.Et().Ki()&&!this.Vp.N().handleScale.axisPressedMouseMove.time||t.kc()}ff(){this.vf()}Xd(){this.Vp.N().handleScale.axisDoubleClickReset.time&&this.Vp.Qt().cn()}qd(){this.Xd()}sf(){this.Vp.Qt().N().handleScale.axisPressedMouseMove.time&&this.vv(1)}Bf(){this.vv(0)}Gf(){return this.Op}ym(){return this.gm}km(t,e,i){iZ(this.Op,t)||(this.Op=t,this.Up=!0,this.Gp.resizeCanvasElement(t),this.Jp.resizeCanvasElement(t),this.Up=!1,this.jf.style.width=`${t.width}px`,this.jf.style.height=`${t.height}px`,this.gm.p(t)),null!==this.pm&&this.pm.hv(iK({width:e,height:t.height})),null!==this.vm&&this.vm.hv(iK({width:i,height:t.height}))}Tm(){let t=this.Rm();return Math.ceil(t.S+t.C+t.P+t.A+t.V+t.Dm)}yt(){this.Vp.Qt().Et().Da()}Jf(){return this.Gp.bitmapSize}Qf(t,e,i,s){let r=this.Jf();if(r.width>0&&r.height>0&&(t.drawImage(this.Gp.canvasElement,e,i),s)){let s=this.Jp.canvasElement;t.drawImage(s,e,i)}}lv(t){if(0===t)return;let e={colorSpace:this.Ps.colorSpace};if(1!==t){this.Gp.applySuggestedBitmapSize();let i=i3(this.Gp,e);null!==i&&(i.useBitmapCoordinateSpace(t=>{this._v(t),this.uv(t),this.Vm(i,nA)}),this.dv(i),this.Vm(i,nF)),null!==this.pm&&this.pm.lv(t),null!==this.vm&&this.vm.lv(t)}this.Jp.applySuggestedBitmapSize();let i=i3(this.Jp,e);null!==i&&(i.useBitmapCoordinateSpace(({context:t,bitmapSize:e})=>{t.clearRect(0,0,e.width,e.height)}),this.Bm([...this.Vp.Qt().js(),this.Vp.Qt().uc()],i),this.Vm(i,nL))}Vm(t,e){let i=this.Vp.Qt().js();for(let s of i)n_(e,e=>nk(e,t,!1,void 0),s,void 0);for(let s of i)n_(e,e=>nS(e,t,!1,void 0),s,void 0)}_v({context:t,bitmapSize:e}){sM(t,0,0,e.width,e.height,this.Vp.Qt().Wc())}uv({context:t,bitmapSize:e,verticalPixelRatio:i}){if(this.Vp.N().timeScale.borderVisible){t.fillStyle=this.Im();let s=Math.max(1,Math.floor(this.Rm().S*i));t.fillRect(0,0,e.width,s)}}dv(t){let e=this.Vp.Qt().Et(),i=e.Da();if(!i||0===i.length)return;let s=this.o_.maxTickMarkWeight(i),r=this.Rm(),n=e.N();n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace(({context:t,horizontalPixelRatio:e,verticalPixelRatio:s})=>{t.strokeStyle=this.Im(),t.fillStyle=this.Im();let n=Math.max(1,Math.floor(e)),l=Math.floor(.5*e);t.beginPath();let h=Math.round(r.C*s);for(let s=i.length;s--;){let r=Math.round(i[s].coord*e);t.rect(r-l,0,n,h)}t.fill()}),t.useMediaCoordinateSpace(({context:t})=>{let e=r.S+r.C+r.A+r.P/2;for(let r of(t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.H(),t.font=this.ev(),i))if(r.weight<s){let i=r.needAlignCoordinate?this.Em(t,r.coord,r.label):r.coord;t.fillText(r.label,i,e)}for(let r of(this.Vp.N().timeScale.allowBoldLabels&&(t.font=this.Am()),i))if(r.weight>=s){let i=r.needAlignCoordinate?this.Em(t,r.coord,r.label):r.coord;t.fillText(r.label,i,e)}})}Em(t,e,i){let s=this.Fp.Vi(t,i),r=Math.floor(e-s/2)+.5;return r<0?e+=Math.abs(0-r):r+s>this.Op.width&&(e-=Math.abs(this.Op.width-(r+s))),e}Bm(t,e){let i=this.Rm();for(let s of t)for(let t of s.cs())t.Tt().nt(e,i)}Im(){return this.Vp.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}ev(){return sd(this.F(),this.Ps.fontFamily)}Am(){return sd(this.F(),this.Ps.fontFamily,"bold")}Rm(){null===this.M&&(this.M={S:1,L:NaN,A:NaN,V:NaN,Ji:NaN,C:5,P:NaN,k:"",Gi:new s$,Dm:0});let t=this.M,e=this.ev();if(t.k!==e){let i=this.F();t.P=i,t.k=e,t.A=3*i/12,t.V=3*i/12,t.Ji=9*i/12,t.L=0,t.Dm=4*i/12,t.Gi.Bn()}return this.M}vv(t){this.jf.style.cursor=1===t?"ew-resize":"default"}xm(){let t=this.Vp.Qt(),e=t.N();e.leftPriceScale.visible||null===this.pm||(this.Mm.removeChild(this.pm.Zf()),this.pm.m(),this.pm=null),e.rightPriceScale.visible||null===this.vm||(this.bm.removeChild(this.vm.Zf()),this.vm.m(),this.vm=null);let i={Bc:this.Vp.Qt().Bc()},s=()=>e.leftPriceScale.borderVisible&&t.Et().N().borderVisible,r=()=>t.Wc();e.leftPriceScale.visible&&null===this.pm&&(this.pm=new nT("left",e,i,s,r),this.Mm.appendChild(this.pm.Zf())),e.rightPriceScale.visible&&null===this.vm&&(this.vm=new nT("right",e,i,s,r),this.bm.appendChild(this.vm.Zf()))}}let nD=!!nh&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!nh&&(navigator?.userAgentData?.platform?"Windows"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf("win")>=0);class nV{constructor(t,e,i){var s;this.zm=[],this.Lm=[],this.Om=0,this.il=0,this.Mo=0,this.Nm=0,this.Fm=0,this.Wm=null,this.Hm=!1,this.xv=new si,this.Cv=new si,this.Xu=new si,this.Um=null,this.$m=null,this.Dp=t,this.Ps=e,this.o_=i,this.kp=document.createElement("div"),this.kp.classList.add("tv-lightweight-charts"),this.kp.style.overflow="hidden",this.kp.style.direction="ltr",this.kp.style.width="100%",this.kp.style.height="100%",(s=this.kp).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.qm=document.createElement("table"),this.qm.setAttribute("cellspacing","0"),this.kp.appendChild(this.qm),this.Ym=this.jm.bind(this),nI(this.Ps)&&this.Km(!0),this.ts=new r1(this.Gu.bind(this),this.Ps,i),this.Qt().cc().i(this.Xm.bind(this),this),this.Zm=new nB(this,this.o_),this.qm.appendChild(this.Zm.Zf());const r=e.autoSize&&this.Gm();let n=this.Ps.width,l=this.Ps.height;if(r||0===n||0===l){const e=t.getBoundingClientRect();n=n||e.width,l=l||e.height}this.Jm(n,l),this.Qm(),t.appendChild(this.kp),this.tw(),this.ts.Et().Iu().i(this.ts.Ih.bind(this.ts),this),this.ts.Vo().i(this.ts.Ih.bind(this.ts),this)}Qt(){return this.ts}N(){return this.Ps}$f(){return this.zm}iw(){return this.Zm}m(){for(let t of(this.Km(!1),0!==this.Om&&window.cancelAnimationFrame(this.Om),this.ts.cc().u(this),this.ts.Et().Iu().u(this),this.ts.Vo().u(this),this.ts.m(),this.zm))this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();for(let t of(this.zm=[],this.Lm))this.sw(t);this.Lm=[],st(this.Zm).m(),null!==this.kp.parentElement&&this.kp.parentElement.removeChild(this.kp),this.Xu.m(),this.xv.m(),this.Cv.m(),this.nw()}Jm(t,e,i=!1){var s;let r,n;if(this.il===e&&this.Mo===t)return;let l=(r=Math.floor((s=iK({width:t,height:e})).width),iK({width:r-r%2,height:(n=Math.floor(s.height))-n%2}));this.il=l.height,this.Mo=l.width;let h=this.il+"px",o=this.Mo+"px";st(this.kp).style.height=h,st(this.kp).style.width=o,this.qm.style.height=h,this.qm.style.width=o,i?this.ew(sB.gn(),performance.now()):this.ts.Ih()}lv(t){void 0===t&&(t=sB.gn());for(let e=0;e<this.zm.length;e++)this.zm[e].lv(t.en(e).tn);this.Ps.timeScale.visible&&this.Zm.lv(t.nn())}hr(t){let e=nI(this.Ps);this.ts.hr(t);let i=nI(this.Ps);i!==e&&this.Km(i),t.layout?.panes&&this.rw(),this.tw(),this.hw(t)}Xv(){return this.xv}Zv(){return this.Cv}cc(){return this.Xu}aw(t=!1){null!==this.Wm&&(this.ew(this.Wm,performance.now()),this.Wm=null);let e=this.lw(null),i=document.createElement("canvas");i.width=e.width,i.height=e.height;let s=st(i.getContext("2d"));return this.lw(s,t),i}ow(t){return("left"!==t||this._w())&&("right"!==t||this.uw())&&0!==this.zm.length?st("left"===t?this.zm[0].nm():this.zm[0].rm()).av():0}cw(){return this.Ps.autoSize&&null!==this.Um}ip(){return this.kp}dw(t){this.$m=t,this.$m?this.ip().style.setProperty("cursor",t):this.ip().style.removeProperty("cursor")}fw(){return this.$m}pw(t){return i7(this.zm[t]).Gf()}rw(){this.Lm.forEach(t=>{t.yt()})}hw(t){(void 0!==t.autoSize||!this.Um||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.Um&&this.Gm(),!1===t.autoSize&&null!==this.Um&&this.nw(),t.autoSize||void 0===t.width&&void 0===t.height||this.Jm(t.width||this.Mo,t.height||this.il))}lw(t,e){let i=0,s=0,r=this.zm[0],n=(i,s)=>{let r=0;for(let n=0;n<this.zm.length;n++){let l=this.zm[n],h=st("left"===i?l.nm():l.rm()),o=h.Jf();if(null!==t&&h.Qf(t,s,r,e),r+=o.height,n<this.zm.length-1){let e=this.Lm[n],i=e.Jf();null!==t&&e.Qf(t,s,r),r+=i.height}}};this._w()&&(n("left",0),i+=st(r.nm()).Jf().width);for(let r=0;r<this.zm.length;r++){let n=this.zm[r],l=n.Jf();if(null!==t&&n.Qf(t,i,s,e),s+=l.height,r<this.zm.length-1){let e=this.Lm[r],n=e.Jf();null!==t&&e.Qf(t,i,s),s+=n.height}}i+=r.Jf().width,this.uw()&&(n("right",i),i+=st(r.rm()).Jf().width);let l=(e,i,s)=>{st("left"===e?this.Zm.Cm():this.Zm.Pm()).Qf(st(t),i,s)};if(this.Ps.timeScale.visible){let i=this.Zm.Jf();if(null!==t){let n=0;this._w()&&(l("left",n,s),n=st(r.nm()).Jf().width),this.Zm.Qf(t,n,s,e),n+=i.width,this.uw()&&l("right",n,s)}s+=i.height}return iK({width:i,height:s})}mw(){var t,e,i;let s=0,r=0,n=0;for(let t of this.zm)this._w()&&(r=Math.max(r,st(t.nm()).nv(),this.Ps.leftPriceScale.minimumWidth)),this.uw()&&(n=Math.max(n,st(t.rm()).nv(),this.Ps.rightPriceScale.minimumWidth)),s+=t.Bo();r=(e=r)+e%2,n=(i=n)+i%2;let l=this.Mo,h=this.il,o=Math.max(l-r-n,0),a=+this.Lm.length,u=this.Ps.timeScale.visible,c=u?Math.max(this.Zm.Tm(),this.Ps.timeScale.minimumHeight):0,d=a+(c=(t=c)+t%2),f=h<d?0:h-d,p=f/s,m=0,g=window.devicePixelRatio||1;for(let t=0;t<this.zm.length;++t){let e=this.zm[t];e.Lv(this.ts.$s()[t]);let i=0;i=Math.max(t===this.zm.length-1?Math.ceil((f-m)*g)/g:Math.round(e.Bo()*p*g)/g,2),m+=i,e.hv(iK({width:o,height:i})),this._w()&&e.Jv(r,"left"),this.uw()&&e.Jv(n,"right"),e.ap()&&this.ts.dc(e.ap(),i)}this.Zm.km(iK({width:u?o:0,height:c}),u?r:0,u?n:0),this.ts.Eo(o),this.Nm!==r&&(this.Nm=r),this.Fm!==n&&(this.Fm=n)}Km(t){t?this.kp.addEventListener("wheel",this.Ym,{passive:!1}):this.kp.removeEventListener("wheel",this.Ym)}ww(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return nD?1/window.devicePixelRatio:1}jm(t){if(!(0!==t.deltaX&&this.Ps.handleScroll.mouseWheel||0!==t.deltaY&&this.Ps.handleScale.mouseWheel))return;let e=this.ww(t),i=e*t.deltaX/100,s=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==s&&this.Ps.handleScale.mouseWheel){let e=Math.sign(s)*Math.min(1,Math.abs(s)),i=t.clientX-this.kp.getBoundingClientRect().left;this.Qt().bc(i,e)}0!==i&&this.Ps.handleScroll.mouseWheel&&this.Qt().Sc(-80*i)}ew(t,e){let i=t.nn();3===i&&this.gw(),3!==i&&2!==i||(this.Mw(t),this.bw(t,e),this.Zm.yt(),this.zm.forEach(t=>{t.Nv()}),3===this.Wm?.nn()&&(this.Wm.vn(t),this.gw(),this.Mw(this.Wm),this.bw(this.Wm,e),t=this.Wm,this.Wm=null)),this.lv(t)}bw(t,e){for(let i of t.pn())this.mn(i,e)}Mw(t){let e=this.ts.$s();for(let i=0;i<e.length;i++)t.en(i).sn&&e[i].Go()}mn(t,e){let i=this.ts.Et();switch(t.an){case 0:i.Au();break;case 1:i.zu(t.Wt);break;case 2:i.dn(t.Wt);break;case 3:i.fn(t.Wt);break;case 4:i.Su();break;case 5:t.Wt.Ru(e)||i.fn(t.Wt.Du(e))}}Gu(t){null!==this.Wm?this.Wm.vn(t):this.Wm=t,this.Hm||(this.Hm=!0,this.Om=window.requestAnimationFrame(t=>{if(this.Hm=!1,this.Om=0,null!==this.Wm){let e=this.Wm;for(let i of(this.Wm=null,this.ew(e,t),e.pn()))if(5===i.an&&!i.Wt.Ru(t)){this.Qt()._n(i.Wt);break}}}))}gw(){this.Qm()}sw(t){this.qm.removeChild(t.Zf()),t.m()}Qm(){let t=this.ts.$s(),e=t.length,i=this.zm.length;for(let t=e;t<i;t++){let t=i7(this.zm.pop());this.qm.removeChild(t.Zf()),t.Xv().u(this),t.Zv().u(this),t.m();let e=this.Lm.pop();void 0!==e&&this.sw(e)}for(let s=i;s<e;s++){let e=new nz(this,t[s]);if(e.Xv().i(this.Sw.bind(this,e),this),e.Zv().i(this.xw.bind(this,e),this),this.zm.push(e),s>0){let t=new ng(this,s-1,s);this.Lm.push(t),this.qm.insertBefore(t.Zf(),this.Zm.Zf())}this.qm.insertBefore(e.Zf(),this.Zm.Zf())}for(let i=0;i<e;i++){let e=t[i],s=this.zm[i];s.ap()!==e?s.Lv(e):s.zv()}this.tw(),this.mw()}Cw(t,e,i,s){let r,n=new Map;if(null!==t&&this.ts.js().forEach(e=>{let i=e.Xs().Fr(t);null!==i&&n.set(e,i)}),null!==t){let e=this.ts.Et().ss(t)?.originalTime;void 0!==e&&(r=e)}let l=this.Qt().ac(),h=null!==l&&l.n_ instanceof rk?l.n_:void 0,o=null!==l&&void 0!==l.e_?l.e_.Kn:void 0,a=this.Pw(s);return{yw:r,Re:t??void 0,kw:e??void 0,Tw:-1!==a?a:void 0,Rw:h,Dw:n,Vw:o,Bw:i??void 0}}Pw(t){let e=-1;if(t)e=this.zm.indexOf(t);else{let t=this.Qt().uc().Us();null!==t&&(e=this.Qt().$s().indexOf(t))}return e}Sw(t,e,i,s){this.xv.p(()=>this.Cw(e,i,s,t))}xw(t,e,i,s){this.Cv.p(()=>this.Cw(e,i,s,t))}Xm(t,e,i){this.dw(this.Qt().ac()?.h_??null),this.Xu.p(()=>this.Cw(t,e,i))}tw(){let t=this.Ps.timeScale.visible?"":"none";this.Zm.Zf().style.display=t}_w(){return this.zm[0].ap().Wo().N().visible}uw(){return this.zm[0].ap().Ho().N().visible}Gm(){return"ResizeObserver"in window&&(this.Um=new ResizeObserver(t=>{let e=t[t.length-1];e&&this.Jm(e.contentRect.width,e.contentRect.height)}),this.Um.observe(this.Dp,{box:"border-box"}),!0)}nw(){null!==this.Um&&this.Um.disconnect(),this.Um=null}}function nI(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function nY(t,e,i,s){let r=i.value,n={Re:e,wt:t,Wt:[r,r,r,r],yw:s};return void 0!==i.color&&(n.R=i.color),n}function nU(t,e,i,s){let r=i.value,n={Re:e,wt:t,Wt:[r,r,r,r],yw:s};return void 0!==i.lineColor&&(n.vt=i.lineColor),void 0!==i.topColor&&(n.mr=i.topColor),void 0!==i.bottomColor&&(n.wr=i.bottomColor),n}function nW(t,e,i,s){let r=i.value,n={Re:e,wt:t,Wt:[r,r,r,r],yw:s};return void 0!==i.topLineColor&&(n.gr=i.topLineColor),void 0!==i.bottomLineColor&&(n.Mr=i.bottomLineColor),void 0!==i.topFillColor1&&(n.br=i.topFillColor1),void 0!==i.topFillColor2&&(n.Sr=i.topFillColor2),void 0!==i.bottomFillColor1&&(n.Cr=i.bottomFillColor1),void 0!==i.bottomFillColor2&&(n.Pr=i.bottomFillColor2),n}function n$(t,e,i,s){let r={Re:e,wt:t,Wt:[i.open,i.high,i.low,i.close],yw:s};return void 0!==i.color&&(r.R=i.color),r}function nq(t,e,i,s){let r={Re:e,wt:t,Wt:[i.open,i.high,i.low,i.close],yw:s};return void 0!==i.color&&(r.R=i.color),void 0!==i.borderColor&&(r.Ht=i.borderColor),void 0!==i.wickColor&&(r.vr=i.wickColor),r}function nJ(t,e,i,s,r){let n=i7(r)(i),l=Math.max(...n),h=Math.min(...n),o=n[n.length-1],{time:a,color:u,...c}=i;return{Re:e,wt:t,Wt:[o,l,h,o],yw:s,se:c,R:u}}function nH(t){return void 0!==t.Wt}function nQ(t,e){return void 0!==e.customValues&&(t.Iw=e.customValues),t}function nG(t){return(e,i,s,r,n,l)=>(l?l(s):void 0===s.open&&void 0===s.value)?nQ({wt:e,Re:i,yw:r},s):nQ(t(e,i,s,r,n),s)}function nX(t){return({Candlestick:nG(nq),Bar:nG(n$),Area:nG(nU),Baseline:nG(nW),Histogram:nG(nY),Line:nG(nY),Custom:nG(nJ)})[t]}function nK(t){return{Re:0,Ew:new Map,Hh:t}}function nZ(t,e){if(void 0!==t&&0!==t.length)return{Aw:e.key(t[0].wt),zw:e.key(t[t.length-1].wt)}}function n0(t){let e;return t.forEach(t=>{void 0===e&&(e=t.yw)}),i7(e)}class n1{constructor(t){this.Lw=new Map,this.Ow=new Map,this.Nw=new Map,this.Fw=[],this.o_=t}m(){this.Lw.clear(),this.Ow.clear(),this.Nw.clear(),this.Fw=[]}Ww(t,e){let i=0!==this.Lw.size,s=!1,r=this.Ow.get(t);if(void 0!==r)if(1===this.Ow.size)i=!1,s=!0,this.Lw.clear();else for(let e of this.Fw)e.pointData.Ew.delete(t)&&(s=!0);let n=[];if(0!==e.length){let i=e.map(t=>t.time),r=this.o_.createConverterToInternalObj(e),l=nX(t.Rr()),h=t.ca(),o=t.fa();n=e.map((e,n)=>{let a=r(e.time),u=this.o_.key(a),c=this.Lw.get(u);void 0===c&&(c=nK(a),this.Lw.set(u,c),s=!0);let d=l(a,c.Re,e,i[n],h,o);return c.Ew.set(t,d),d})}i&&this.Hw(),this.Uw(t,n);let l=-1;if(s){let t=[];this.Lw.forEach(e=>{t.push({timeWeight:0,time:e.Hh,pointData:e,originalTime:n0(e.Ew)})}),t.sort((t,e)=>this.o_.key(t.time)-this.o_.key(e.time)),l=this.$w(t)}return this.qw(t,l,function(t,e,i){let s=nZ(t,i),r=nZ(e,i);if(void 0!==s&&void 0!==r)return{Yw:!1,zh:s.zw>=r.zw&&s.Aw>=r.Aw}}(this.Ow.get(t),r,this.o_))}Ac(t){return this.Ww(t,[])}jw(t,e,i){void 0===e.yw&&(e.yw=e.time),this.o_.preprocessData(e);let s=this.o_.createConverterToInternalObj([e])(e.time),r=this.Nw.get(t);if(!i&&void 0!==r&&this.o_.key(s)<this.o_.key(r))throw Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let n=this.Lw.get(this.o_.key(s));if(i&&void 0===n)throw Error("Cannot update non-existing data point when historicalUpdate is true");let l=void 0===n;void 0===n&&(n=nK(s),this.Lw.set(this.o_.key(s),n));let h=nX(t.Rr()),o=t.ca(),a=t.fa(),u=h(s,n.Re,e,e.yw,o,a);n.Ew.set(t,u),i?this.Kw(t,u,n.Re):this.Xw(t,u);let c={zh:nH(u),Yw:i};if(!l)return this.qw(t,-1,c);let d={timeWeight:0,time:n.Hh,pointData:n,originalTime:n0(n.Ew)},f=ri(this.Fw,this.o_.key(d.time),(t,e)=>this.o_.key(t.time)<e);this.Fw.splice(f,0,d);for(let t=f;t<this.Fw.length;++t)n2(this.Fw[t].pointData,t);return this.o_.fillWeightsForPoints(this.Fw,f),this.qw(t,f,c)}Zw(t,e){let i=this.Ow.get(t);if(void 0===i||e<=0)return[[],this.Gw()];e=Math.min(e,i.length);let s=i.splice(-e).reverse();for(let e of(0===i.length?this.Nw.delete(t):this.Nw.set(t,i[i.length-1].wt),s)){let i=this.Lw.get(this.o_.key(e.wt));if(i&&(i.Ew.delete(t),0===i.Ew.size)){this.Lw.delete(this.o_.key(i.Hh)),this.Fw.splice(i.Re,1);for(let t=i.Re;t<this.Fw.length;++t)n2(this.Fw[t].pointData,t)}}return[s,this.qw(t,this.Fw.length-1,{Yw:!1,zh:!1})]}Xw(t,e){let i=this.Ow.get(t);void 0===i&&(i=[],this.Ow.set(t,i));let s=0!==i.length?i[i.length-1]:null;null===s||this.o_.key(e.wt)>this.o_.key(s.wt)?nH(e)&&i.push(e):nH(e)?i[i.length-1]=e:i.splice(-1,1),this.Nw.set(t,e.wt)}Kw(t,e,i){let s=this.Ow.get(t);if(void 0===s)return;let r=ri(s,i,(t,e)=>t.Re<e);nH(e)?s[r]=e:s.splice(r,1)}Uw(t,e){0!==e.length?(this.Ow.set(t,e.filter(nH)),this.Nw.set(t,e[e.length-1].wt)):(this.Ow.delete(t),this.Nw.delete(t))}Hw(){for(let t of this.Fw)0===t.pointData.Ew.size&&this.Lw.delete(this.o_.key(t.time))}$w(t){let e=-1;for(let i=0;i<this.Fw.length&&i<t.length;++i){let s=this.Fw[i],r=t[i];if(this.o_.key(s.time)!==this.o_.key(r.time)){e=i;break}r.timeWeight=s.timeWeight,n2(r.pointData,i)}if(-1===e&&this.Fw.length!==t.length&&(e=Math.min(this.Fw.length,t.length)),-1===e)return -1;for(let i=e;i<t.length;++i)n2(t[i].pointData,i);return this.o_.fillWeightsForPoints(t,e),this.Fw=t,e}Jw(){if(0===this.Ow.size)return null;let t=0;return this.Ow.forEach(e=>{0!==e.length&&(t=Math.max(t,e[e.length-1].Re))}),t}qw(t,e,i){let s=this.Gw();if(-1!==e)this.Ow.forEach((e,r)=>{s.Oo.set(r,{se:e,Qw:r===t?i:void 0})}),this.Ow.has(t)||s.Oo.set(t,{se:[],Qw:i}),s.Et.tg=this.Fw,s.Et.ig=e;else{let e=this.Ow.get(t);s.Oo.set(t,{se:e||[],Qw:i})}return s}Gw(){return{Oo:new Map,Et:{_u:this.Jw()}}}}function n2(t,e){t.Re=e,t.Ew.forEach(t=>{t.Re=e})}function n5(t,e){return t.wt<e}function n3(t,e){return e<t.wt}class n4{constructor(t,e,i){this.sg=!0,this.ng=!0,this.eg=!0,this.rg=[],this.hg=null,this.Jn=t,this.Qn=e,this.ag=i}yt(t){this.sg=!0,"data"===t&&(this.ng=!0),"options"===t&&(this.eg=!0)}Tt(){return this.Jn.Vt()?(this.lg(),null===this.hg?null:this.og):null}_g(){this.rg=this.rg.map(t=>({...t,...this.Jn.Rh().Dr(t.wt)}))}ug(){this.hg=null}lg(){this.ng&&(this.cg(),this.ng=!1),this.eg&&(this._g(),this.eg=!1),this.sg&&(this.dg(),this.sg=!1)}dg(){let t=this.Jn.Ft(),e=this.Qn.Et();if(this.ug(),e.Ki()||t.Ki())return;let i=e.Pe();if(null===i||0===this.Jn.Xs().zr())return;let s=this.Jn.zt();null!==s&&(this.hg=function(t,e,i){let s=e.Uh(),r=e.bi(),n=ri(t,s,n5),l=rs(t,r,n3);if(!i)return{from:n,to:l};let h=n,o=l;return n>0&&n<t.length&&t[n].wt>=s&&(h=n-1),l>0&&l<t.length&&t[l-1].wt<=r&&(o=l+1),{from:h,to:o}}(this.rg,i,this.ag),this.fg(t,e,s.Wt),this.pg())}}class n8{constructor(t,e){this.vg=t,this.Yi=e}nt(t,e,i){this.vg.draw(t,this.Yi,e,i)}}class n6 extends n4{constructor(t,e,i){super(t,e,!1),this.sh=i,this.og=new n8(this.sh.renderer(),e=>{let i=t.zt();return null===i?null:t.Ft().Nt(e,i.Wt)})}da(t){return this.sh.priceValueBuilder(t)}pa(t){return this.sh.isWhitespace(t)}cg(){let t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(e=>({wt:e.Re,_t:NaN,...t.Dr(e.Re),mg:e.se}))}fg(t,e){e.uu(this.rg,su(this.hg))}pg(){this.sh.update({bars:this.rg.map(n9),barSpacing:this.Qn.Et().mu(),visibleRange:this.hg},this.Jn.N())}}function n9(t){return{x:t._t,time:t.wt,originalData:t.mg,barColor:t.cr}}let n7={color:"#2196f3"},lt=(t,e,i)=>new n6(t,e,se(i));function le(t){let e={value:t.Wt[3],time:t.yw};return void 0!==t.Iw&&(e.customValues=t.Iw),e}function li(t){let e=le(t);return void 0!==t.R&&(e.color=t.R),e}function ls(t){let e=le(t);return void 0!==t.vt&&(e.lineColor=t.vt),void 0!==t.mr&&(e.topColor=t.mr),void 0!==t.wr&&(e.bottomColor=t.wr),e}function lr(t){let e=le(t);return void 0!==t.gr&&(e.topLineColor=t.gr),void 0!==t.Mr&&(e.bottomLineColor=t.Mr),void 0!==t.br&&(e.topFillColor1=t.br),void 0!==t.Sr&&(e.topFillColor2=t.Sr),void 0!==t.Cr&&(e.bottomFillColor1=t.Cr),void 0!==t.Pr&&(e.bottomFillColor2=t.Pr),e}function ln(t){let e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.yw};return void 0!==t.Iw&&(e.customValues=t.Iw),e}function ll(t){let e=ln(t);return void 0!==t.R&&(e.color=t.R),e}function lh(t){let e=ln(t),{R:i,Ht:s,vr:r}=t;return void 0!==i&&(e.color=i),void 0!==s&&(e.borderColor=s),void 0!==r&&(e.wickColor=r),e}function lo(t){return({Area:ls,Line:li,Baseline:lr,Histogram:li,Bar:ll,Candlestick:lh,Custom:la})[t]}function la(t){let e=t.yw;return{...t.se,time:e}}let lu={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},lc={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},ld={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:sc,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},lf={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},lp={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1};function lm(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:ld,crosshair:lu,grid:lc,overlayPriceScales:{...lf},leftPriceScale:{...lf,visible:!1},rightPriceScale:{...lf,visible:!0},timeScale:lp,localization:{locale:nh?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class lg{constructor(t,e,i){this.Hf=t,this.wg=e,this.gg=i??0}applyOptions(t){this.Hf.Qt().oc(this.wg,t,this.gg)}options(){return this.Yi().N()}width(){return sA(this.wg)?this.Hf.ow(this.wg):0}setVisibleRange(t){this.setAutoScale(!1),this.Yi().Fl(new s5(t.from,t.to))}getVisibleRange(){let t,e,i=this.Yi().Qe();if(null===i)return null;if(this.Yi().Ja()){let s=this.Yi().fo(),r=r2(s);t=Number((Math.round((i=rL(i,this.Yi().tl())).$e()/s)*s).toFixed(r)),e=Number((Math.round(i.qe()/s)*s).toFixed(r))}else t=i.$e(),e=i.qe();return{from:t,to:e}}setAutoScale(t){this.applyOptions({autoScale:t})}Yi(){return st(this.Hf.Qt()._c(this.wg,this.gg)).Ft}}class lb{constructor(t,e,i,s){this.Hf=t,this.Pt=i,this.Mg=e,this.bg=s}getHeight(){return this.Pt.$t()}setHeight(t){let e=this.Hf.Qt(),i=e.Uc(this.Pt);e.vc(i,t)}getStretchFactor(){return this.Pt.Bo()}setStretchFactor(t){this.Pt.Io(t),this.Hf.Qt().Ih()}paneIndex(){return this.Hf.Qt().Uc(this.Pt)}moveTo(t){let e=this.paneIndex();e!==t&&(i9(t>=0&&t<this.Hf.$f().length,"Invalid pane index"),this.Hf.Qt().wc(e,t))}getSeries(){return this.Pt.Oo().map(t=>this.Mg(t))??[]}getHTMLElement(){let t=this.Hf.$f();return t&&0!==t.length&&t[this.paneIndex()]?t[this.paneIndex()].Zf():null}attachPrimitive(t){this.Pt._a(t),t.attached&&t.attached({chart:this.bg,requestUpdate:()=>this.Pt.Qt().Ih()})}detachPrimitive(t){this.Pt.ua(t)}priceScale(t){if(null===this.Pt.Do(t))throw Error(`Cannot find price scale with id: ${t}`);return new lg(this.Hf,t,this.paneIndex())}setPreserveEmptyPane(t){this.Pt.zo(t)}preserveEmptyPane(){return this.Pt.Lo()}addCustomSeries(t,e={},i=0){return this.bg.addCustomSeries(t,e,i)}addSeries(t,e={}){return this.bg.addSeries(t,e,this.paneIndex())}}let lv={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class lx{constructor(t){this.ir=t}applyOptions(t){this.ir.hr(t)}options(){return this.ir.N()}Sg(){return this.ir}}class lw{constructor(t,e,i,s,r,n){this.xg=new si,this.Jn=t,this.Cg=e,this.Pg=i,this.o_=r,this.bg=s,this.yg=n}m(){this.xg.m()}priceFormatter(){return this.Jn.ea()}priceToCoordinate(t){let e=this.Jn.zt();return null===e?null:this.Jn.Ft().Nt(t,e.Wt)}coordinateToPrice(t){let e=this.Jn.zt();return null===e?null:this.Jn.Ft().Ts(t,e.Wt)}barsInLogicalRange(t){if(null===t)return null;let e=new rK(new rQ(t.from,t.to)).y_(),i=this.Jn.Xs();if(i.Ki())return null;let s=i.Fr(e.Uh(),1),r=i.Fr(e.bi(),-1),n=st(i.Lr()),l=st(i.Ks());if(null!==s&&null!==r&&s.Re>r.Re)return{barsBefore:t.from-n,barsAfter:l-t.to};let h={barsBefore:null===s||s.Re===n?t.from-n:s.Re-n,barsAfter:null===r||r.Re===l?l-t.to:l-r.Re};return null!==s&&null!==r&&(h.from=s.yw,h.to=r.yw),h}setData(t){this.o_,this.Jn.Rr(),this.Cg.kg(this.Jn,t),this.Tg("full")}update(t,e=!1){this.Jn.Rr(),this.Cg.Rg(this.Jn,t,e),this.Tg("update")}pop(t=1){let e=this.Cg.Dg(this.Jn,t);0!==e.length&&this.Tg("update");let i=lo(this.seriesType());return e.map(t=>i(t))}dataByIndex(t,e){let i=this.Jn.Xs().Fr(t,e);return null===i?null:lo(this.seriesType())(i)}data(){let t=lo(this.seriesType());return this.Jn.Xs().Hr().map(e=>t(e))}subscribeDataChanged(t){this.xg.i(t)}unsubscribeDataChanged(t){this.xg._(t)}applyOptions(t){this.Jn.hr(t)}options(){return so(this.Jn.N())}priceScale(){return this.Pg.priceScale(this.Jn.Ft().ma(),this.getPane().paneIndex())}createPriceLine(t){let e=ss(so(lv),t);return new lx(this.Jn.Oh(e))}removePriceLine(t){this.Jn.Nh(t.Sg())}priceLines(){return this.Jn.Fh().map(t=>new lx(t))}seriesType(){return this.Jn.Rr()}lastValueData(t){let e=this.Jn.ye(t);return e.ke?{noData:!0}:{noData:!1,price:e.gt,color:e.R}}attachPrimitive(t){this.Jn._a(t),t.attached&&t.attached({chart:this.bg,series:this,requestUpdate:()=>this.Jn.Qt().Ih(),horzScaleBehavior:this.o_})}detachPrimitive(t){this.Jn.ua(t),t.detached&&t.detached(),this.Jn.Qt().Ih()}getPane(){let t=this.Jn,e=st(this.Jn.Qt().Hn(t));return this.yg(e)}moveToPane(t){this.Jn.Qt().Nc(this.Jn,t)}seriesOrder(){let t=this.Jn.Qt().Hn(this.Jn);return null===t?-1:t.Oo().indexOf(this.Jn)}setSeriesOrder(t){let e=this.Jn.Qt().Hn(this.Jn);null!==e&&e.Qo(this.Jn,t)}Tg(t){this.xg.v()&&this.xg.p(t)}}class ly{constructor(t,e,i){this.Vg=new si,this.z_=new si,this.gm=new si,this.ts=t,this.uh=t.Et(),this.Zm=e,this.uh.Vu().i(this.Bg.bind(this)),this.uh.Bu().i(this.Ig.bind(this)),this.Zm.ym().i(this.Eg.bind(this)),this.o_=i}m(){this.uh.Vu().u(this),this.uh.Bu().u(this),this.Zm.ym().u(this),this.Vg.m(),this.z_.m(),this.gm.m()}scrollPosition(){return this.uh.gu()}scrollToPosition(t,e){e?this.uh.Tu(t,1e3):this.ts.fn(t)}scrollToRealTime(){this.uh.ku()}getVisibleRange(){let t=this.uh.nu();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){let e={from:this.o_.convertHorzItemToInternal(t.from),to:this.o_.convertHorzItemToInternal(t.to)},i=this.uh.au(e);this.ts.Lc(i)}getVisibleLogicalRange(){let t=this.uh.su();return null===t?null:{from:t.Uh(),to:t.bi()}}setVisibleLogicalRange(t){i9(t.from<=t.to,"The from index cannot be after the to index."),this.ts.Lc(t)}resetTimeScale(){this.ts.cn()}fitContent(){this.ts.Au()}logicalToCoordinate(t){let e=this.ts.Et();return e.Ki()?null:e.qt(t)}coordinateToLogical(t){return this.uh.Ki()?null:this.uh.cu(t)}timeToIndex(t,e){let i=this.o_.convertHorzItemToInternal(t);return this.uh.Q_(i,e)}timeToCoordinate(t){let e=this.timeToIndex(t,!1);return null===e?null:this.uh.qt(e)}coordinateToTime(t){let e=this.ts.Et(),i=e.cu(t),s=e.ss(i);return null===s?null:s.originalTime}width(){return this.Zm.Gf().width}height(){return this.Zm.Gf().height}subscribeVisibleTimeRangeChange(t){this.Vg.i(t)}unsubscribeVisibleTimeRangeChange(t){this.Vg._(t)}subscribeVisibleLogicalRangeChange(t){this.z_.i(t)}unsubscribeVisibleLogicalRangeChange(t){this.z_._(t)}subscribeSizeChange(t){this.gm.i(t)}unsubscribeSizeChange(t){this.gm._(t)}applyOptions(t){this.uh.hr(t)}options(){return{...so(this.uh.N()),barSpacing:this.uh.mu()}}Bg(){this.Vg.v()&&this.Vg.p(this.getVisibleRange())}Ig(){this.z_.v()&&this.z_.p(this.getVisibleLogicalRange())}Eg(t){this.gm.p(t.width,t.height)}}function lk(t){return function(t){if(sh(t.handleScale)){let e=t.handleScale;t.handleScale={axisDoubleClickReset:{time:e,price:e},axisPressedMouseMove:{time:e,price:e},mouseWheel:e,pinch:e}}else if(void 0!==t.handleScale){let{axisPressedMouseMove:e,axisDoubleClickReset:i}=t.handleScale;sh(e)&&(t.handleScale.axisPressedMouseMove={time:e,price:e}),sh(i)&&(t.handleScale.axisDoubleClickReset={time:i,price:i})}let e=t.handleScroll;sh(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(t),t}class lS{constructor(t,e,i){this.Ag=new Map,this.zg=new Map,this.Lg=new si,this.Og=new si,this.Ng=new si,this.qu=new WeakMap,this.Fg=new n1(e);const s=void 0===i?so(lm()):ss(so(lm()),lk(i));this.Wg=e,this.Hf=new nV(t,s,e),this.Hf.Xv().i(t=>{this.Lg.v()&&this.Lg.p(this.Hg(t()))},this),this.Hf.Zv().i(t=>{this.Og.v()&&this.Og.p(this.Hg(t()))},this),this.Hf.cc().i(t=>{this.Ng.v()&&this.Ng.p(this.Hg(t()))},this);const r=this.Hf.Qt();this.Ug=new ly(r,this.Hf.iw(),this.Wg)}remove(){this.Hf.Xv().u(this),this.Hf.Zv().u(this),this.Hf.cc().u(this),this.Ug.m(),this.Hf.m(),this.Ag.clear(),this.zg.clear(),this.Lg.m(),this.Og.m(),this.Ng.m(),this.Fg.m()}resize(t,e,i){this.autoSizeActive()||this.Hf.Jm(t,e,i)}addCustomSeries(t,e={},i=0){let s,r=(s=se(t),{type:"Custom",isBuiltIn:!1,defaultOptions:{...n7,...s.defaultOptions()},$g:lt,qg:s});return this.Yg(r,e,i)}addSeries(t,e={},i=0){return this.Yg(t,e,i)}removeSeries(t){let e=i7(this.Ag.get(t)),i=this.Fg.Ac(e);this.Hf.Qt().Ac(e),this.jg(i),this.Ag.delete(t),this.zg.delete(e)}kg(t,e){this.jg(this.Fg.Ww(t,e))}Rg(t,e,i){this.jg(this.Fg.jw(t,e,i))}Dg(t,e){let[i,s]=this.Fg.Zw(t,e);return 0!==i.length&&this.jg(s),i}subscribeClick(t){this.Lg.i(t)}unsubscribeClick(t){this.Lg._(t)}subscribeCrosshairMove(t){this.Ng.i(t)}unsubscribeCrosshairMove(t){this.Ng._(t)}subscribeDblClick(t){this.Og.i(t)}unsubscribeDblClick(t){this.Og._(t)}priceScale(t,e=0){return new lg(this.Hf,t,e)}timeScale(){return this.Ug}applyOptions(t){this.Hf.hr(lk(t))}options(){return this.Hf.N()}takeScreenshot(t=!1,e=!1){let i,s;try{e||(i=this.Hf.Qt().N().crosshair.mode,this.Hf.hr({crosshair:{mode:2}})),s=this.Hf.aw(t)}finally{e||void 0===i||this.Hf.Qt().hr({crosshair:{mode:i}})}return s}addPane(t=!1){let e=this.Hf.Qt().$c();return e.zo(t),this.Kg(e)}removePane(t){this.Hf.Qt().fc(t)}swapPanes(t,e){this.Hf.Qt().mc(t,e)}autoSizeActive(){return this.Hf.cw()}chartElement(){return this.Hf.ip()}panes(){return this.Hf.Qt().$s().map(t=>this.Kg(t))}paneSize(t=0){let e=this.Hf.pw(t);return{height:e.height,width:e.width}}setCrosshairPosition(t,e,i){let s=this.Ag.get(i);if(void 0===s)return;let r=this.Hf.Qt().Hn(s);null!==r&&this.Hf.Qt().Rc(t,e,r)}clearCrosshairPosition(){this.Hf.Qt().Dc(!0)}horzBehaviour(){return this.Wg}Yg(t,e={},i=0){var s;i9(void 0!==t.$g),void 0===(s=e.priceFormat)||"custom"===s.type||void 0!==s.minMove&&void 0===s.precision&&(s.precision=r2(s.minMove)),"Candlestick"===t.type&&(void 0!==e.borderColor&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),void 0!==e.wickColor&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor));let r=ss(so(i4),so(t.defaultOptions),e),n=t.$g,l=new rk(this.Hf.Qt(),t.type,r,n,t.qg);this.Hf.Qt().Ic(l,i);let h=new lw(l,this,this,this,this.Wg,t=>this.Kg(t));return this.Ag.set(h,l),this.zg.set(l,h),h}jg(t){let e=this.Hf.Qt();e.Vc(t.Et._u,t.Et.tg,t.Et.ig),t.Oo.forEach((t,e)=>e.ht(t.se,t.Qw)),e.Et().K_(),e.vu()}Xg(t){return i7(this.zg.get(t))}Hg(t){let e=new Map;t.Dw.forEach((t,i)=>{let s=i.Rr(),r=lo(s)(t);if("Custom"!==s){var n;i9(void 0!==(n=r).open||void 0!==n.value)}else{let t=i.fa();i9(!t||!1===t(r))}e.set(this.Xg(i),r)});let i=void 0!==t.Rw&&this.zg.has(t.Rw)?this.Xg(t.Rw):void 0;return{time:t.yw,logical:t.Re,point:t.kw,paneIndex:t.Tw,hoveredSeries:i,hoveredObjectId:t.Vw,seriesData:e,sourceEvent:t.Bw}}Kg(t){let e=this.qu.get(t);return e||(e=new lb(this.Hf,t=>this.Xg(t),t,this),this.qu.set(t,e)),e}}function l_(t,e){var i,s;let r;return i=new nl,s=nl.ld(e),r=new lS(function(t){if(sl(t)){let e=document.getElementById(t);return i9(null!==e,`Cannot find element in DOM with id=${t}`),e}return t}(t),i,s),i.setOptions(r.options()),r}class lM extends n4{constructor(t,e){super(t,e,!0)}fg(t,e,i){e.uu(this.rg,su(this.hg)),t.Ul(this.rg,i,su(this.hg))}Zg(t,e){return{wt:t,gt:e,_t:NaN,ut:NaN}}cg(){let t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(e=>{let i=e.Wt[3];return this.Gg(e.Re,i,t)})}}function lE(t,e,i,s,r,n,l){if(0===e.length||s.from>=e.length||s.to<=0)return;let{context:h,horizontalPixelRatio:o,verticalPixelRatio:a}=t,u=e[s.from],c=n(t,u),d=u;if(s.to-s.from<2){let e=r/2;h.beginPath();let i={_t:u._t-e,ut:u.ut},s={_t:u._t+e,ut:u.ut};h.moveTo(i._t*o,i.ut*a),h.lineTo(s._t*o,s.ut*a),l(t,c,i,s)}else{let r=(e,i)=>{l(t,c,d,i),h.beginPath(),c=e,d=i},f=d;h.beginPath(),h.moveTo(u._t*o,u.ut*a);for(let l=s.from+1;l<s.to;++l){let s=n(t,f=e[l]);switch(i){case 0:h.lineTo(f._t*o,f.ut*a);break;case 1:h.lineTo(f._t*o,e[l-1].ut*a),s!==c&&(r(s,f),h.lineTo(f._t*o,e[l-1].ut*a)),h.lineTo(f._t*o,f.ut*a);break;case 2:{let[t,i]=function(t,e,i){var s,r;let n=Math.max(0,e-1),l=Math.min(t.length-1,i+1);return[(s=t[e],r=lC(lN(t[i],t[n]),6),{_t:s._t+r._t,ut:s.ut+r.ut}),lN(t[i],lC(lN(t[l],t[e]),6))]}(e,l-1,l);h.bezierCurveTo(t._t*o,t.ut*a,i._t*o,i.ut*a,f._t*o,f.ut*a)}}1!==i&&s!==c&&(r(s,f),h.moveTo(f._t*o,f.ut*a))}(d!==f||d===f&&1===i)&&l(t,c,d,f)}}function lN(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function lC(t,e){return{_t:t._t/e,ut:t.ut/e}}function lP(t,e){let i=t.context;i.strokeStyle=e,i.stroke()}class lj extends sv{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;let{ot:e,lt:i,Jg:s,Qg:r,ct:n,Xt:l,tM:h}=this.rt;if(null===i)return;let o=t.context;o.lineCap="butt",o.lineWidth=n*t.verticalPixelRatio,i8(o,l),o.lineJoin="round";let a=this.iM.bind(this);void 0!==r&&lE(t,e,r,i,s,a,lP),h&&function(t,e,i,s,r){if(s.to-s.from<=0)return;let{horizontalPixelRatio:n,verticalPixelRatio:l,context:h}=t,o=null,a=Math.max(1,Math.floor(n))%2/2,u=i*l+a;for(let i=s.to-1;i>=s.from;--i){let s=e[i];if(s){let e=r(t,s);e!==o&&(h.beginPath(),null!==o&&h.fill(),h.fillStyle=e,o=e);let i=Math.round(s._t*n)+a,c=s.ut*l;h.moveTo(i,c),h.arc(i,c,u,0,2*Math.PI)}}h.fill()}(t,e,h,i,a)}}class lR extends lj{iM(t,e){return e.vt}}function lz(t,e,i,s,r){let{context:n,horizontalPixelRatio:l,verticalPixelRatio:h}=e;n.lineTo(r._t*l,t*h),n.lineTo(s._t*l,t*h),n.closePath(),n.fillStyle=i,n.fill()}class lT extends sv{constructor(){super(...arguments),this.rt=null}ht(t){this.rt=t}et(t){if(null===this.rt)return;let{ot:e,lt:i,Jg:s,ct:r,Xt:n,Qg:l}=this.rt,h=this.rt.lM??(this.rt.oM?0:t.mediaSize.height);if(null===i)return;let o=t.context;o.lineCap="butt",o.lineJoin="round",o.lineWidth=r,i8(o,n),o.lineWidth=1,lE(t,e,l,i,s,this._M.bind(this),lz.bind(null,h))}}class lO{uM(t,e){let i=this.cM,{dM:s,fM:r,pM:n,vM:l,lM:h,mM:o,wM:a}=e;if(void 0===this.gM||void 0===i||i.dM!==s||i.fM!==r||i.pM!==n||i.vM!==l||i.lM!==h||i.mM!==o||i.wM!==a){let{verticalPixelRatio:i}=t,u=h||o>0?i:1,c=o*u,d=a===t.bitmapSize.height?a:a*u,f=t.context.createLinearGradient(0,c,0,d);if(f.addColorStop(0,s),null!=h){let t=rE(((h??0)*u-c)/(d-c),0,1);f.addColorStop(t,r),f.addColorStop(t,n)}f.addColorStop(1,l),this.gM=f,this.cM=e}return this.gM}}class lF extends lT{constructor(){super(...arguments),this.MM=new lO}_M(t,e){return this.MM.uM(t,{dM:e.mr,fM:"",pM:"",vM:e.wr,mM:this.rt?.mM??0,wM:t.bitmapSize.height})}}class lL extends lM{constructor(t,e){super(t,e),this.og=new sb,this.CM=new lF,this.PM=new lR,this.og.st([this.CM,this.PM])}Gg(t,e,i){return{...this.Zg(t,e),...i.Dr(t)}}pg(){let t,e=this.Jn.N();if(null!==this.hg&&0!==this.rg.length){if(e.relativeGradient){t=this.rg[this.hg.from].ut;for(let e=this.hg.from;e<this.hg.to;e++){let i=this.rg[e];i.ut<t&&(t=i.ut)}}this.CM.ht({Qg:e.lineType,ot:this.rg,Xt:e.lineStyle,ct:e.lineWidth,lM:null,mM:t,oM:e.invertFilledArea,lt:this.hg,Jg:this.Qn.Et().mu()}),this.PM.ht({Qg:e.lineVisible?e.lineType:void 0,ot:this.rg,Xt:e.lineStyle,ct:e.lineWidth,lt:this.hg,Jg:this.Qn.Et().mu(),tM:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0})}}}let lA={type:"Area",isBuiltIn:!0,defaultOptions:{topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,relativeGradient:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},$g:(t,e)=>new lL(t,e)};class lB extends n4{constructor(t,e){super(t,e,!1)}fg(t,e,i){e.uu(this.rg,su(this.hg)),t.ql(this.rg,i,su(this.hg))}VM(t,e,i){return{wt:t,qh:e.Wt[0],Yh:e.Wt[1],jh:e.Wt[2],Kh:e.Wt[3],_t:NaN,Yl:NaN,jl:NaN,Kl:NaN,Xl:NaN}}cg(){let t=this.Jn.Rh();this.rg=this.Jn.Xs().Hr().map(e=>this.Gg(e.Re,e,t))}}class lD extends sv{constructor(){super(...arguments),this.Yt=null,this.yM=0}ht(t){this.Yt=t}et(t){if(null===this.Yt||0===this.Yt.Xs.length||null===this.Yt.lt)return;let{horizontalPixelRatio:e}=t;this.yM=function(t,e){if(t>=2.5&&t<=4)return Math.floor(3*e);let i=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),s=Math.min(Math.floor(t*i*e),Math.floor(t*e));return Math.max(Math.floor(e),s)}(this.Yt.mu,e),this.yM>=2&&Math.floor(e)%2!=this.yM%2&&this.yM--;let i=this.Yt.Xs;this.Yt.BM&&this.IM(t,i,this.Yt.lt),this.Yt.Mi&&this.uv(t,i,this.Yt.lt);let s=this.EM(e);(!this.Yt.Mi||this.yM>2*s)&&this.AM(t,i,this.Yt.lt)}IM(t,e,i){if(null===this.Yt)return;let{context:s,horizontalPixelRatio:r,verticalPixelRatio:n}=t,l="",h=Math.min(Math.floor(r),Math.floor(this.Yt.mu*r)),o=Math.floor(.5*(h=Math.max(Math.floor(r),Math.min(h,this.yM)))),a=null;for(let t=i.from;t<i.to;t++){let i=e[t];i.pr!==l&&(s.fillStyle=i.pr,l=i.pr);let u=Math.round(Math.min(i.Yl,i.Xl)*n),c=Math.round(Math.max(i.Yl,i.Xl)*n),d=Math.round(i.jl*n),f=Math.round(i.Kl*n),p=Math.round(r*i._t)-o,m=p+h-1;null!==a&&(p=Math.min(p=Math.max(a+1,p),m));let g=m-p+1;s.fillRect(p,d,g,u-d),s.fillRect(p,c+1,g,f-c),a=m}}EM(t){let e=Math.floor(+t);this.yM<=2*e&&(e=Math.floor(.5*(this.yM-1)));let i=Math.max(Math.floor(t),e);return this.yM<=2*i?Math.max(Math.floor(t),Math.floor(+t)):i}uv(t,e,i){if(null===this.Yt)return;let{context:s,horizontalPixelRatio:r,verticalPixelRatio:n}=t,l="",h=this.EM(r),o=null;for(let t=i.from;t<i.to;t++){let i=e[t];i.dr!==l&&(s.fillStyle=i.dr,l=i.dr);let d=Math.round(i._t*r)-Math.floor(.5*this.yM),f=d+this.yM-1,p=Math.round(Math.min(i.Yl,i.Xl)*n),m=Math.round(Math.max(i.Yl,i.Xl)*n);if(null!==o&&(d=Math.min(d=Math.max(o+1,d),f)),this.Yt.mu*r>2*h){var a,u,c;a=d,u=f-d+1,c=m-p+1,s.fillRect(a+h,p,u-2*h,h),s.fillRect(a+h,p+c-h,u-2*h,h),s.fillRect(a,p,h,c),s.fillRect(a+u-h,p,h,c)}else{let t=f-d+1;s.fillRect(d,p,t,m-p+1)}o=f}}AM(t,e,i){if(null===this.Yt)return;let{context:s,horizontalPixelRatio:r,verticalPixelRatio:n}=t,l="",h=this.EM(r);for(let t=i.from;t<i.to;t++){let i=e[t],o=Math.round(Math.min(i.Yl,i.Xl)*n),a=Math.round(Math.max(i.Yl,i.Xl)*n),u=Math.round(i._t*r)-Math.floor(.5*this.yM),c=u+this.yM-1;if(i.cr!==l){let t=i.cr;s.fillStyle=t,l=t}this.Yt.Mi&&(u+=h,o+=h,c-=h,a-=h),o>a||s.fillRect(u,o,c-u+1,a-o+1)}}}class lV extends lB{constructor(){super(...arguments),this.og=new lD}Gg(t,e,i){return{...this.VM(t,e,i),...i.Dr(t)}}pg(){let t=this.Jn.N();this.og.ht({Xs:this.rg,mu:this.Qn.Et().mu(),BM:t.wickVisible,Mi:t.borderVisible,lt:this.hg})}}let lI={type:"Candlestick",isBuiltIn:!0,defaultOptions:{upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},$g:(t,e)=>new lV(t,e)};({...i4,color:"#2196f3"});let lY=F("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),lU=F("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),lW=({statusData:t})=>{let e=(0,j.useRef)(null),i=(0,j.useRef)(null),s=(0,j.useRef)(null),[r,n]=(0,j.useState)(!0),[l,h]=(0,j.useState)("M15"),[o,a]=(0,j.useState)("XAUUSD"),u=(0,j.useRef)(null),c=(0,j.useRef)(null),d=(0,j.useRef)(null),f=async()=>{try{let t=await eV.get(`/chart_data?symbol=${o}&timeframe=${l}`),e=t.data?.data||t.data?.rates||[];if(e.length>0&&s.current){let t=e.map(t=>({time:"string"==typeof t.time?Math.floor(new Date(t.time).getTime()/1e3):t.time,open:t.open,high:t.high,low:t.low,close:t.close})).sort((t,e)=>t.time-e.time);s.current.setData(t);let r=`chart_view_${o}_${l}`,n=localStorage.getItem(r);if(n)try{let{from:t,to:e}=JSON.parse(n);t&&e&&i.current?.timeScale().setVisibleRange({from:t,to:e})}catch{i.current?.timeScale().fitContent()}else i.current?.timeScale().fitContent()}}catch(t){console.error("Fetch Chart Data Failed",t)}};return(0,j.useEffect)(()=>{let t;if(!e.current)return;let r=l_(e.current,{layout:{background:{type:N.Solid,color:"transparent"},textColor:"rgba(255, 255, 255, 0.4)",fontFamily:"'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', sans-serif",fontSize:11},grid:{vertLines:{visible:!0,color:"rgba(255, 255, 255, 0.03)"},horzLines:{visible:!0,color:"rgba(255, 255, 255, 0.03)"}},width:e.current.clientWidth,height:e.current.clientHeight,timeScale:{borderVisible:!1,timeVisible:!0,secondsVisible:!1},rightPriceScale:{borderVisible:!1,scaleMargins:{top:.05,bottom:.05},autoScale:!0,mode:0},crosshair:{mode:y.Magnet,vertLine:{color:"rgba(255, 255, 255, 0.15)",width:1,style:2,labelBackgroundColor:"rgba(28, 28, 30, 0.95)"},horzLine:{color:"rgba(255, 255, 255, 0.15)",width:1,style:2,labelBackgroundColor:"rgba(28, 28, 30, 0.95)"}},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),n=r.addSeries(lI,{upColor:"#30D158",downColor:"#FF453A",borderVisible:!1,wickUpColor:"#30D158",wickDownColor:"#FF453A"});i.current=r,s.current=n,f();let h=()=>{e.current&&r.applyOptions({width:e.current.clientWidth,height:e.current.clientHeight})};window.addEventListener("resize",h);let a=new ResizeObserver(()=>h());a.observe(e.current);let u=`chart_view_${o}_${l}`;return r.timeScale().subscribeVisibleTimeRangeChange(()=>{clearTimeout(t),t=setTimeout(()=>{try{let t=r.timeScale().getVisibleRange();t&&localStorage.setItem(u,JSON.stringify(t))}catch(t){}},500)}),()=>{clearTimeout(t),window.removeEventListener("resize",h),a.disconnect(),r.remove()}},[l,o]),(0,j.useEffect)(()=>{if(!s.current||!t)return;let e=s.current;if(u.current&&(e.removePriceLine(u.current),u.current=null),c.current&&(e.removePriceLine(c.current),c.current=null),d.current&&(e.removePriceLine(d.current),d.current=null),r&&t.positions){let i=t.positions.find(t=>t.symbol===o);i&&(d.current=e.createPriceLine({price:parseFloat(i.price_open),color:"#FFFFFF",lineWidth:1,lineStyle:w.Dotted,axisLabelVisible:!0,title:"ENTRY"}),i.tp>0&&(u.current=e.createPriceLine({price:parseFloat(i.tp),color:"#30D158",lineWidth:2,lineStyle:w.Dashed,axisLabelVisible:!0,title:"TP"})),i.sl>0&&(c.current=e.createPriceLine({price:parseFloat(i.sl),color:"#FF453A",lineWidth:2,lineStyle:w.Dashed,axisLabelVisible:!0,title:"SL"})))}},[t,r,o]),(0,P.jsxs)("div",{className:"flex flex-col h-full bg-[#050505] relative",children:[(0,P.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5 bg-[#050505]/80 backdrop-blur-xl z-10",children:[(0,P.jsxs)("div",{className:"flex items-center gap-2",children:[(0,P.jsx)("div",{className:"flex bg-black/20 p-1 rounded-lg border border-white/5",children:["M1","M5","M15","H1"].map(t=>(0,P.jsx)("button",{onClick:()=>h(t),className:`px-3 py-1 rounded-md text-[10px] font-bold transition-all ${l===t?"bg-white/10 text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:t},t))}),(0,P.jsx)("div",{className:"h-4 w-px bg-white/10 mx-1"}),(0,P.jsx)("span",{className:"text-xs font-bold text-gray-400",children:o})]}),(0,P.jsxs)("div",{className:"flex items-center gap-1 pr-1",children:[(0,P.jsx)("button",{onClick:()=>n(!r),className:`p-1.5 rounded-full transition-colors ${r?"bg-[#30D158]/20 text-[#30D158]":"text-gray-500 hover:text-white"}`,title:"Toggle TP/SL Lines",children:(0,P.jsx)(lY,{size:14})}),(0,P.jsx)("button",{onClick:f,className:"p-1.5 text-gray-400 hover:text-white rounded-full hover:bg-white/5 active:scale-95 transition-all",children:(0,P.jsx)(lU,{size:14})})]})]}),(0,P.jsxs)("div",{className:"absolute top-16 right-6 z-20 flex items-center gap-2 px-3 py-1.5 rounded-full bg-black/40 backdrop-blur-md border border-white/5",children:[(0,P.jsxs)("div",{className:"relative flex h-2 w-2",children:[(0,P.jsx)("span",{className:"absolute inline-flex h-full w-full rounded-full bg-[#30D158] opacity-75 animate-ping"}),(0,P.jsx)("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-[#30D158]"})]}),(0,P.jsx)("span",{className:"text-[9px] font-bold text-[#30D158]",children:"LIVE DATA"})]}),(0,P.jsx)("div",{className:"flex-1 relative w-full h-full",ref:e,children:(0,P.jsx)("div",{className:"absolute top-4 left-4 z-20 flex flex-col gap-1 pointer-events-none",children:(0,P.jsx)("div",{className:"text-2xl font-bold font-mono text-white tracking-tighter",children:t?.price?t.price.toFixed(2):"---"})})})]})},l$=({data:t,color:e="#30D158",showGrid:i=!1})=>{let s=(0,j.useRef)(null),r=(0,j.useRef)(null);return(0,j.useEffect)(()=>{if(!s.current)return;let n=l_(s.current,{layout:{background:{type:N.Solid,color:"transparent"},textColor:"rgba(255, 255, 255, 0.4)",fontFamily:"'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Inter', sans-serif",fontSize:10},grid:{vertLines:{visible:i,color:"rgba(255, 255, 255, 0.03)"},horzLines:{visible:i,color:"rgba(255, 255, 255, 0.03)"}},width:s.current.clientWidth,height:s.current.clientHeight,timeScale:{borderVisible:!1,timeVisible:!0,secondsVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},crosshair:{mode:y.Magnet,vertLine:{color:"rgba(255, 255, 255, 0.2)",width:1,style:2,labelBackgroundColor:"rgba(28, 28, 30, 0.9)"},horzLine:{color:"rgba(255, 255, 255, 0.2)",width:1,style:2,labelBackgroundColor:"rgba(28, 28, 30, 0.9)"}},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:!0,axisDoubleClickReset:!0},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0}}),l="#30D158"===e||e.toLowerCase().includes("30d158")?"rgba(48, 209, 88, 0.4)":e.replace(")",", 0.4)").replace("rgb","rgba"),h=n.addSeries(lA,{lineColor:e,topColor:l,bottomColor:"rgba(0, 0, 0, 0)",lineWidth:2,lineType:2,priceLineVisible:!1,lastValueVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"#ffffff",crosshairMarkerBackgroundColor:e}),o=[...t].map(t=>({time:"string"==typeof t.time?Math.floor(new Date(t.time).getTime()/1e3):t.time,value:t.value})).filter(t=>!isNaN(t.time)&&t.time>0).sort((t,e)=>t.time-e.time);o.length>0&&(h.setData(o),n.timeScale().fitContent()),r.current=n;let a=()=>{s.current&&n.applyOptions({width:s.current.clientWidth,height:s.current.clientHeight})};window.addEventListener("resize",a);let u=new ResizeObserver(()=>a());return u.observe(s.current),()=>{window.removeEventListener("resize",a),u.disconnect(),n.remove()}},[t,e,i]),(0,P.jsx)("div",{ref:s,className:"w-full h-full relative",style:{"--tw-opacity":1}})},lq=({isEngineRunning:t})=>{let[e,i]=(0,j.useState)(null),[s,r]=(0,j.useState)(!0);(0,j.useEffect)(()=>{eV.get("/analytics").then(t=>i(t.data)).catch(console.error).finally(()=>r(!1))},[]);let n=(0,j.useMemo)(()=>{if(!e?.equity_curve)return[];let t=e.equity_curve;return Array.isArray(t.equity)?t.equity.map((e,i)=>({time:t.times?t.times[i]:i,value:e})):[]},[e]);return(0,P.jsxs)("div",{className:"pt-8 pb-28 px-5 h-full bg-transparent overflow-y-auto no-scrollbar",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Analytics"}),(0,P.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full border border-white/10 bg-[#1c1c1e]/40 backdrop-blur-md shadow-sm",children:[(0,P.jsx)("div",{className:`w-1.5 h-1.5 rounded-full animate-pulse ${t?"bg-[#30D158]":"bg-[#FFD60A]"}`}),(0,P.jsx)("span",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest",children:t?"Active":"Standby"})]})]}),s?(0,P.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):(0,P.jsxs)("div",{className:"animate-in slide-in-from-bottom-4 duration-700 fade-in",children:[(0,P.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[(0,P.jsxs)(iV,{className:"p-3 flex flex-col justify-between h-20 active:scale-[0.98] transition-transform",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest truncate",children:"Win Rate"}),(0,P.jsxs)("div",{className:"text-xl font-bold text-white font-mono",children:[e?.win_rate?.toFixed(1)||"0.0","%"]})]}),(0,P.jsxs)(iV,{className:"p-3 flex flex-col justify-between h-20 active:scale-[0.98] transition-transform",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest truncate",children:"Factor"}),(0,P.jsx)("div",{className:"text-xl font-bold text-white font-mono",children:e?.profit_factor?.toFixed(2)||"0.00"})]}),(0,P.jsxs)(iV,{className:"p-3 flex flex-col justify-between h-20 active:scale-[0.98] transition-transform",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest truncate",children:"Sharpe"}),(0,P.jsx)("div",{className:"text-xl font-bold text-white font-mono",children:e?.sharpe_ratio?.toFixed(2)||"0.00"})]})]}),(0,P.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,P.jsxs)(iV,{className:"p-3 flex flex-col justify-between h-20 active:scale-[0.98] transition-transform",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest truncate",children:"Drawdown"}),(0,P.jsxs)("div",{className:"text-xl font-bold text-white font-mono",children:[e?.max_drawdown?.toFixed(1)||"0.0","%"]})]}),(0,P.jsxs)(iV,{className:"p-3 flex flex-col justify-between h-20 col-span-2 active:scale-[0.98] transition-transform",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 uppercase font-bold tracking-widest truncate",children:"Total Profit"}),(0,P.jsxs)("div",{className:`text-xl font-bold font-mono ${!e||e.total_profit>=0?"text-[#30D158]":"text-[#FF453A]"}`,children:[e?.total_profit>=0?"+":"",e?.total_profit?.toFixed(2)||"0.00"]})]})]}),(0,P.jsx)("div",{className:"rounded-3xl p-[1px] relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(48, 209, 88, 0.3) 0%, transparent 50%, rgba(10, 132, 255, 0.2) 100%)"},children:(0,P.jsxs)("div",{className:"rounded-3xl p-6 h-[360px] flex flex-col relative overflow-hidden",style:{background:"rgba(28, 28, 30, 0.8)",backdropFilter:"blur(40px) saturate(180%)"},children:[(0,P.jsxs)("div",{className:"flex justify-between items-center mb-4 z-10",children:[(0,P.jsxs)("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[(0,P.jsx)(A,{size:14,className:"text-[#30D158]"}),"Equity Curve"]}),(0,P.jsx)("span",{className:"text-[9px] font-bold text-gray-500 uppercase tracking-wider",children:"All Time"})]}),(0,P.jsx)("div",{className:"flex-1 w-full",children:(0,P.jsx)(l$,{data:n,color:"#30D158"})})]})})]})]})},lJ=F("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),lH=F("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),lQ=()=>{let[t,e]=(0,j.useState)([]),[i,s]=(0,j.useState)(!0);(0,j.useEffect)(()=>{(async()=>{try{let t=await eV.get("/history"),i=t.data.trades||(Array.isArray(t.data)?t.data:[]);if(Array.isArray(i)){let t=i.sort((t,e)=>new Date(e.time).getTime()-new Date(t.time).getTime());e(t)}}catch(t){console.error(t)}finally{s(!1)}})()},[]);let r=t.reduce((t,e)=>t+(e.profit||0),0),n=t.length,l=t.reduce((t,e)=>t+(e.commission||0)+(e.swap||0),0);return(0,P.jsxs)("div",{className:"pt-8 pb-28 px-5 h-full bg-transparent overflow-y-auto no-scrollbar",children:[(0,P.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,P.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"History"})}),(0,P.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-8 animate-in slide-in-from-bottom-4 duration-500",children:[(0,P.jsxs)(iV,{className:"p-3 flex flex-col items-center justify-center text-center min-h-[72px]",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:"Net Profit"}),(0,P.jsxs)("div",{className:`text-base sm:text-lg font-bold font-mono truncate w-full ${r>=0?"text-[#30D158]":"text-[#FF453A]"}`,children:[r>=0?"+":"",r>=1e3||r<=-1e3?`$${r.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`:`$${r.toFixed(2)}`]})]}),(0,P.jsxs)(iV,{className:"p-3 flex flex-col items-center justify-center text-center min-h-[72px]",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:"Trades"}),(0,P.jsx)("div",{className:"text-base sm:text-lg font-bold text-white font-mono",children:n.toLocaleString()})]}),(0,P.jsxs)(iV,{className:"p-3 flex flex-col items-center justify-center text-center min-h-[72px]",children:[(0,P.jsx)("div",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-wider mb-1",children:"Fees"}),(0,P.jsx)("div",{className:"text-base sm:text-lg font-bold text-[#FF453A] font-mono truncate w-full",children:l>=1e3?`$${l.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}`:`$${l.toFixed(2)}`})]})]}),(0,P.jsx)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest mb-4 pl-1",children:"Recent Executions"}),(0,P.jsx)("div",{className:"space-y-3",children:i?(0,P.jsx)("div",{className:"flex justify-center py-12",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===t.length?(0,P.jsx)("div",{className:"text-center text-gray-600 py-12 text-sm",children:"No trading history found."}):t.map((t,e)=>(0,P.jsxs)("div",{className:"rounded-2xl p-4 flex justify-between items-center group active:scale-[0.97] transition-all duration-200 animate-in slide-in-from-bottom-2 cursor-pointer hover:bg-white/[0.03]",style:{animationDelay:`${30*e}ms`,background:"rgba(28, 28, 30, 0.6)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.04)"},children:["                            ",(0,P.jsxs)("div",{className:"flex items-center gap-4",children:[(0,P.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border ${"BUY"===t.type?(t.profit,"bg-[#30D158]/10 border-[#30D158]/20 text-[#30D158]"):(t.profit,"bg-[#FF453A]/10 border-[#FF453A]/20 text-[#FF453A]")}`,children:"BUY"===t.type?(0,P.jsx)(lJ,{size:20}):(0,P.jsx)(lH,{size:20})}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,P.jsx)("span",{className:"text-base font-bold text-white tracking-tight",children:t.symbol}),(0,P.jsx)("span",{className:"text-[9px] bg-[#2c2c2e] text-gray-400 px-1.5 py-0.5 rounded border border-white/5 uppercase font-medium",children:"CLOSED"})]}),(0,P.jsxs)("div",{className:"text-[10px] text-gray-500 font-mono",children:[(0,P.jsx)("span",{className:"BUY"===t.type?"text-[#30D158]":"text-[#FF453A]",children:t.type}),(0,P.jsx)("span",{className:"mx-1.5 opacity-30",children:"|"}),(0,P.jsxs)("span",{children:[t.volume||"0.10"," @ ",t.price||"0.00"]})]})]})]}),(0,P.jsxs)("div",{className:"text-right",children:[(0,P.jsxs)("div",{className:`text-base font-bold font-mono tracking-tight ${t.profit>=0?"text-[#30D158]":"text-[#FF453A]"}`,children:[t.profit>=0?"+":"","$",t.profit.toFixed(2)]}),(0,P.jsx)("div",{className:"text-[10px] text-gray-600 font-mono mt-0.5",children:new Date(t.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]})]},e))})]})},lG=({checked:t,onChange:e})=>(0,P.jsx)("button",{onClick:()=>e(!t),className:`w-11 h-6 rounded-full transition-colors relative duration-300 ${t?"bg-[#30D158]":"bg-[#3a3a3c]"}`,children:(0,P.jsx)("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-sm transition-transform duration-300 ${t?"translate-x-[20px]":"translate-x-0"}`})}),lX=()=>{let[t,e]=(0,j.useState)(null),[i,s]=(0,j.useState)(!0);(0,j.useEffect)(()=>{eV.get("/config").then(t=>e(t.data)).catch(console.error).finally(()=>s(!1))},[]);let r=(t,i)=>{e(e=>({...e,[t]:i}))},n=async()=>{try{await eV.post("/config",t),alert("Configuration Saved")}catch(t){alert("Failed to save configuration")}};return i||!t?(0,P.jsx)("div",{className:"p-10 text-center text-gray-500",children:"Loading Configuration..."}):(0,P.jsxs)("div",{className:"pt-8 pb-32 px-5 h-full bg-transparent overflow-y-auto no-scrollbar",children:[(0,P.jsxs)("div",{className:"mb-8",children:[(0,P.jsx)("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"Configuration"}),(0,P.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Agent & Trading Parameters"})]}),(0,P.jsxs)("div",{className:"space-y-6",children:[(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Trading Setup"}),(0,P.jsxs)(iV,{className:"p-5 space-y-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Symbol"}),(0,P.jsx)(iI,{value:t.symbol||"XAUUSD",onChange:t=>r("symbol",t.target.value),className:"w-full font-mono",placeholder:"XAUUSD"}),(0,P.jsx)("div",{className:"text-[9px] text-gray-500 mt-1",children:"Comma-separated for multiple (e.g., XAUUSD,EURUSD)"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Timeframe"}),(0,P.jsx)("div",{className:"flex gap-2",children:["M1","M5","M15","M30","H1","H4","D1"].map(e=>(0,P.jsx)("button",{onClick:()=>r("timeframe",e),className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all ${t.timeframe===e?"bg-white/15 text-white border border-white/20":"bg-white/5 text-gray-500 border border-transparent hover:bg-white/10"}`,children:e},e))})]})]})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Position Sizing"}),(0,P.jsxs)(iV,{className:"p-5 space-y-4",children:[(0,P.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,P.jsx)("button",{onClick:()=>r("sizing_mode","fixed"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${"risk"!==t.sizing_mode?"bg-[#0A84FF] text-white":"bg-white/5 text-gray-400"}`,children:"Fixed Lot"}),(0,P.jsx)("button",{onClick:()=>r("sizing_mode","risk"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-all ${"risk"===t.sizing_mode?"bg-[#0A84FF] text-white":"bg-white/5 text-gray-400"}`,children:"Risk %"})]}),(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)("div",{className:"risk"===t.sizing_mode?"opacity-30":"",children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Lot Size"}),(0,P.jsx)(iI,{type:"number",step:"0.01",value:t.lot_size||.01,onChange:t=>r("lot_size",parseFloat(t.target.value)),className:"w-full text-right font-mono",disabled:"risk"===t.sizing_mode})]}),(0,P.jsxs)("div",{className:"risk"!==t.sizing_mode?"opacity-30":"",children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Risk %"}),(0,P.jsx)(iI,{type:"number",step:"0.1",value:t.risk||1,onChange:t=>r("risk",parseFloat(t.target.value)),className:"w-full text-right font-mono",disabled:"risk"!==t.sizing_mode})]})]})]})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Smart Entry"}),(0,P.jsx)(iV,{className:"p-5 space-y-4",children:(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Max Spread (points)"}),(0,P.jsx)(iI,{type:"number",value:t.max_spread||500,onChange:t=>r("max_spread",parseInt(t.target.value)),className:"w-full text-right font-mono"}),(0,P.jsx)("div",{className:"text-[9px] text-gray-500 mt-1",children:"Only enter when spread is below this. Recommended: 30-50 for FX, 100-200 for Gold"})]})})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Risk Management"}),(0,P.jsx)(iV,{className:"p-5 space-y-4",children:(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Max Daily Loss ($)"}),(0,P.jsx)(iI,{type:"number",value:t.max_daily_loss||500,onChange:t=>r("max_daily_loss",parseFloat(t.target.value)),className:"w-full text-right font-mono"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Min Equity Guard ($)"}),(0,P.jsx)(iI,{type:"number",value:t.min_equity||0,onChange:t=>r("min_equity",parseFloat(t.target.value)),className:"w-full text-right font-mono"})]})]})})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"News Filter"}),(0,P.jsxs)(iV,{className:"p-5 space-y-4",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"text-sm font-bold text-white",children:"News Filter"}),(0,P.jsx)("div",{className:"text-[10px] text-gray-400",children:"Block trades during high-impact news"})]}),(0,P.jsx)(lG,{checked:t.news_filter||!1,onChange:t=>r("news_filter",t)})]}),(0,P.jsxs)("div",{className:t.news_filter?"":"opacity-30",children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"News Buffer (minutes)"}),(0,P.jsx)(iI,{type:"number",value:t.news_buffer||30,onChange:t=>r("news_buffer",parseInt(t.target.value)),className:"w-full text-right font-mono",disabled:!t.news_filter}),(0,P.jsx)("div",{className:"text-[9px] text-gray-500 mt-1",children:"Time before/after news to block trades"})]})]})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Trailing Stop"}),(0,P.jsxs)(iV,{className:"p-5 space-y-4",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"text-sm font-bold text-white",children:"Trailing Stop"}),(0,P.jsx)("div",{className:"text-[10px] text-gray-400",children:"Dynamic SL that follows price"})]}),(0,P.jsx)(lG,{checked:t.trailing_enabled||!1,onChange:t=>r("trailing_enabled",t)})]}),(0,P.jsxs)("div",{className:t.trailing_enabled?"":"opacity-30",children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Trailing Distance (points)"}),(0,P.jsx)(iI,{type:"number",value:t.trailing_distance||50,onChange:t=>r("trailing_distance",parseInt(t.target.value)),className:"w-full text-right font-mono",disabled:!t.trailing_enabled})]})]})]}),(0,P.jsxs)("section",{children:[(0,P.jsx)("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.15em] mb-3 ml-1",children:"Partial Close"}),(0,P.jsxs)(iV,{className:"p-5 space-y-4",children:[(0,P.jsxs)("div",{className:"flex justify-between items-center",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:"text-sm font-bold text-white",children:"Partial Close"}),(0,P.jsx)("div",{className:"text-[10px] text-gray-400",children:"Secure profits at TP1"})]}),(0,P.jsx)(lG,{checked:t.partial_close_enabled||!1,onChange:t=>r("partial_close_enabled",t)})]}),(0,P.jsxs)("div",{className:t.partial_close_enabled?"":"opacity-30",children:[(0,P.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"TP1 Distance (points)"}),(0,P.jsx)(iI,{type:"number",value:t.tp1_distance||50,onChange:t=>r("tp1_distance",parseInt(t.target.value)),className:"w-full text-right font-mono",disabled:!t.partial_close_enabled})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("label",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1 block",children:"Close %"}),(0,P.jsx)(iI,{type:"number",value:t.partial_close_percent||50,onChange:t=>r("partial_close_percent",parseInt(t.target.value)),className:"w-full text-right font-mono",disabled:!t.partial_close_enabled})]})]}),(0,P.jsx)("div",{className:"text-[9px] text-gray-500 mt-2",children:"Close % of position at TP1, move SL to break-even"})]})]})]}),(0,P.jsx)(iY,{onClick:n,className:"mb-4",children:"Save Configuration"}),(0,P.jsx)("button",{onClick:()=>{eV.post("/logout",{}).catch(()=>{}),localStorage.removeItem("token"),window.location.reload()},className:"w-full py-3 rounded-2xl text-sm font-bold text-[#FF453A] bg-[#FF453A]/10 border border-[#FF453A]/20 hover:bg-[#FF453A]/20 transition-colors mb-8",children:"Log Out"})]})]})};function lK(){let[t,e]=(0,j.useState)(()=>!!localStorage.getItem("token")),[i,s]=(0,j.useState)(!0),[r,n]=(0,j.useState)("dashboard"),[l,h]=(0,j.useState)(!1),[o,a]=(0,j.useState)(null);(0,j.useEffect)(()=>{s(!1);let t=setInterval(u,2e3);return()=>clearInterval(t)},[]);let u=async()=>{try{if(!localStorage.getItem("token"))return;let t=await eV.get("/status");t.data&&(h(t.data.running),a(t.data))}catch(t){}},c=async t=>{try{await eV.post(t?"/start":"/stop",{}),h(t),u()}catch(t){alert(t.response?.data?.message||"Command Failed")}};return i?(0,P.jsx)("div",{className:"h-screen w-screen flex items-center justify-center bg-[#000000]",children:(0,P.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white/30"})}):t?(0,P.jsxs)("main",{className:"relative h-screen w-screen overflow-hidden bg-background text-white selection:bg-primary/30",children:[(0,P.jsx)("div",{className:"absolute inset-0 pb-20",children:(0,P.jsxs)(i$,{children:["dashboard"===r&&(0,P.jsx)(iX,{isEngineRunning:l,toggleEngine:c,statusData:o,refreshStatus:u}),"chart"===r&&(0,P.jsx)(lW,{statusData:o}),"analytics"===r&&(0,P.jsx)(lq,{isEngineRunning:l}),"history"===r&&(0,P.jsx)(lQ,{}),"settings"===r&&(0,P.jsx)(lX,{})]})}),(0,P.jsx)(I,{activeTab:r,onSwitch:n})]}):(0,P.jsx)(iU,{onLogin:()=>e(!0)})}t.s(["default",()=>lK],73233)}]);